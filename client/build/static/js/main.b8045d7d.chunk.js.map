{"version":3,"sources":["components/templates/Footer.js","components/utils/Button.js","redux/actions/toast.action.js","config.js","utils/axios.js","redux/actions/loader.action.js","redux/actions/board.action.js","redux/actions/user.action.js","redux/reducer/user.reducer.js","redux/reducer/board.reducer.js","redux/reducer/toast.reducer.js","redux/actions/redirect.action.js","redux/actions/modal.action.js","redux/reducer/modal.reducer.js","redux/reducer/rootReducer.js","redux/reducer/loader.reducer.js","redux/reducer/redirect.reducer.js","redux/store.js","utils/utils.js","components/utils/Dropdown.js","components/utils/Modal.js","utils/socket.js","components/templates/modal/Notifications.js","components/templates/dropdown/ProfilMenu.js","components/templates/Header.js","components/templates/PageTemplate.js","components/templates/modal/CreateBoard.jsx","components/templates/board/BoardItem.js","pages/Home.js","assets/images/Logo.svg","components/layouts/AuthWrapper.js","pages/Auth/Login.js","components/utils/Loader.js","pages/Auth/Register.js","components/templates/dropdown/InviteMember.js","pages/BoardError.js","components/templates/dropdown/PrivateOrPublic.js","components/templates/EmojiPicker.js","components/templates/ContentEditable.js","components/layouts/CategoryTitle.js","components/templates/dropdown/BoardMenu.js","components/templates/board/AddList.js","components/templates/dropdown/AssignMember.js","components/layouts/UserDisplay.js","components/templates/modal/CardModal/Description.js","components/templates/modal/CardModal/Attachments.js","components/templates/board/CommentBox.js","components/templates/modal/CardModal/Comments.js","components/templates/board/CardLabel.js","components/templates/dropdown/Label.js","components/templates/dropdown/PicturePicker.js","components/templates/modal/CardModal.js","components/templates/modal/ModalManager.js","components/templates/board/CardItem.js","components/templates/board/Placeholder.js","components/templates/board/ListItem.js","components/templates/board/ListManager.js","pages/Board.js","components/routes/PrivateRoute.js","router/index.js","components/templates/PageLoader.js","components/utils/Toast.js","components/templates/ToastManager.js","socket/socketManager.js","App.js","index.js"],"names":["Footer","props","button","cursor","Button","children","type","onClick","className","style","PUSH_TOAST","REMOVE_TOAST","CLEAR_TOAST","API_URL","axios","create","baseURL","responseType","LOADING","END_LOADING","loading","dispatch","payload","endLoading","CREATE_BOARD","GET_BOARD","GET_ALL_BOARD_BY_USERID","CLEAN_CURRENTBOARD","JOIN_BOARD","CHANGE_STATE","BAN_MEMBER","CHANGE_DESCRIPTION","ADD_LIST","LEAVE_BOARD","DELETE_BOARD","ADD_CARD","DELETE_LIST","RENAME_LIST","REORDER_LIST","ASSIGN_MEMBER","CHANGE_CARD_TITLE","CHANGE_CARD_DESCRIPTION","ADD_CARD_LABEL","DELETE_CARD_LABEL","CHANGE_CARD_PICTURE","getAllBoardByUserID","userID","get","then","res","boards","data","catch","err","console","log","reorderList","listsReorder","boardID","a","currentUser","store","getState","userReducer","LOGIN","REMEMBER_ME","ADD_NOTIFICATION","DELETE_NOTIFICATION","deleteNotification","notificationID","boardIDRequested","deleteNotifObject","post","initialState","currentBoard","REDIRECT","CLEAR_REDIRECT","OPEN_MODAL","CLOSE_MODAL","modalName","combineReducers","state","action","notifications","userIndex","findIndex","invit","_id","filter","notif","boardReducer","currentBoardIndex","board","user","members","map","push","NOT_MEMBER","document","location","reload","isPrivate","memberBannedID","member","description","isEmpty","lists","listCreated","list","listID","cards","cardCreated","name","rename","forEach","card","cardID","assignedMembers","title","cardTitle","labels","label","labelID","picture","loaderReducer","toastReducer","toastID","toast","id","includes","redirectReducer","modalReducer","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","value","undefined","Object","keys","length","trim","setRememberMeCookie","token","Cookies","set","maxAge","errorsManager","error","addToast","icon","info","uuid","setTimeout","pushToast","clearToastByTypes","clearToast","warningToast","message","successToast","getPicturePath","model","image","removeHtmlStyle","html","replaceAll","closeOnClickOutside","ref","setIsOpen","window","addEventListener","e","current","contains","target","getDraggedDom","draggableID","querySelector","cutMongooseTimestampInDate","mongooseTimestamp","noFormatDate","years","substring","monthNum","monthLetter","dayNum","dayLetter","hour","DropDown","contentRef","contentClass","allowsRef","isOpen","isResponsive","maxWidthResponsive","isVertical","top","right","bottom","left","topResponsive","rightResponsive","bottomResponsive","leftResponsive","dropdownContentRef","useRef","currentRef","isBreakPoint","useMediaQuery","query","useState","contentSize","setContentSize","heightOrWidth","defaultStyle","transition","transitionStyles","entering","entered","exiting","exited","useEffect","getBoundingClientRect","height","width","handleCloseDropDown","removeEventListener","Transition","unmountOnExit","in","timeout","Modal","hasCloseButton","hasOverflowYScroll","hasChoiceButton","btnConfirmMessage","btnConfirmIcon","confirmMessage","confirmFunction","isOpenContent","setIsOpenContent","modalRef","useDispatch","handleCloseModal","CSSTransition","classNames","appear","onEntered","onExit","onExited","alignItems","io","Notifications","useSelector","textAlign","marginTop","joinBoardObject","socket","emit","handleJoinBoard","ProfilMenu","isOpenNotification","setIsOpenNotification","useCookies","removeCookie","fontSize","path","Header","isHeaderBoard","boardName","isOpenSearchBar","setIsOpenSearchBar","isOpenProfilMenu","setIsOpenProfilMenu","test","setTest","to","minWidth","viewBox","fill","xmlns","d","maxWidth","placeholder","src","alt","pseudo","PageTemplate","pageTitle","hasHeader","isLoading","ModalCreateBoard","picturePreview","setPicturePreview","owner","newBoard","setNewBoard","handleChangePicture","files","pictureFile","URL","createObjectURL","picturePreviewURL","handleCreateBoard","FormData","append","errors","response","createBoard","htmlFor","backgroundImage","onChange","accept","hidden","maxLength","oldNewBoard","BoardItem","index","slice","MEMBER_MAX_LENGTH","Home","isOpenCreateBoard","setIsOpenCreateBoard","authContainer","display","justifyContent","logo","position","AuthWrapper","ThulloLogo","Login","email","password","userLogin","setUserLogin","onSubmit","preventDefault","login","noValidate","autoComplete","Loader","radius","color","cx","cy","r","strokeWidth","stroke","Register","emailAlreadyExist","setEmailAlreadyExist","isSignUpSuccessful","setIsSignUpSuccessful","setIsLoading","userRegister","useFormik","initialValues","confirmPassword","validationSchema","Yup","min","max","required","oneOf","values","finally","handleRegister","handleSubmit","getFieldProps","touched","InviteMember","usersToInvite","setUsersToInvite","userSelected","setUserSelected","userSearch","setUserSearch","searchValue","setSearchValue","marginBottom","invitationObject","senderPseudo","guestUserIDList","userSug","handleSendInvation","BoardError","PrivateOrPublic","handleChangeState","EmojiPicker","emoji","setEmoji","emo","character","ContentEditable","content","submitFunc","HTMLInjectedRef","isOpenEmojiPicker","setIsOpenEmojiPicker","editorRef","descriptionRef","outputRef","parseValue","handleSaveDescription","innerHTML","onKeyDown","keyCode","sel","ownerDocument","defaultView","getSelection","range","getRangeAt","tabNode","createTextNode","String","fromCodePoint","insertNode","setStartAfter","setEndAfter","removeAllRanges","addRange","insertSpecialCharacter","spellCheck","onInput","contentEditable","CategoryTitle","withMarginBottom","BoardMenu","boardMenuRef","isEditDescription","setIsEditDescription","isBoardOwner","createdAt","handleFormatDate","newDesc","banMemberObject","handleBanMember","leaveBoardObject","handleLeaveBoard","handleDeleteBoard","AddListOrCard","isAddList","isFirstList","isFirstCard","scrollBottomReset","scrollLeftReset","addListRef","inputRef","isOpenInput","setIsOpenInput","setName","currentIsOpen","currentSetIsOpen","handleOnClick","currentListID","on","focus","event","handleAddListOrCard","margin","background","AssignMember","cardMembers","setMembers","memberID","memberIDArg","oldMember","assignMemberObject","assignedMembersID","UserDisplay","Description","isOpenEditDesc","setIsOpenEditDesc","dangerouslySetInnerHTML","__html","Attachments","attachments","attachmentsState","setAttachmentsState","attachmentID","oldAttachment","attach","isPicture","file","fileExtension","match","toLowerCase","formData","handleAddAttachement","filePath","download","handleDownloadAttachment","CommentBox","setContent","isNewComment","userPicture","commentBoxRef","commentRef","isDisabledPlaceholder","setIsDisabledPlaceholder","isFocus","setIsFocus","textContent","onFocus","onBlur","Comments","comments","newCommentRef","commentsState","setCommentsState","commentID","isEdit","commentEdited","setCommentEdited","commentMessageEdited","setCommentMessageEdited","setMessage","oldComments","comment","currentCardID","off","handleSetEditComment","innerText","labelStyle","borderRadius","padding","marginRight","CardLabel","isDeleted","backgroundColor","marginLeft","Label","labelsState","setLabelsState","labelName","setLabelName","colorSelected","setColorSelected","colors","darkGreen","yellow","orange","red","blue","cyan","lightGreen","veryDarkGray","darkGray","midGray","lightGray","gray","oldLabels","colorsItems","handleReturnColorItem","PicturePicker","pictures","setPictures","randomPage","Math","floor","random","params","per_page","page","headers","Authorization","urls","regular","handleChangeCardPicture","thumb","CardModal","listName","setCard","isOpenLabel","setIsOpenLabel","isOpenAssignMember","setIsOpenAssignMember","isOpenPicturePicker","setIsOpenPicturePicker","oldCard","changeCardTitleObject","handleChangeCardTitle","CARD_MODAL","ModalManager","handleModalCall","CardItem","stopPropagation","Placeholder","destinationIndex","currentListOverID","placeholderProps","setPlaceholderProps","domQuery","domListQuery","draggedDOM","listOverDOM","clientHeight","clientWidth","clientY","parseFloat","getComputedStyle","parentNode","paddingTop","reduce","total","curr","currentStyle","clientX","paddingLeft","ListItem","React","forwardRef","placeHolderProps","droppableListDomID","inputRenameRef","renameFormRef","isOpenInputAddCard","setIsOpenInputAddCard","listsReducer","setRename","isOpenListMenu","setIsOpenListMenu","isOpenConfirmDeleteList","setIsOpenConfirmDeleteList","isOpenListRename","setIsOpenListRename","cardsState","setCardsState","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","handleAddCartScrollReset","listEl","scrollTop","scrollHeight","handleOpenInputAddCard","handleOpenListRename","defaultValue","droppableId","droppableProps","isDraggingOver","AddList","ListManager","listsState","setListsState","setPlaceHolderProps","isDragScroll","setIsDragScroll","handleClearDraggedAnimation","classList","remove","handleClearDraggedAnimationCallback","useCallback","handleDragScroll","el","sign","movementX","scrollLeft","abs","getListIDByDraggableID","draggabID","handleAddListScrollReset","boardEl","scrollWidth","onDragUpdate","dragprops","destination","onDragStart","add","source","onDragEnd","currentIndex","array","newArray","splice","reorderArray","destinationListID","currentCardIndex","destinationCardIndex","newLists","currentListIndex","destinationListIndex","cardDragged","reorderCardFunc","direction","onMouseDown","onMouseMove","onMouseUp","paddingRight","connect","useParams","isOpenInviteMember","setIsOpenInviteMember","isOpenPrivateOrPublic","setIsOpenPrivateOrPublic","isOpenBoardMenu","setIsOpenBoardMenu","withCredentials","PrivateRoute","Component","component","rest","render","MainRouter","exact","Board","pathname","PageLoader","Toast","PopupManagerStyle","transform","zIndex","listStyle","wordBreak","maxHeight","PopupManager","toasts","TransitionGroup","SocketManager","dispatchCallback","func","invitations","joinBoard","changeState","banMember","changeDescription","addList","addCard","renameList","deleteList","assignMemberToCard","changeCardTitle","changeCardDescription","addCardLabel","deleteCardLabel","changeCardPicture","leaveBoard","deleteBoard","App","ToastManager","cookie","ReactDOM","CookiesProvider"],"mappings":"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","file":"static/js/main.b8045d7d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n// const footer = {\r\n//     clear: 'both',\r\n//     position: 'relative',\r\n//     height: '30px',\r\n//     marginTop: '-30px',\r\n//     display: 'flex',\r\n//     justifyContent: 'center',\r\n//     alignItems: 'center',\r\n//     textAlign: 'center',\r\n//     fontSize: '0.9rem',\r\n// };\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <>\r\n            {/* <footer style={footer}>\r\n                <p>\r\n                    © 2021 coded by <a href=\"#\">Alex</a> , devchallenges.io\r\n                </p>\r\n            </footer> */}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nconst button = {\r\n    cursor: 'pointer',\r\n};\r\n\r\nconst Button = ({ children, type, onClick, className, style }) => {\r\n    return (\r\n        <button\r\n            type={type}\r\n            style={{ ...button, ...style }}\r\n            className={`${className}`}\r\n            onClick={onClick}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import { v4 as uuid } from 'uuid';\r\n\r\nexport const PUSH_TOAST = 'PUSH_TOAST';\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST';\r\nexport const CLEAR_TOAST = 'CLEAR_TOAST';\r\n\r\nexport const pushToast = (icon, info, type) => {\r\n    return (dispatch) => {\r\n        const toastID = uuid();\r\n        dispatch({ type: PUSH_TOAST, payload: { id: toastID, icon, info, type } });\r\n        setTimeout(() => {\r\n            dispatch({ type: REMOVE_TOAST, payload: toastID });\r\n        }, 6000);\r\n    };\r\n};\r\n\r\nexport const removeToast = (toastID) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: REMOVE_TOAST, payload: toastID });\r\n    };\r\n};\r\n\r\nexport const clearToast = (type) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAR_TOAST, payload: type });\r\n    };\r\n};\r\n","/**\n * FOR LOCAL\n */\n// export const API_URL = 'http://localhost:5000/api';\n// export const SOCKET_URL = 'http://localhost:5000';\n\n/**\n * FOR HEROKU\n */\nexport const API_URL = '/api';\nexport const SOCKET_URL = '';\n\n// export const API_URL = 'http://c24487f3706e.ngrok.io';\n// export const SOCKET_URL = 'http://c24487f3706e.ngrok.io';\n","import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\nexport default axios.create({\r\n    baseURL: API_URL,\r\n    responseType: 'json',\r\n});\r\n","export const LOADING = 'LOADING';\r\nexport const END_LOADING = 'END_LOADING';\r\n\r\nexport const loading = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: LOADING, payload: true });\r\n    };\r\n};\r\n\r\nexport const endLoading = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: END_LOADING, payload: false });\r\n    };\r\n};\r\n","import axios from '../../utils/axios';\r\nimport { errorsManager, successToast } from '../../utils/utils';\r\nimport { store } from '../store';\r\nimport { endLoading, loading } from './loader.action';\r\n\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const GET_BOARD = 'GET_BOARD';\r\nexport const GET_ALL_BOARD_BY_USERID = 'GET_ALL_BOARD_BY_USERID';\r\nexport const CLEAN_CURRENTBOARD = 'CLEAN_CURRENTBOARD';\r\nexport const JOIN_BOARD = 'JOIN_BOARD';\r\nexport const CHANGE_STATE = 'CHANGE_STATE';\r\nexport const BAN_MEMBER = 'BAN_MEMBER';\r\nexport const CHANGE_DESCRIPTION = 'CHANGE_DESCRIPTION';\r\nexport const ADD_LIST = 'ADD_LIST';\r\nexport const LEAVE_BOARD = 'LEAVE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const ADD_CARD = 'ADD_CARD';\r\nexport const DELETE_LIST = 'DELETE_LIST';\r\nexport const RENAME_LIST = 'RENAME_LIST';\r\nexport const REORDER_LIST = 'REORDER_LIST';\r\nexport const REORDER_CARD = 'REORDER_CARD';\r\nexport const ASSIGN_MEMBER = 'ASSIGN_MEMBER';\r\nexport const CHANGE_CARD_TITLE = 'CHANGE_CARD_TITLE';\r\nexport const CHANGE_CARD_DESCRIPTION = 'CHANGE_CARD_DESCRIPTION';\r\nexport const ADD_CARD_LABEL = 'ADD_CARD_LABEL';\r\nexport const DELETE_CARD_LABEL = 'DELETE_CARD_LABEL';\r\nexport const CHANGE_CARD_PICTURE = 'CHANGE_CARD_PICTURE';\r\n\r\nexport const createBoard = (data) => {\r\n    return (dispatch) => {\r\n        axios\r\n            .post('/board/create', data)\r\n            .then((res) => {\r\n                const board = res.data;\r\n                console.log(board);\r\n                successToast(`Board ${board.name} create !`);\r\n                return dispatch({ type: CREATE_BOARD, payload: board });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                const errors = err.response.data;\r\n                errorsManager(errors);\r\n            });\r\n    };\r\n};\r\n\r\nexport const getAllBoardByUserID = (userID) => {\r\n    return (dispatch) => {\r\n        return axios\r\n            .get(`/board/getallboardbyuserid/${userID}`)\r\n            .then((res) => {\r\n                const boards = res.data;\r\n                dispatch({ type: GET_ALL_BOARD_BY_USERID, payload: boards });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n};\r\n\r\nexport const getBoard = (boardID) => {\r\n    return (dispatch) => {\r\n        dispatch(loading());\r\n        axios\r\n            .get(`/board/${boardID}`, { withCredentials: true })\r\n            .then((res) => {\r\n                const boards = res.data;\r\n                console.log(boards);\r\n                dispatch({ type: GET_BOARD, payload: boards });\r\n            })\r\n            .catch((err) => {\r\n                const errors = err.response.data;\r\n                errorsManager(errors);\r\n                dispatch({ type: GET_BOARD, payload: 'BOARD_ERROR' });\r\n            })\r\n            .finally(() => {\r\n                dispatch(endLoading());\r\n            });\r\n    };\r\n};\r\n\r\nexport const cleanCurrentBoard = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAN_CURRENTBOARD, payload: {} });\r\n    };\r\n};\r\n\r\nexport const joinBoard = (user, board) => {\r\n    return async (dispatch) => {\r\n        const currentUser = await store.getState().userReducer;\r\n        console.log(user);\r\n        dispatch({ type: JOIN_BOARD, payload: { currentUser, user, board } });\r\n    };\r\n};\r\n\r\nexport const changeState = (boardID, state) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CHANGE_STATE, payload: { boardID, state } });\r\n    };\r\n};\r\n\r\nexport const banMember = (boardID, memberBannedID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = await store.getState().userReducer;\r\n        return dispatch({ type: BAN_MEMBER, payload: { boardID, memberBannedID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const changeDescription = (description, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_DESCRIPTION,\r\n            payload: { description, boardID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const addList = (listCreated, boardID, userID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n        return dispatch({ type: ADD_LIST, payload: { listCreated, boardID, userID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const addCard = (cardCreated, listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: ADD_CARD, payload: { cardCreated, listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const deleteList = (listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: DELETE_LIST, payload: { listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const renameList = (rename, listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: RENAME_LIST, payload: { rename, listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const reorderList = (listsReorder, boardID, userID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n\r\n        return dispatch({\r\n            type: REORDER_LIST,\r\n            payload: { listsReorder, boardID, userID, currentUser },\r\n        });\r\n    };\r\n};\r\n\r\nexport const leaveBoard = (userID, boardID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n        return dispatch({ type: LEAVE_BOARD, payload: { userID, boardID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const deleteBoard = (boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: DELETE_BOARD, payload: { boardID } });\r\n    };\r\n};\r\n\r\nexport const assignMemberToCard = (assignedMembers, boardID, listID, cardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: ASSIGN_MEMBER,\r\n            payload: { assignedMembers, boardID, listID, cardID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardTitle = (boardID, listID, cardID, cardTitle) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_TITLE,\r\n            payload: { boardID, listID, cardID, cardTitle },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardDescription = (boardID, listID, cardID, description) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_DESCRIPTION,\r\n            payload: { boardID, listID, cardID, description },\r\n        });\r\n    };\r\n};\r\nexport const addCardLabel = (boardID, listID, cardID, label) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: ADD_CARD_LABEL,\r\n            payload: { boardID, listID, cardID, label },\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteCardLabel = (boardID, listID, cardID, labelID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: DELETE_CARD_LABEL,\r\n            payload: { boardID, listID, cardID, labelID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardPicture = (boardID, listID, cardID, picture) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_PICTURE,\r\n            payload: { boardID, listID, cardID, picture },\r\n        });\r\n    };\r\n};\r\n","import { Cookies } from 'react-cookie';\nimport axios from '../../utils/axios';\nimport { addToast, clearToastByTypes, errorsManager, setRememberMeCookie } from '../../utils/utils';\nimport { loading, endLoading } from './loader.action';\nimport { FiUserCheck } from 'react-icons/fi';\nimport { getAllBoardByUserID } from './board.action';\n\nexport const LOGIN = 'LOGIN';\nexport const REMEMBER_ME = 'REMEMBER_ME';\nexport const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\nexport const DELETE_NOTIFICATION = 'DELETE_NOTIFICATION';\n\nexport const login = (userLogin) => {\n    return (dispatch) => {\n        axios\n            .post('/user/login', userLogin)\n            .then((res) => {\n                const { user, token } = res.data;\n                setRememberMeCookie(token);\n                clearToastByTypes(['danger', 'warning']);\n                addToast(<FiUserCheck />, `Welcome ${user.pseudo} !`, 'neutral');\n                dispatch(getAllBoardByUserID(user._id));\n                return dispatch({ type: LOGIN, payload: user });\n            })\n            .catch((err) => {\n                const errors = err.response.data;\n                errorsManager(errors);\n            });\n    };\n};\n\nexport const rememberMe = () => {\n    return (dispatch) => {\n        dispatch(loading());\n        const cookie = new Cookies();\n        axios\n            .get('/user/rememberme', { withCredentials: true })\n            .then((res) => {\n                const { user, token } = res.data;\n                setRememberMeCookie(token);\n                addToast(<FiUserCheck />, `Welcome ${user.pseudo} !`, 'neutral');\n                dispatch(getAllBoardByUserID(user._id));\n                return dispatch({ type: REMEMBER_ME, payload: user });\n            })\n            .catch((err) => {\n                cookie.remove('token');\n                dispatch({ type: REMEMBER_ME, payload: {} });\n                console.log('RememberMe error : ' + err);\n            })\n            .finally(() => {\n                dispatch(endLoading());\n            });\n    };\n};\n\nexport const addNotification = (notifications) => {\n    return (dispatch) => {\n        console.log(notifications);\n        return dispatch({ type: ADD_NOTIFICATION, payload: notifications });\n    };\n};\n\nexport const deleteNotification = (userID, notificationID, boardIDRequested) => {\n    return (dispatch) => {\n        const deleteNotifObject = {\n            userID,\n            notificationID,\n            boardIDRequested,\n        };\n        return axios\n            .post(`/user/delete-notification`, deleteNotifObject)\n            .then((res) => {\n                return dispatch({ type: DELETE_NOTIFICATION, payload: notificationID });\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n};\n","import { LOGIN, REMEMBER_ME, ADD_NOTIFICATION, DELETE_NOTIFICATION } from '../actions/user.action';\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n    switch (action.type) {\n        case LOGIN:\n            return action.payload;\n        case REMEMBER_ME:\n            return action.payload;\n        case ADD_NOTIFICATION:\n            const notifications = action.payload;\n            const userIndex = notifications.findIndex((invit) => invit._id === state._id);\n            return userIndex === -1\n                ? { ...state }\n                : {\n                      ...state,\n                      notifications: [\n                          ...state.notifications,\n                          notifications[userIndex].notifications,\n                      ],\n                  };\n        case DELETE_NOTIFICATION:\n            return {\n                ...state,\n                notifications: state.notifications.filter((notif) => notif._id !== action.payload),\n            };\n        default:\n            return state;\n    }\n}\n","import { isEmpty } from '../../utils/utils';\nimport {\n    GET_BOARD,\n    CREATE_BOARD,\n    GET_ALL_BOARD_BY_USERID,\n    CLEAN_CURRENTBOARD,\n    JOIN_BOARD,\n    CHANGE_STATE,\n    BAN_MEMBER,\n    CHANGE_DESCRIPTION,\n    ADD_LIST,\n    LEAVE_BOARD,\n    DELETE_BOARD,\n    ADD_CARD,\n    DELETE_LIST,\n    RENAME_LIST,\n    REORDER_LIST,\n    ASSIGN_MEMBER,\n    CHANGE_CARD_TITLE,\n    CHANGE_CARD_DESCRIPTION,\n    ADD_CARD_LABEL,\n    DELETE_CARD_LABEL,\n    CHANGE_CARD_PICTURE,\n} from '../actions/board.action';\n\nconst initialState = {\n    currentBoard: {},\n    boards: [],\n};\n\nexport default function boardReducer(state = initialState, action) {\n    switch (action.type) {\n        case CREATE_BOARD:\n            const boards = state.boards ? [...state.boards, action.payload] : [action.payload];\n            // const boards = [action.payload];\n            // return { ...state };\n            // return { ...state, boards: [...state.boards, action.payload] };\n            return { ...state, boards: boards };\n        case GET_ALL_BOARD_BY_USERID:\n            return { ...state, boards: action.payload };\n        case GET_BOARD:\n            // return { ...state };\n            return { ...state, currentBoard: action.payload };\n        case CLEAN_CURRENTBOARD:\n            return { ...state, currentBoard: {} };\n        case JOIN_BOARD:\n            const currentBoardIndex = state.boards.findIndex(\n                (board) => board._id === action.payload.board._id\n            );\n            if (action.payload.currentUser._id === action.payload.user._id)\n                return { ...state, boards: [...state.boards, action.payload.board] };\n            if (action.payload.board._id === state.currentBoard._id && currentBoardIndex !== -1)\n                return {\n                    ...state,\n                    currentBoard: {\n                        ...state.currentBoard,\n                        members: [...state.currentBoard.members, action.payload.user],\n                    },\n                    boards: state.boards.map((board) => {\n                        if (board._id === action.payload.board._id)\n                            board.members.push(action.payload.user);\n                        return board;\n                    }),\n                };\n            if (action.payload.board._id !== state.currentBoard._id && currentBoardIndex !== -1)\n                return {\n                    ...state,\n                    boards: state.boards.map((board) => {\n                        if (board._id === action.payload.board._id)\n                            board.members.push(action.payload.user);\n                        return board;\n                    }),\n                };\n            return { ...state };\n\n        case CHANGE_STATE:\n            if (\n                state.currentBoard._id === action.payload.boardID &&\n                !state.currentBoard.NOT_MEMBER\n            ) {\n                return {\n                    ...state,\n                    currentBoard: { ...state.currentBoard, isPrivate: action.payload.state },\n                };\n            }\n            if (\n                state.currentBoard._id === action.payload.boardID &&\n                state.currentBoard.NOT_MEMBER\n            ) {\n                document.location.reload();\n                return {\n                    ...state,\n                    currentBoard: {},\n                };\n            }\n            return { ...state };\n        case BAN_MEMBER:\n            if (state.currentBoard._id === action.payload.boardID) {\n                if (action.payload.memberBannedID === action.payload.currentUser._id)\n                    document.location.reload();\n                return {\n                    ...state,\n                    currentBoard: {\n                        ...state.currentBoard,\n                        members: state.currentBoard.members.filter(\n                            (member) => member._id !== action.payload.memberBannedID\n                        ),\n                    },\n                    boards: state.boards.map((board) => {\n                        if (board._id === action.payload.boardID) {\n                            board.members = board.members.filter(\n                                (member) => member._id !== action.payload.memberBannedID\n                            );\n                            return board;\n                        }\n                        return board;\n                    }),\n                };\n            }\n            if (\n                state.boards.findIndex((board) => board._id === action.payload.boardID) !== -1 &&\n                action.payload.memberBannedID === action.payload.currentUser._id\n            ) {\n                return {\n                    ...state,\n                    boards: state.boards.filter((board) => board._id !== action.payload.boardID),\n                };\n            }\n            return { ...state };\n        case CHANGE_DESCRIPTION:\n            if (state.currentBoard._id === action.payload.boardID) {\n                return {\n                    ...state,\n                    currentBoard: {\n                        ...state.currentBoard,\n                        description: action.payload.description,\n                    },\n                };\n            }\n            return { ...state };\n        case ADD_LIST:\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\n                return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: [...state.currentBoard.lists, action.payload.listCreated],\n                },\n            };\n        case ADD_CARD:\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\n                return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (\n                            state.currentBoard._id === action.payload.boardID &&\n                            list._id === action.payload.listID\n                        )\n                            list.cards.push(action.payload.cardCreated);\n                        return list;\n                    }),\n                },\n            };\n        case RENAME_LIST:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) list.name = action.payload.rename;\n                        return list;\n                    }),\n                },\n            };\n        case REORDER_LIST:\n            if (\n                state.currentBoard._id !== action.payload.boardID ||\n                action.payload.currentUser._id === action.payload.userID\n            )\n                return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: action.payload.listsReorder,\n                },\n            };\n        case DELETE_LIST:\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\n                return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.filter(\n                        (list) => list._id !== action.payload.listID\n                    ),\n                },\n            };\n        case ASSIGN_MEMBER:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    card.members = [...action.payload.assignedMembers];\n                                }\n                            });\n                        }\n\n                        return list;\n                    }),\n                },\n            };\n        case CHANGE_CARD_TITLE:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    console.log('CHANGE CARD TOTITLE');\n                                    card.title = action.payload.cardTitle;\n                                }\n                            });\n                        }\n                        return list;\n                    }),\n                },\n            };\n        case CHANGE_CARD_DESCRIPTION:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    card.description = action.payload.description;\n                                }\n                            });\n                        }\n                        return list;\n                    }),\n                },\n            };\n        case ADD_CARD_LABEL:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    card.labels.push(action.payload.label);\n                                }\n                            });\n                        }\n                        return list;\n                    }),\n                },\n            };\n        case DELETE_CARD_LABEL:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    card.labels = card.labels.filter(\n                                        (label) => label._id !== action.payload.labelID\n                                    );\n                                }\n                            });\n                        }\n                        return list;\n                    }),\n                },\n            };\n        case CHANGE_CARD_PICTURE:\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\n\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    lists: state.currentBoard.lists.map((list) => {\n                        if (list._id === action.payload.listID) {\n                            list.cards.forEach((card) => {\n                                if (card._id === action.payload.cardID) {\n                                    card.picture = action.payload.picture;\n                                }\n                            });\n                        }\n                        return list;\n                    }),\n                },\n            };\n        case LEAVE_BOARD:\n            return {\n                ...state,\n                currentBoard: {\n                    ...state.currentBoard,\n                    members: state.currentBoard.members.filter((member) => {\n                        if (\n                            member._id === action.payload.userID &&\n                            state.currentBoard._id === action.payload.boardID\n                        ) {\n                            if (action.payload.currentUser._id === action.payload.userID)\n                                document.location.reload();\n                            return false;\n                        }\n                        return true;\n                    }),\n                },\n                boards: state.boards.filter((board) => {\n                    return board._id === action.payload.boardID &&\n                        action.payload.currentUser._id === action.payload.userID\n                        ? false\n                        : true;\n                }),\n            };\n        case DELETE_BOARD:\n            return {\n                ...state,\n                currentBoard:\n                    state.currentBoard._id === action.payload.boardID\n                        ? 'BOARD_ERROR'\n                        : { ...state.currentBoard },\n                boards: state.boards.filter((board) => board._id !== action.payload.boardID),\n            };\n        default:\n            return { ...state };\n    }\n}\n","import { CLEAR_TOAST, PUSH_TOAST, REMOVE_TOAST } from '../actions/toast.action';\r\n\r\nconst initialState = [];\r\n\r\nexport default function toastReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case PUSH_TOAST:\r\n            return [...state, action.payload];\r\n        case REMOVE_TOAST:\r\n            const toastID = action.payload;\r\n            return state.filter((toast) => toast.id !== toastID);\r\n        case CLEAR_TOAST:\r\n            return state.filter((toast) => !action.payload.includes(toast.type));\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","export const REDIRECT = 'REDIRECT';\r\nexport const CLEAR_REDIRECT = 'CLEAR_REDIRECT';\r\n\r\nexport const redirect = (to) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: REDIRECT, payload: to });\r\n    };\r\n};\r\n\r\nexport const clearRedirect = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAR_REDIRECT, payload: '' });\r\n    };\r\n};\r\n","export const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\r\n\r\nexport const openModal = (modalName, props) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: OPEN_MODAL, payload: { modalName, props } });\r\n    };\r\n};\r\n\r\nexport const closeModal = (props) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLOSE_MODAL, payload: props });\r\n    };\r\n};\r\n","import { CLOSE_MODAL, OPEN_MODAL } from '../actions/modal.action';\r\n\r\nconst initialState = {\r\n    modalName: '',\r\n    props: {},\r\n};\r\n\r\nexport default function modalReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case OPEN_MODAL:\r\n            return action.payload;\r\n        case CLOSE_MODAL:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer';\nimport boardReducer from './board.reducer';\nimport loaderReducer from './loader.reducer';\nimport toastReducer from './toast.reducer';\nimport redirectReducer from './redirect.reducer';\nimport modalReducer from './modal.reducer';\n\nexport default combineReducers({\n    userReducer,\n    boardReducer,\n    loaderReducer,\n    toastReducer,\n    redirectReducer,\n    modalReducer,\n});\n","import { LOADING, END_LOADING } from '../actions/loader.action';\r\n\r\nconst initialState = false;\r\n\r\nexport default function loaderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOADING:\r\n            return action.payload;\r\n        case END_LOADING:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { CLEAR_REDIRECT, REDIRECT } from '../actions/redirect.action';\r\n\r\nconst initialState = '';\r\n\r\nexport default function redirectReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case REDIRECT:\r\n            return action.payload;\r\n        case CLEAR_REDIRECT:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './reducer/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n","import { Cookies } from 'react-cookie';\nimport { clearToast, pushToast } from '../redux/actions/toast.action';\nimport { store } from '../redux/store';\nimport { RiErrorWarningLine } from 'react-icons/ri';\nimport { FiCheckCircle } from 'react-icons/fi';\nimport { API_URL } from '../config';\nimport { clearRedirect, redirect } from '../redux/actions/redirect.action';\n\nexport const isEmpty = (value) => {\n    return (\n        value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0)\n    );\n};\n\nexport const setRememberMeCookie = async (token) => {\n    const cookie = new Cookies();\n    // cookie.remove('token', { path: '/' });\n    cookie.set('token', token, { maxAge: 604800000 }); // 1 week ?\n};\n\nexport const errorsManager = (err) => {\n    for (const error in err) {\n        addToast(<RiErrorWarningLine />, err[error], 'danger');\n    }\n};\n\nexport const addToast = (icon, info, type) => {\n    store.dispatch(pushToast(icon, info, type));\n};\n\nexport const clearToastByTypes = (type) => {\n    store.dispatch(clearToast(type));\n};\nexport const warningToast = (message) => {\n    clearToastByTypes(['danger', 'warning']);\n    addToast(<RiErrorWarningLine />, message, 'warning');\n};\nexport const successToast = (message) => {\n    clearToastByTypes(['danger', 'warning']);\n    addToast(<FiCheckCircle />, message, 'success');\n};\n\nexport const getPicturePath = (model, image) => {\n    switch (model) {\n        case 'board':\n            return `${API_URL}/board-picture/${image}`;\n        case 'user':\n            return `${API_URL}/user-picture/${image}`;\n        case 'attachment':\n            return `${API_URL}/attachment/${image}`;\n        default:\n            console.log('getPicturePath() -> Picture Path Error');\n    }\n};\n\nexport const redirectTo = (to) => {\n    store.dispatch(redirect(to));\n    // setTimeout(() => {\n    store.dispatch(clearRedirect());\n    // }, 500);\n};\n\nexport const insertSpecialCharacter = (ref, character) => {\n    var doc = ref.current.ownerDocument.defaultView;\n\n    var sel = doc.getSelection();\n    var range = sel.getRangeAt(0);\n\n    var tabNode = document.createTextNode(String.fromCodePoint(character)); // code point\n\n    range.insertNode(tabNode);\n\n    range.setStartAfter(tabNode);\n    range.setEndAfter(tabNode);\n    sel.removeAllRanges();\n    sel.addRange(range);\n};\n\nexport const removeHTMLtags = (html) => {\n    return html.replaceAll(/(<([^>]+)>)/gi, '');\n};\n\nexport const removeHtmlClass = (html) => {\n    return html.replaceAll(/class=\"[a-zA-Z0-9:;.\\s()\\-,]*\"/gi, '');\n    // return html.replaceAll(/class=\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,]*\"/gi, '');\n};\n\nexport const removeHtmlStyle = (html) => {\n    return html.replaceAll(/(<[^>]+) style=\".*?\"/gi, '');\n};\n\nexport const removeHtmlAttributes = (html) => {\n    return html.replaceAll(/<\\s*(\\w+).*?>/gi, '');\n};\n\nexport const closeOnClickOutside = (ref, setIsOpen) => {\n    const handleCloseModal = (e) => {\n        if (!ref.current) return () => setIsOpen(false);\n\n        !ref.current.contains(e.target) && setIsOpen(false);\n    };\n\n    window.addEventListener('mousedown', handleCloseModal);\n};\n\nexport const reorderArray = (currentIndex, destinationIndex, array) => {\n    let newArray = [...array];\n    const [reorderList] = newArray.splice(currentIndex, 1);\n    newArray.splice(destinationIndex, 0, reorderList);\n    return newArray;\n};\n\nexport const getDraggedDom = (draggableID) => {\n    const dataName = 'data-rbd-draggable-id';\n    const draggedEl = document.querySelector(`[${dataName}=${draggableID}]`);\n    return draggedEl;\n};\n\nexport const cutMongooseTimestampInDate = (mongooseTimestamp) => {\n    const month = [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ];\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n    const noFormatDate = mongooseTimestamp;\n\n    //  YEAR\n    const years = noFormatDate.substring(0, 4);\n\n    //  MONTH\n    const monthNum =\n        noFormatDate[5] === '0' ? noFormatDate.substring(6, 7) : noFormatDate.substring(5, 7);\n    const monthLetter = month[monthNum - 1];\n\n    //  DAY\n    const dayNum = noFormatDate.substring(8, 10);\n    const dayLetter = days[dayNum];\n\n    // HOUR\n    const hour = noFormatDate.substring(11, 16);\n\n    return { hour, dayNum, dayLetter, monthNum, monthLetter, years };\n};\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { Transition } from 'react-transition-group';\r\nimport { isEmpty } from '../../utils/utils';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DropDown = ({\r\n    children,\r\n    contentRef,\r\n    contentClass,\r\n    allowsRef,\r\n    isOpen,\r\n    setIsOpen,\r\n    isResponsive = false,\r\n    maxWidthResponsive = 600,\r\n    isVertical = true,\r\n    title,\r\n    description,\r\n    top,\r\n    right,\r\n    bottom,\r\n    left,\r\n    topResponsive,\r\n    rightResponsive,\r\n    bottomResponsive,\r\n    leftResponsive,\r\n}) => {\r\n    const dropdownContentRef = useRef();\r\n    const currentRef = isVertical ? dropdownContentRef : contentRef;\r\n    const isBreakPoint = useMediaQuery({ query: `(max-width: ${maxWidthResponsive}px)` });\r\n    const [contentSize, setContentSize] = useState(null);\r\n    const heightOrWidth = isVertical ? 'maxHeight' : 'maxWidth';\r\n    const duration = 300;\r\n    const defaultStyle = {\r\n        transition: `${duration}ms ease`,\r\n        [heightOrWidth]: '0',\r\n        // padding: '8px',\r\n        overflow: 'hidden',\r\n    };\r\n    const transitionStyles = {\r\n        entering: {\r\n            [heightOrWidth]: `${contentSize}px`,\r\n            overflow: 'hidden',\r\n        },\r\n        entered: {\r\n            [heightOrWidth]: `${contentSize}px`,\r\n            overflow: 'visible',\r\n        },\r\n        exiting: { [heightOrWidth]: '0', overflow: 'hidden' },\r\n        exited: { [heightOrWidth]: '0', overflow: 'hidden' },\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n        if (currentRef.current) {\r\n            isVertical\r\n                ? setContentSize(currentRef.current.getBoundingClientRect().height)\r\n                : setContentSize(currentRef.current.getBoundingClientRect().width);\r\n        }\r\n        const handleCloseDropDown = (e) => {\r\n            if (isEmpty(allowsRef)) {\r\n                if (!currentRef.current) return setIsOpen(false);\r\n                !currentRef.current.contains(e.target) && setIsOpen(false);\r\n            } else {\r\n                if (!currentRef.current || !allowsRef.current) return setIsOpen(false);\r\n                if (\r\n                    !currentRef.current.contains(e.target) &&\r\n                    !allowsRef.current.contains(e.target)\r\n                ) {\r\n                    setIsOpen(false);\r\n                }\r\n            }\r\n        };\r\n        window.addEventListener('mousedown', handleCloseDropDown);\r\n        if (!currentRef.current) return setIsOpen(false);\r\n        if (!isOpen) {\r\n            window.removeEventListener('mousedown', handleCloseDropDown);\r\n        }\r\n    }, [isOpen, setIsOpen, currentRef, isVertical, allowsRef]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={`dropdown ${isResponsive && isBreakPoint ? 'dropdown-responsive' : ''}`}\r\n                style={\r\n                    isResponsive && isBreakPoint\r\n                        ? {\r\n                              top: topResponsive,\r\n                              right: rightResponsive,\r\n                              bottom: bottomResponsive,\r\n                              left: leftResponsive,\r\n                          }\r\n                        : { top, right, bottom, left }\r\n                }>\r\n                <Transition unmountOnExit in={isOpen} timeout={duration}>\r\n                    {(state) => (\r\n                        <div\r\n                            className={`dropdown__content`}\r\n                            style={{\r\n                                ...defaultStyle,\r\n                                ...transitionStyles[state],\r\n                            }}>\r\n                            <div\r\n                                className={`${contentClass}`}\r\n                                ref={isVertical && dropdownContentRef}>\r\n                                {title && description && (\r\n                                    <>\r\n                                        <span className=\"dropdown__content__title\">{title}</span>\r\n                                        <span className=\"dropdown__content__description\">\r\n                                            {description}\r\n                                        </span>\r\n                                    </>\r\n                                )}\r\n                                {children}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </Transition>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nDropDown.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    setIsOpen: PropTypes.func,\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Button from '../utils/Button';\r\nimport { IoClose } from 'react-icons/io5';\r\nimport { useDispatch } from 'react-redux';\r\nimport { closeModal } from '../../redux/actions/modal.action';\r\n\r\nconst Modal = ({\r\n    children,\r\n    hasCloseButton = false,\r\n    isOpen,\r\n    setIsOpen,\r\n    hasOverflowYScroll = false,\r\n    hasChoiceButton = false,\r\n    btnConfirmMessage,\r\n    btnConfirmIcon,\r\n    confirmMessage,\r\n    confirmFunction,\r\n}) => {\r\n    const [isOpenContent, setIsOpenContent] = useState(false);\r\n    const modalRef = useRef();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (isOpen) return (document.querySelector('html').style = 'overflow : hidden');\r\n        return (document.querySelector('html').style = 'overflow : visible');\r\n    }, [isOpen]);\r\n\r\n    useEffect(() => {\r\n        const handleCloseModal = (e) => {\r\n            if (!modalRef.current) {\r\n                return setIsOpen(false);\r\n            }\r\n\r\n            if (!modalRef.current.contains(e.target)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('mousedown', handleCloseModal);\r\n\r\n        return () => {\r\n            window.removeEventListener('mousedown', handleCloseModal);\r\n            document.querySelector('html').style = 'overflow : visible';\r\n        };\r\n    }, [setIsOpen]);\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition\r\n                in={isOpen}\r\n                classNames=\"modal\"\r\n                appear={true}\r\n                timeout={200}\r\n                onEntered={() => setIsOpenContent(true)}\r\n                onExit={() => setIsOpenContent(false)}\r\n                onExited={() => {\r\n                    dispatch(closeModal());\r\n                    setIsOpen(false);\r\n                }}\r\n                unmountOnExit>\r\n                <div\r\n                    className=\"modal\"\r\n                    style={{ alignItems: hasOverflowYScroll ? 'flex-start' : 'center' }}>\r\n                    <CSSTransition\r\n                        in={isOpenContent}\r\n                        classNames=\"modalcontent\"\r\n                        appear={true}\r\n                        timeout={300}\r\n                        unmountOnExit>\r\n                        <div ref={modalRef} className=\"modal__content\">\r\n                            {hasCloseButton && (\r\n                                <Button\r\n                                    className=\"modal__content__close\"\r\n                                    onClick={() => setIsOpen(false)}>\r\n                                    <IoClose />\r\n                                </Button>\r\n                            )}\r\n\r\n                            {children}\r\n\r\n                            {hasChoiceButton && (\r\n                                <>\r\n                                    <p className=\"modal__content__confirm-message\">\r\n                                        {confirmMessage}\r\n                                    </p>\r\n                                    <div className=\"modal__content__btn-wrapper\">\r\n                                        <Button\r\n                                            className=\"modal__content__btn-wrapper__cancel\"\r\n                                            onClick={() => setIsOpen(false)}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"modal__content__btn-wrapper__confirm\"\r\n                                            onClick={confirmFunction}>\r\n                                            {btnConfirmIcon && (\r\n                                                <span className=\"modal__content__btn-wrapper__confirm__icon\">\r\n                                                    {btnConfirmIcon}\r\n                                                </span>\r\n                                            )}\r\n                                            <span className=\"modal__content__btn-wrapper__confirm__label\">\r\n                                                {btnConfirmMessage ? btnConfirmMessage : 'Confirm'}\r\n                                            </span>\r\n                                        </Button>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </CSSTransition>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import { io } from 'socket.io-client';\r\nimport { SOCKET_URL } from '../config';\r\n\r\nexport default io(SOCKET_URL);\r\n","import React from 'react';\r\nimport { MdNotifications, MdCheck } from 'react-icons/md';\r\nimport { IoMdTrash } from 'react-icons/io';\r\nimport Modal from '../../utils/Modal';\r\nimport { AiOutlineAppstoreAdd } from 'react-icons/ai';\r\nimport Button from '../../utils/Button';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteNotification } from '../../../redux/actions/user.action';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst Notifications = ({ isOpen, setIsOpen }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleJoinBoard = (boardID, notificationID) => {\r\n        const joinBoardObject = {\r\n            userID: user._id,\r\n            boardID,\r\n        };\r\n        socket.emit('join board', joinBoardObject);\r\n        dispatch(deleteNotification(user._id, notificationID));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal isOpen={isOpen} setIsOpen={setIsOpen} hasCloseButton={true}>\r\n                <div className=\"profilmenu__notifications\">\r\n                    <span className=\"profilmenu__notifications__top\">\r\n                        <MdNotifications className=\"profilmenu__notifications__top__icon\" />\r\n                        Notifications\r\n                    </span>\r\n                    <ul className=\"profilmenu__notifications__list\">\r\n                        {!isEmpty(user.notifications) ? (\r\n                            user.notifications.map(({ _id, title, message, boardIDRequested }) => {\r\n                                return (\r\n                                    <li key={_id} className=\"profilmenu__notifications__list__item\">\r\n                                        <div className=\"profilmenu__notifications__list__item__right\">\r\n                                            <AiOutlineAppstoreAdd className=\"profilmenu__notifications__list__item__right__icon\" />\r\n                                            <div className=\"profilmenu__notifications__list__item__right__content\">\r\n                                                <span className=\"profilmenu__notifications__list__item__right__content__title\">\r\n                                                    {title}\r\n                                                </span>\r\n                                                <span className=\"profilmenu__notifications__list__item__right__content__message\">\r\n                                                    {message}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"profilmenu__notifications__list__item__left\">\r\n                                            <Button\r\n                                                className=\"profilmenu__notifications__list__item__left__btn-valid\"\r\n                                                onClick={() =>\r\n                                                    handleJoinBoard(boardIDRequested, _id)\r\n                                                }>\r\n                                                <MdCheck />\r\n                                            </Button>\r\n                                            <Button\r\n                                                className=\"profilmenu__notifications__list__item__left__btn-wrong\"\r\n                                                onClick={() =>\r\n                                                    dispatch(\r\n                                                        deleteNotification(\r\n                                                            user._id,\r\n                                                            _id,\r\n                                                            boardIDRequested\r\n                                                        )\r\n                                                    )\r\n                                                }>\r\n                                                <IoMdTrash />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <h4 style={{ textAlign: 'center', marginTop: '20px' }}>\r\n                                You don't have notifications\r\n                            </h4>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { FaUserAlt } from 'react-icons/fa';\r\nimport { MdNotifications } from 'react-icons/md';\r\nimport { RiLogoutBoxRFill } from 'react-icons/ri';\r\nimport { useSelector } from 'react-redux';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport Notifications from '../modal/Notifications';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nconst ProfilMenu = ({ isOpen, setIsOpen }) => {\r\n    const [isOpenNotification, setIsOpenNotification] = useState(false);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [, , removeCookie] = useCookies();\r\n\r\n    return (\r\n        <>\r\n            <Notifications isOpen={isOpenNotification} setIsOpen={setIsOpenNotification} />\r\n\r\n            <DropDown\r\n                contentClass=\"profilmenu\"\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                top=\"60px\"\r\n                right=\"10px\">\r\n                <div>\r\n                    <ul className=\"profilmenu__navlist\">\r\n                        <li>\r\n                            <button className=\"profilmenu__navlist__item\">\r\n                                <FaUserAlt className=\"profilmenu__navlist__item__icon\" />\r\n                                Profil\r\n                            </button>\r\n                        </li>\r\n                        <li onClick={() => setIsOpenNotification(true)}>\r\n                            <button className=\"profilmenu__navlist__item\">\r\n                                <MdNotifications className=\"profilmenu__navlist__item__icon\" />\r\n                                Notifications\r\n                                {!isEmpty(user.notifications) && (\r\n                                    <span\r\n                                        className=\"bubble-notifications\"\r\n                                        style={{\r\n                                            fontSize: user.notifications.length > 99 && '0.6rem',\r\n                                        }}>\r\n                                        {user.notifications.length > 99\r\n                                            ? '99+'\r\n                                            : user.notifications.length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"profilmenu__navlist__divider\"></li>\r\n                        <li>\r\n                            <button\r\n                                className=\"profilmenu__navlist__item\"\r\n                                onClick={() => {\r\n                                    removeCookie('token', { path: '/' });\r\n                                    document.location.reload();\r\n                                }}>\r\n                                <RiLogoutBoxRFill className=\"profilmenu__navlist__item__icon profilmenu__navlist__item__icon--logout\" />\r\n                                Logout\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </DropDown>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfilMenu;\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Button from '../../components/utils/Button';\r\nimport { BsFillCaretDownFill } from 'react-icons/bs';\r\nimport { Link } from 'react-router-dom';\r\nimport { BsGrid3X3Gap } from 'react-icons/bs';\r\nimport MediaQuery from 'react-responsive';\r\nimport DropDown from '../utils/Dropdown';\r\nimport { addToast, getPicturePath, isEmpty } from '../../utils/utils';\r\nimport ProfilMenu from './dropdown/ProfilMenu';\r\n\r\nconst Header = ({ isHeaderBoard, boardName }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [isOpenSearchBar, setIsOpenSearchBar] = useState(false);\r\n    const [isOpenProfilMenu, setIsOpenProfilMenu] = useState(false);\r\n    const [test, setTest] = useState(1);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div className=\"header__left\">\r\n                    <Link className=\"header__left__logo\" to=\"/allboards\">\r\n                        <MediaQuery minWidth=\"650px\">\r\n                            <svg\r\n                                width=\"98\"\r\n                                height=\"29\"\r\n                                viewBox=\"0 0 98 29\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M54.3311 8.436V10.47H50.9831V21H48.4631V10.47H45.1151V8.436H54.3311ZM61.1557 10.884C61.9117 10.884 62.5837 11.052 63.1717 11.388C63.7597 11.712 64.2157 12.198 64.5397 12.846C64.8757 13.482 65.0437 14.25 65.0437 15.15V21H62.5237V15.492C62.5237 14.7 62.3257 14.094 61.9297 13.674C61.5337 13.242 60.9937 13.026 60.3097 13.026C59.6137 13.026 59.0617 13.242 58.6537 13.674C58.2577 14.094 58.0597 14.7 58.0597 15.492V21H55.5397V7.68H58.0597V12.27C58.3837 11.838 58.8157 11.502 59.3557 11.262C59.8957 11.01 60.4957 10.884 61.1557 10.884ZM76.2241 11.028V21H73.6861V19.74C73.3621 20.172 72.9361 20.514 72.4081 20.766C71.8921 21.006 71.3281 21.126 70.7161 21.126C69.9361 21.126 69.2461 20.964 68.6461 20.64C68.0461 20.304 67.5721 19.818 67.2241 19.182C66.8881 18.534 66.7201 17.766 66.7201 16.878V11.028H69.2401V16.518C69.2401 17.31 69.4381 17.922 69.8341 18.354C70.2301 18.774 70.7701 18.984 71.4541 18.984C72.1501 18.984 72.6961 18.774 73.0921 18.354C73.4881 17.922 73.6861 17.31 73.6861 16.518V11.028H76.2241ZM80.6005 7.68V21H78.0805V7.68H80.6005ZM84.9803 7.68V21H82.4603V7.68H84.9803ZM91.268 21.162C90.308 21.162 89.444 20.952 88.676 20.532C87.908 20.1 87.302 19.494 86.858 18.714C86.426 17.934 86.21 17.034 86.21 16.014C86.21 14.994 86.432 14.094 86.876 13.314C87.332 12.534 87.95 11.934 88.73 11.514C89.51 11.082 90.38 10.866 91.34 10.866C92.3 10.866 93.17 11.082 93.95 11.514C94.73 11.934 95.342 12.534 95.786 13.314C96.242 14.094 96.47 14.994 96.47 16.014C96.47 17.034 96.236 17.934 95.768 18.714C95.312 19.494 94.688 20.1 93.896 20.532C93.116 20.952 92.24 21.162 91.268 21.162ZM91.268 18.966C91.724 18.966 92.15 18.858 92.546 18.642C92.954 18.414 93.278 18.078 93.518 17.634C93.758 17.19 93.878 16.65 93.878 16.014C93.878 15.066 93.626 14.34 93.122 13.836C92.63 13.32 92.024 13.062 91.304 13.062C90.584 13.062 89.978 13.32 89.486 13.836C89.006 14.34 88.766 15.066 88.766 16.014C88.766 16.962 89 17.694 89.468 18.21C89.948 18.714 90.548 18.966 91.268 18.966Z\"\r\n                                    fill=\"#333333\"\r\n                                    className=\"header__left__logo__label\"\r\n                                />\r\n\r\n                                <path\r\n                                    d=\"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__left\"\r\n                                />\r\n                                <path\r\n                                    d=\"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__right\"\r\n                                />\r\n                            </svg>\r\n                        </MediaQuery>\r\n                        <MediaQuery maxWidth=\"649px\">\r\n                            <svg\r\n                                width=\"32\"\r\n                                height=\"29\"\r\n                                viewBox=\"0 0 32 29\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__left\"\r\n                                />\r\n                                <path\r\n                                    d=\"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__right\"\r\n                                />\r\n                            </svg>\r\n                        </MediaQuery>\r\n                    </Link>\r\n                    {isHeaderBoard && (\r\n                        <div className=\"header__left__board\">\r\n                            <h2 className=\"header__left__board__name\">{boardName}</h2>\r\n                            <span className=\"header__left__board__divider\"></span>\r\n                            <Link to=\"/allboards\" className=\"header__left__board__btn-allboard\">\r\n                                <BsGrid3X3Gap className=\"header__left__board__btn-allboard__icons\" />\r\n                                <span className=\"header__left__board__btn-allboard__label\">\r\n                                    All board\r\n                                </span>\r\n                            </Link>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"header__right\">\r\n                    <MediaQuery minWidth=\"1100px\">\r\n                        <div className=\"header__right__search\">\r\n                            <input\r\n                                className=\"header__right__search__input\"\r\n                                type=\"text\"\r\n                                placeholder=\"Keyword...\"\r\n                            />\r\n                            <Button\r\n                                className=\"header__right__search__button\"\r\n                                onClick={() => {\r\n                                    addToast(<BsFillCaretDownFill />, `test ${test}`, 'success');\r\n                                    setTest(test + 1);\r\n                                }}>\r\n                                Search\r\n                            </Button>\r\n                        </div>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth=\"1099px\">\r\n                        <div className=\"header__right__search__responsive\">\r\n                            <Button\r\n                                className=\"header__right__search__responsive__button\"\r\n                                onClick={() => setIsOpenSearchBar(true)}>\r\n                                Search\r\n                            </Button>\r\n                            {/* {isOpenSearchBar && ( */}\r\n                            <DropDown\r\n                                left=\"-170px\"\r\n                                top=\"46px\"\r\n                                isOpen={isOpenSearchBar}\r\n                                setIsOpen={setIsOpenSearchBar}>\r\n                                <div className=\"header__right__search__responsive__dropdown__wrapper\">\r\n                                    <input\r\n                                        className={`header__right__search__responsive__dropdown__wrapper__input `}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Keyword...\"\r\n                                    />\r\n                                </div>\r\n                            </DropDown>\r\n                            {/* )} */}\r\n                        </div>\r\n                    </MediaQuery>\r\n                    <button\r\n                        className=\"header__right__profil\"\r\n                        onClick={() => setIsOpenProfilMenu(true)}>\r\n                        <img\r\n                            className=\"header__right__profil__img\"\r\n                            src={getPicturePath('user', user.picture)}\r\n                            alt=\"p\"\r\n                        />\r\n                        <span className=\"header__right__profil__name\">{user.pseudo}</span>\r\n                        <span className=\"header__right__profil__icon\">\r\n                            <BsFillCaretDownFill />\r\n                        </span>\r\n                        {!isEmpty(user.notifications) && (\r\n                            <span\r\n                                className=\"bubble-notifications\"\r\n                                style={{ fontSize: user.notifications.length > 99 && '0.6rem' }}>\r\n                                {user.notifications.length > 99 ? '99+' : user.notifications.length}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <ProfilMenu isOpen={isOpenProfilMenu} setIsOpen={setIsOpenProfilMenu} />\r\n                </div>\r\n            </header>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Header from './Header';\r\n\r\nconst PageTemplate = ({\r\n    pageTitle,\r\n    children,\r\n    isHeaderBoard = false,\r\n    boardName,\r\n    hasHeader = true,\r\n}) => {\r\n    const isLoading = useSelector((state) => state.loaderReducer);\r\n    document.title = `Thullo | ${isLoading ? 'Loading . . .' : pageTitle}`;\r\n\r\n    return (\r\n        <>\r\n            {hasHeader && <Header isHeaderBoard={isHeaderBoard} boardName={boardName} />}\r\n\r\n            {children}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PageTemplate;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RiAddFill } from 'react-icons/ri';\r\nimport Modal from '../../utils/Modal';\r\nimport { MdImage, MdLock } from 'react-icons/md';\r\nimport { IoIosAddCircleOutline } from 'react-icons/io';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createBoard } from '../../../redux/actions/board.action';\r\nimport Button from '../../utils/Button';\r\n\r\nconst ModalCreateBoard = ({ isOpen, setIsOpen }) => {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [picturePreview, setPicturePreview] = useState('');\r\n    const [newBoard, setNewBoard] = useState({\r\n        name: '',\r\n        picture: '',\r\n        isPrivate: false,\r\n        owner: user._id,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setPicturePreview('');\r\n            setNewBoard({\r\n                name: '',\r\n                picture: '',\r\n                isPrivate: false,\r\n                owner: '',\r\n            });\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleChangePicture = async (e) => {\r\n        if (!e.target.files[0]) return;\r\n        const pictureFile = await e.target.files[0];\r\n        // console.log(pictureFile);\r\n        setNewBoard({ ...newBoard, picture: pictureFile });\r\n        const picturePreviewURL = await URL.createObjectURL(pictureFile);\r\n        setPicturePreview(picturePreviewURL);\r\n    };\r\n\r\n    const handleCreateBoard = () => {\r\n        const data = new FormData();\r\n        data.append('name', newBoard.name);\r\n        data.append('picture', newBoard.picture);\r\n        data.append('isPrivate', newBoard.isPrivate);\r\n        data.append('owner', user._id);\r\n        setIsOpen(false);\r\n        dispatch(createBoard(data));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                hasCloseButton={true}\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                hasChoiceButton={true}\r\n                btnConfirmIcon={<RiAddFill />}\r\n                btnConfirmMessage=\"Create\"\r\n                confirmFunction={() => handleCreateBoard()}>\r\n                <div className=\"createboardmodal\">\r\n                    <label\r\n                        className={`createboardmodal__input__image ${\r\n                            picturePreview ? '' : 'no-preview'\r\n                        }`}\r\n                        htmlFor=\"boardmodal_input_image\"\r\n                        style={{ backgroundImage: `url(${picturePreview})` }}>\r\n                        <div className={`${picturePreview ? 'preview-background' : ''}`}>\r\n                            <IoIosAddCircleOutline\r\n                                className={`createboardmodal__input__image__icon ${\r\n                                    picturePreview ? 'preview-active' : ''\r\n                                }`}\r\n                            />\r\n                        </div>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"boardmodal_input_image\"\r\n                            onChange={handleChangePicture}\r\n                            accept=\".png , .jpg , .jpeg\"\r\n                            hidden\r\n                        />\r\n                    </label>\r\n                    <input\r\n                        value={newBoard.name}\r\n                        onChange={(e) => setNewBoard({ ...newBoard, name: e.target.value })}\r\n                        maxLength=\"20\"\r\n                        className=\"createboardmodal__input__name\"\r\n                        type=\"text\"\r\n                        placeholder=\"Add board title\"\r\n                    />\r\n                    <div className=\"createboardmodal__button__wrapper\">\r\n                        <Button className=\"createboardmodal__button__wrapper__item\">\r\n                            <MdImage className=\"createboardmodal__button__wrapper__item__icon\" />{' '}\r\n                            Cover\r\n                        </Button>\r\n                        <Button\r\n                            className={`createboardmodal__button__wrapper__item ${\r\n                                newBoard.isPrivate ? 'isStateActiveCreateBoard' : ''\r\n                            }`}\r\n                            onClick={() =>\r\n                                setNewBoard((oldNewBoard) => {\r\n                                    oldNewBoard.isPrivate = !oldNewBoard.isPrivate;\r\n                                    return { ...oldNewBoard };\r\n                                })\r\n                            }>\r\n                            <MdLock className=\"createboardmodal__button__wrapper__item__icon\" />{' '}\r\n                            Private\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ModalCreateBoard;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPicturePath } from '../../../utils/utils';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst BoardItem = ({ _id, name, picture, members }) => {\r\n    const MEMBER_MAX_LENGTH = 3;\r\n\r\n    return (\r\n        <Link to={`/board/${_id}`} className=\"allboards__container__items\">\r\n            <img\r\n                className=\"allboards__container__items__img\"\r\n                src={getPicturePath('board', picture)}\r\n                alt={`board ${name}`}\r\n            />\r\n            <span className=\"allboards__container__items__title\">{name}</span>\r\n            <ul className=\"allboards__container__items__members\">\r\n                {members\r\n                    .map(({ _id, pseudo, picture }, index) => {\r\n                        if (index === MEMBER_MAX_LENGTH)\r\n                            return (\r\n                                <span\r\n                                    key={uuid()}\r\n                                    className=\"allboards__container__items__members__others\">\r\n                                    +{members.length - MEMBER_MAX_LENGTH} Others\r\n                                </span>\r\n                            );\r\n                        return (\r\n                            <li key={_id} className=\"allboards__container__items__members__profil\">\r\n                                <img\r\n                                    src={getPicturePath('user', picture)}\r\n                                    alt={`${pseudo} profil`}></img>\r\n                            </li>\r\n                        );\r\n                    })\r\n                    .slice(0, MEMBER_MAX_LENGTH + 1)}\r\n            </ul>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default BoardItem;\r\n","import React, { useState } from 'react';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport Button from '../components/utils/Button';\r\nimport { RiAddFill } from 'react-icons/ri';\r\nimport { useSelector } from 'react-redux';\r\nimport ModalCreateBoard from '../components/templates/modal/CreateBoard.jsx';\r\nimport BoardItem from '../components/templates/board/BoardItem';\r\nimport { isEmpty } from '../utils/utils';\r\n// REDIRIGER VERS LOGIN SI NON CONNECTE\r\nconst Home = () => {\r\n    const boards = useSelector((state) => state.boardReducer.boards);\r\n    const [isOpenCreateBoard, setIsOpenCreateBoard] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <ModalCreateBoard isOpen={isOpenCreateBoard} setIsOpen={setIsOpenCreateBoard} />\r\n\r\n            <PageTemplate pageTitle=\"Allboards\">\r\n                <div className=\"allboards\">\r\n                    <div className=\"allboards__top\">\r\n                        <h1 className=\"allboards__top__title\">All Boards</h1>\r\n                        <Button\r\n                            className=\"allboards__top__btn\"\r\n                            onClick={() => setIsOpenCreateBoard(true)}>\r\n                            <RiAddFill className=\"allboards__top__btn__icon\" />\r\n                            <span className=\"allboards__top__btn__label\">Add</span>\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div className=\"allboards__container\">\r\n                        {!isEmpty(boards) &&\r\n                            boards.map((board) => {\r\n                                return <BoardItem key={board._id} {...board} />;\r\n                            })}\r\n                    </div>\r\n                </div>\r\n            </PageTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/Logo.e207370e.svg\";","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { isEmpty } from '../../utils/utils';\r\nimport ThulloLogo from '../../assets/images/Logo.svg';\r\n\r\nconst authContainer = {\r\n    height: '80vh',\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n};\r\n\r\nconst logo = {\r\n    height: '50px',\r\n    position: 'absolute',\r\n    top: '15px',\r\n    left: '15px',\r\n};\r\n\r\nconst AuthWrapper = ({ children }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n\r\n    return (\r\n        <>\r\n            {!isEmpty(user) && <Redirect to=\"/allboards\" />}\r\n            <div className=\"auth\">\r\n                <img style={logo} src={ThulloLogo} alt=\"Thullo\" />\r\n                <div style={authContainer}>{children}</div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AuthWrapper;\r\n","import React, { useState } from 'react';\r\nimport AuthWrapper from '../../components/layouts/AuthWrapper.js';\r\nimport Button from '../../components/utils/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../../redux/actions/user.action';\r\nimport PageTemplate from '../../components/templates/PageTemplate.js';\r\n\r\nconst Login = (props) => {\r\n    const dispatch = useDispatch();\r\n    const [userLogin, setUserLogin] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(userLogin));\r\n    };\r\n\r\n    return (\r\n        <PageTemplate pageTitle=\"Login\" hasHeader={false}>\r\n            <AuthWrapper>\r\n                <form className=\"auth__component\" onSubmit={handleLogin} noValidate>\r\n                    <h1 className=\"auth__title\">Login</h1>\r\n                    <div className=\"auth__input__wrapper\">\r\n                        <input\r\n                            className=\"auth__input\"\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={userLogin.email}\r\n                            autoComplete=\"on\"\r\n                            onChange={(e) => setUserLogin({ ...userLogin, email: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"auth__input__wrapper\">\r\n                        <input\r\n                            className=\"auth__input\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={userLogin.password}\r\n                            onChange={(e) =>\r\n                                setUserLogin({ ...userLogin, password: e.target.value })\r\n                            }\r\n                        />\r\n                    </div>\r\n                    <Button className=\"auth__btn\">Connexion</Button>\r\n                    <p className=\"auth__has-account\">\r\n                        You don't have account ? <Link to=\"/register\">Register</Link>\r\n                    </p>\r\n                </form>\r\n            </AuthWrapper>\r\n        </PageTemplate>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst primaryColorScss = '#2f80ed'; // default\r\n\r\nconst Loader = ({ radius, color = primaryColorScss }) => {\r\n    return (\r\n        <svg className=\"loader\" height={radius * 2 || 100} width={radius * 2 || 100}>\r\n            <circle\r\n                className=\"loader__inset\"\r\n                cx={radius * 0.8 || 50}\r\n                cy={radius * 0.8 || 50}\r\n                r={(radius * 0.8) / 2 || 25}\r\n                strokeWidth={radius * 0.03}\r\n                stroke={color}\r\n            />\r\n            <circle\r\n                className=\"loader__around\"\r\n                cx={radius || 50}\r\n                cy={radius || 50}\r\n                r={radius / 2 || 25}\r\n                strokeWidth={radius * 0.03}\r\n                stroke={color}\r\n            />\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState } from 'react';\nimport AuthWrapper from '../../components/layouts/AuthWrapper';\nimport Button from '../../components/utils/Button';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from '../../utils/axios';\nimport PageTemplate from '../../components/templates/PageTemplate';\nimport { addToast, clearToastByTypes, errorsManager } from '../../utils/utils';\nimport { BsBookmarkCheck } from 'react-icons/bs';\nimport Loader from '../../components/utils/Loader';\n\nconst Register = (props) => {\n    const [emailAlreadyExist, setEmailAlreadyExist] = useState({});\n    const [isSignUpSuccessful, setIsSignUpSuccessful] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleRegister = (user) => {\n        if (isLoading) return;\n        setIsLoading(true);\n        axios\n            .post('/user/register', user)\n            .then((res) => {\n                setEmailAlreadyExist({});\n                clearToastByTypes(['danger', 'warning']);\n                addToast(<BsBookmarkCheck />, 'Sign Up Successful', 'success');\n                setIsSignUpSuccessful(true);\n            })\n            .catch((err) => {\n                const error = err.response.data;\n                errorsManager(error);\n                setEmailAlreadyExist(err.response.data);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            });\n    };\n\n    const userRegister = useFormik({\n        initialValues: {\n            pseudo: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n        },\n        validationSchema: Yup.object({\n            pseudo: Yup.string()\n                .min(4, 'Pseudo should have 4 characters minimum')\n                .max(12, 'Pseudo should have 12 characters maximum')\n                .required('Required'),\n\n            email: Yup.string()\n                .required('Email address is required')\n                .email('Invalid email address'),\n\n            password: Yup.string()\n                .min(6, 'Password should have 6 characters minimum')\n                .required('Password is required'),\n\n            confirmPassword: Yup.string()\n                .required('Please confirm your password')\n                .oneOf([Yup.ref('password'), null], 'Password must matched'),\n        }),\n        onSubmit: (values) => {\n            const user = {\n                pseudo: values.pseudo,\n                email: values.email,\n                password: values.password,\n            };\n            handleRegister(user);\n        },\n    });\n\n    return (\n        <>\n            {isSignUpSuccessful && <Redirect to=\"/login\" />}\n\n            <PageTemplate pageTitle=\"Register\" hasHeader={false}>\n                <AuthWrapper>\n                    <form\n                        className=\"auth__component\"\n                        onSubmit={userRegister.handleSubmit}\n                        noValidate>\n                        <h1 className=\"auth__title\">Register</h1>\n                        <div className=\"auth__input__wrapper\">\n                            <input\n                                className=\"auth__input\"\n                                type=\"text\"\n                                {...userRegister.getFieldProps('pseudo')}\n                            />\n                            <span\n                                className={`placeholder ${\n                                    userRegister.values.pseudo && 'placeholder_active'\n                                }`}>\n                                Pseudo\n                            </span>\n                        </div>\n                        {userRegister.touched.pseudo && userRegister.errors.pseudo && (\n                            <p className=\"auth__error\">{userRegister.errors.pseudo}</p>\n                        )}\n                        <div className=\"auth__input__wrapper\">\n                            <input\n                                className=\"auth__input\"\n                                type=\"email\"\n                                {...userRegister.getFieldProps('email')}\n                            />\n                            <span\n                                className={`placeholder ${\n                                    userRegister.values.email && 'placeholder_active'\n                                }`}>\n                                Email\n                            </span>\n                        </div>\n                        {userRegister.touched.email && userRegister.errors.email && (\n                            <p className=\"auth__error\">{userRegister.errors.email}</p>\n                        )}\n                        {emailAlreadyExist && (\n                            <p className=\"auth__error\">{emailAlreadyExist.message}</p>\n                        )}\n                        <div className=\"auth__input__wrapper\">\n                            <input\n                                className=\"auth__input\"\n                                type=\"password\"\n                                {...userRegister.getFieldProps('password')}\n                            />\n                            <span\n                                className={`placeholder ${\n                                    userRegister.values.password && 'placeholder_active'\n                                }`}>\n                                Password\n                            </span>\n                        </div>\n                        {userRegister.touched.password && userRegister.errors.password && (\n                            <p className=\"auth__error\">{userRegister.errors.password}</p>\n                        )}\n                        <div className=\"auth__input__wrapper\">\n                            <input\n                                className=\"auth__input\"\n                                type=\"password\"\n                                {...userRegister.getFieldProps('confirmPassword')}\n                            />\n                            <span\n                                className={`placeholder ${\n                                    userRegister.values.confirmPassword && 'placeholder_active'\n                                }`}>\n                                Confirm Password\n                            </span>\n                        </div>\n                        {userRegister.touched.confirmPassword &&\n                            userRegister.errors.confirmPassword && (\n                                <p className=\"auth__error\">{userRegister.errors.confirmPassword}</p>\n                            )}\n                        <Button\n                            type=\"submit\"\n                            className=\"auth__btn\"\n                            style={{ position: 'relative' }}>\n                            {isLoading ? <Loader color=\"white\" radius=\"28\" /> : 'Register'}\n                        </Button>\n                        <p className=\"auth__has-account\">\n                            You have already account ? <Link to=\"/login\">Connexion</Link>\n                        </p>\n                    </form>\n                </AuthWrapper>\n            </PageTemplate>\n        </>\n    );\n};\n\nexport default Register;\n","import React, { useEffect, useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport { HiOutlineSearch } from 'react-icons/hi';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport { IoAddCircleOutline } from 'react-icons/io5';\r\nimport { FiCheckCircle } from 'react-icons/fi';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst InviteMember = ({ isOpen, setIsOpen }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [usersToInvite, setUsersToInvite] = useState([]);\r\n    const [userSelected, setUserSelected] = useState([]);\r\n    const [userSearch, setUserSearch] = useState([]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    useEffect(() => {\r\n\r\n        if (!isEmpty(currentBoard)) {\r\n            axios\r\n                .get(`/user/all/${currentBoard._id}`)\r\n                .then((res) => {\r\n                    setUsersToInvite(res.data);\r\n                    setUserSearch(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, [currentBoard]);\r\n\r\n    const handleSearchUser = () => {\r\n        setUserSearch(usersToInvite.filter((user) => user.pseudo.includes(searchValue)));\r\n    };\r\n\r\n    const handleSendInvation = () => {\r\n        const invitationObject = {\r\n            senderPseudo: user.pseudo,\r\n            guestUserIDList: userSelected,\r\n            boardID: currentBoard._id,\r\n            boardName: currentBoard.name,\r\n        };\r\n        setUsersToInvite(usersToInvite.filter((userSug) => !userSelected.includes(userSug._id)));\r\n        setUserSearch(userSearch.filter((userSug) => !userSelected.includes(userSug._id)));\r\n        socket.emit('send invitation', invitationObject);\r\n    };\r\n\r\n    const handleSelectUser = (id) => {\r\n        userSelected.findIndex((userID) => userID === id) === -1\r\n            ? setUserSelected([...userSelected, id])\r\n            : setUserSelected(userSelected.filter((userID) => userID !== id));\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"invitemember\"\r\n            isResponsive={true}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            top=\"46px\"\r\n            left=\"-4px\"\r\n            title=\"Invite to Board\"\r\n            description=\"Search users you want to invite to\">\r\n            <div className=\"invitemember__input__wrapper\">\r\n                <input\r\n                    className=\"invitemember__input__wrapper__input\"\r\n                    placeholder=\"User...\"\r\n                    type=\"text\"\r\n                    value={searchValue}\r\n                    onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n                <Button\r\n                    className=\"invitemember__input__wrapper__btn\"\r\n                    onClick={() => handleSearchUser()}>\r\n                    <HiOutlineSearch />\r\n                </Button>\r\n            </div>\r\n            {!isEmpty(userSearch) && (\r\n                <ul className=\"invitemember__suggest\">\r\n                    {userSearch.map(({ _id, pseudo, picture }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={_id}\r\n                                style={{\r\n                                    marginBottom: index === userSearch.length - 1 ? '' : '15px',\r\n                                }}>\r\n                                <button\r\n                                    className=\"invitemember__suggest__item\"\r\n                                    onClick={() => handleSelectUser(_id)}>\r\n                                    <img\r\n                                        className=\"invitemember__suggest__item__picture\"\r\n                                        src={getPicturePath('user', picture)}\r\n                                        alt={`user ${pseudo}`}\r\n                                    />\r\n                                    <span className=\"invitemember__suggest__item__pseudo\">\r\n                                        {pseudo}\r\n                                    </span>\r\n                                    {userSelected.includes(_id) ? (\r\n                                        <FiCheckCircle className=\"invitemember__suggest__item__icon invitemember__suggest__item__icon--select\" />\r\n                                    ) : (\r\n                                        <IoAddCircleOutline className=\"invitemember__suggest__item__icon\" />\r\n                                    )}\r\n                                </button>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            )}\r\n\r\n            <Button\r\n                className={`invitemember__btn-invite ${\r\n                    isEmpty(userSelected) ? 'invitemember__btn-invite--disabled' : ''\r\n                }`}\r\n                onClick={() => !isEmpty(userSelected) && handleSendInvation()}>\r\n                Invite\r\n            </Button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default InviteMember;\r\n","import React from 'react';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst BoardError = (props) => {\r\n    return (\r\n        <PageTemplate pageTitle=\"Board Error\">\r\n            <h1>Board not found or is Private</h1>\r\n            <Link to=\"/allboards\">Back to home</Link>\r\n        </PageTemplate>\r\n    );\r\n};\r\n\r\nexport default BoardError;\r\n","import React from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { MdPublic } from 'react-icons/md';\r\nimport { IoMdLock } from 'react-icons/io';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst PrivateOrPublic = ({ isOpen, setIsOpen }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n\r\n    const handleChangeState = (state) => {\r\n        if (currentBoard.isPrivate === state) return;\r\n        const boardID = currentBoard._id;\r\n        setIsOpen(false);\r\n        socket.emit('change state', { boardID, state });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"privateorpublic\"\r\n            left=\"-6px\"\r\n            top=\"45px\"\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Visibility\"\r\n            description=\"Choose who can see to this board.\">\r\n            <button\r\n                className={`privateorpublic__btn ${\r\n                    !currentBoard.isPrivate ? 'privateorpublic-active' : ''\r\n                }`}\r\n                style={{ marginBottom: '8px' }}\r\n                onClick={() => handleChangeState(false)}>\r\n                <div className=\"privateorpublic__btn__top\">\r\n                    <MdPublic className=\"privateorpublic__btn__top__icon\" />\r\n                    <span>Public</span>\r\n                </div>\r\n                <p className=\"privateorpublic__btn__desc\">Anyone on the internet can see this.</p>\r\n            </button>\r\n            <button\r\n                className={`privateorpublic__btn ${\r\n                    currentBoard.isPrivate ? 'privateorpublic-active' : ''\r\n                }`}\r\n                onClick={() => handleChangeState(true)}>\r\n                <div className=\"privateorpublic__btn__top\">\r\n                    <IoMdLock className=\"privateorpublic__btn__top__icon\" />\r\n                    <span>Private</span>\r\n                </div>\r\n                <p className=\"privateorpublic__btn__desc\">Only board members can see this</p>\r\n            </button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default PrivateOrPublic;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from '../../utils/axios';\r\n// import { insertSpecialCharacter } from '../../utils/utils';\r\nimport DropDown from '../utils/Dropdown';\r\nimport { VscChromeClose } from 'react-icons/vsc';\r\n\r\nconst EmojiPicker = ({ isOpen, setIsOpen, allowsRef }) => {\r\n    // Faire du call API ici : https://emoji-api.com/\r\n    // insertSpecialCharacter() Afficher les emojis\r\n    const [emoji, setEmoji] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(\r\n                'https://emoji-api.com/categories/travel-places?access_key=c73293510309d49f6b5de5ad0badf72689ddf3ec'\r\n            )\r\n            .then((res) => {\r\n                setEmoji(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <DropDown\r\n            allowsRef={allowsRef}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            bottom=\"-160px\"\r\n            right=\"-8px\">\r\n            <div className=\"emojipicker\">\r\n                <div className=\"emojipicker__category\">\r\n                    <button\r\n                        className=\"emojipicker__category__btn-close\"\r\n                        onClick={() => setIsOpen(false)}>\r\n                        <VscChromeClose />\r\n                    </button>\r\n                </div>\r\n                <div className=\"emojipicker__content\">\r\n                    {emoji.map((emo, index) => {\r\n                        return (\r\n                            <button key={index} className=\"emojipicker__content__item\">\r\n                                {emo.character}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default EmojiPicker;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { insertSpecialCharacter, removeHtmlClass, removeHtmlStyle } from '../../utils/utils';\r\nimport Button from '../utils/Button';\r\nimport { MdInsertEmoticon } from 'react-icons/md';\r\nimport EmojiPicker from './EmojiPicker';\r\n\r\nconst ContentEditable = ({ setIsOpen, content, submitFunc, HTMLInjectedRef }) => {\r\n    // const [innerContent, setInnerContent] = useState('');\r\n    const [isOpenEmojiPicker, setIsOpenEmojiPicker] = useState(false);\r\n    const editorRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const outputRef = useRef();\r\n\r\n    const parseValue = (value) => {\r\n        return value.replaceAll(\r\n            /\\*[a-z0-1A-Z]+/g,\r\n            '<span class=\"description-word-important\">$&</span>'\r\n        );\r\n    };\r\n    const handleSaveDescription = async () => {\r\n        submitFunc && submitFunc(removeHtmlStyle(outputRef.current.innerHTML));\r\n    };\r\n\r\n    useEffect(() => {\r\n        outputRef.current.innerHTML = content;\r\n        descriptionRef.current.innerHTML = removeHtmlClass(outputRef.current.innerHTML);\r\n        // setInnerContent(outputRef.current.textContent);\r\n    }, [descriptionRef, content]);\r\n\r\n    const handleFormatDescription = (e) => {\r\n        if (e.keyCode === 9) {\r\n            e.preventDefault();\r\n            insertSpecialCharacter(descriptionRef, 0x0009);\r\n            outputRef.current.innerHTML = parseValue(descriptionRef.current.innerHTML);\r\n        }\r\n    };\r\n\r\n    const handleSetDescription = (e) => {\r\n        // setInnerContent(e.target.textContent);\r\n        outputRef.current.innerHTML = removeHtmlStyle(parseValue(e.target.innerHTML));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editdescription__wrapper\" ref={editorRef}>\r\n                <div\r\n                    onKeyDown={handleFormatDescription}\r\n                    spellCheck={false}\r\n                    onInput={handleSetDescription}\r\n                    ref={descriptionRef}\r\n                    className=\"editdescription__wrapper__input\"\r\n                    contentEditable={true}\r\n                />\r\n                <div ref={outputRef} className=\"editdescription__wrapper__output\"></div>\r\n                <button\r\n                    className=\"editdescription__wrapper__btn-emoji\"\r\n                    onClick={() => setIsOpenEmojiPicker(true)}>\r\n                    <MdInsertEmoticon />\r\n                </button>\r\n                <EmojiPicker\r\n                    allowsRef={editorRef}\r\n                    isOpen={isOpenEmojiPicker}\r\n                    setIsOpen={setIsOpenEmojiPicker}\r\n                />\r\n            </div>\r\n            {/* <div className=\"editdescription__chars-wrapper\">\r\n                <span className=\"editdescription__chars-wrapper__item\">\r\n                    max chars : {MAX_CHARS}\r\n                </span>\r\n                <span\r\n                    className={`editdescription__chars-wrapper__item ${\r\n                        innerContent.length > MAX_CHARS ? 'maxchars-error' : ''\r\n                    }`}>\r\n                    current chars : {innerContent.length}\r\n                </span>\r\n            </div> */}\r\n\r\n            <div className=\"editdescription__btn-wrapper\">\r\n                <Button\r\n                    className=\"editdescription__btn-wrapper__btn-send\"\r\n                    onClick={() => handleSaveDescription()}>\r\n                    Save\r\n                </Button>\r\n                <button\r\n                    className=\"editdescription__btn-wrapper__btn-cancel\"\r\n                    onClick={() => setIsOpen(false)}>\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ContentEditable;\r\n","import React from 'react';\r\n\r\nconst CategoryTitle = ({ icon, title, withMarginBottom = true }) => {\r\n    return (\r\n        <div className=\"categorytitle\" style={{ marginBottom: withMarginBottom ? '16px' : '0' }}>\r\n            <span className=\"categorytitle__icon\">{icon}</span>\r\n            <span className=\"categorytitle__label\">{title}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryTitle;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { CgClose } from 'react-icons/cg';\r\nimport { MdEdit, MdDescription } from 'react-icons/md';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport socket from '../../../utils/socket';\r\nimport ContentEditable from '../ContentEditable';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\n\r\nconst BoardMenu = ({ isOpen, setIsOpen }) => {\r\n    const descriptionRef = useRef();\r\n    const boardMenuRef = useRef();\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [isEditDescription, setIsEditDescription] = useState(false);\r\n\r\n    const isBoardOwner = () => {\r\n        return !isEmpty(user) && !isEmpty(board) && board.owner._id === user._id;\r\n    };\r\n\r\n    const handleFormatDate = () => {\r\n        if (isEmpty(board)) return;\r\n        const { dayNum, monthLetter, years } = cutMongooseTimestampInDate(board.createdAt);\r\n        return `on ${dayNum} ${monthLetter}, ${years} `;\r\n    };\r\n\r\n    const handleBanMember = (memberBannedID) => {\r\n        const banMemberObject = {\r\n            boardID: board._id,\r\n            memberBannedID,\r\n        };\r\n        socket.emit('ban member', banMemberObject);\r\n    };\r\n\r\n    const handleSaveDescription = (newDesc) => {\r\n        socket.emit('change description', { description: newDesc, boardID: board._id });\r\n        setIsEditDescription(false);\r\n    };\r\n\r\n    const handleLeaveBoard = () => {\r\n        const leaveBoardObject = {\r\n            userID: user._id,\r\n            boardID: board._id,\r\n        };\r\n        socket.emit('leave board', leaveBoardObject);\r\n    };\r\n\r\n    const handleDeleteBoard = () => {\r\n        const boardID = board._id;\r\n        socket.emit('delete board', boardID);\r\n    };\r\n    useEffect(() => {\r\n        if (!isEmpty(board.description) && descriptionRef.current) {\r\n            descriptionRef.current.innerHTML = board.description;\r\n        }\r\n    }, [board.description, isOpen, isEditDescription]);\r\n\r\n    return (\r\n        <>\r\n            <DropDown\r\n                isVertical={false}\r\n                contentRef={boardMenuRef}\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                top=\"0\"\r\n                right=\"-8px\">\r\n                <div className=\"boardmenu\" ref={boardMenuRef}>\r\n                    <div className=\"boardmenu__top\">\r\n                        <h3 className=\"boardmenu__top__name\">{board.name}</h3>\r\n                        <button\r\n                            className=\"boardmenu__top__btn-close\"\r\n                            onClick={() => setIsOpen(false)}>\r\n                            <CgClose />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"boardmenu__content\">\r\n                        <div className=\"boardmenu__content__creator\">\r\n                            <CategoryTitle icon={<FaUserCircle />} title=\"Made by\" />\r\n                            <div className=\"boardmenu__content__creator__profil\">\r\n                                <img\r\n                                    className=\"boardmenu__content__creator__profil__img\"\r\n                                    src={\r\n                                        !isEmpty(board) &&\r\n                                        getPicturePath('user', board.owner.picture)\r\n                                    }\r\n                                    alt={`owner ${!isEmpty(board) && board.owner.pseudo}`}\r\n                                />\r\n                                <div className=\"boardmenu__content__creator__profil__infos\">\r\n                                    <span className=\"boardmenu__content__creator__profil__infos__name\">\r\n                                        {!isEmpty(board) && board.owner.pseudo}\r\n                                    </span>\r\n                                    <span className=\"boardmenu__content__creator__profil__infos__date\">\r\n                                        {handleFormatDate()}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"boardmenu__content__description\">\r\n                            <div className=\"boardmenu__content__description__top\">\r\n                                <CategoryTitle\r\n                                    icon={<MdDescription />}\r\n                                    title=\"Description\"\r\n                                    withMarginBottom={false}\r\n                                />\r\n                                {!isEditDescription && isBoardOwner() && (\r\n                                    <button\r\n                                        className=\"boardmenu__content__description__top__btn-edit\"\r\n                                        onClick={() => setIsEditDescription(!isEditDescription)}>\r\n                                        <MdEdit className=\"boardmenu__content__description__top__btn-edit__icon\" />\r\n                                        <span>Edit</span>\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                            {isEditDescription ? (\r\n                                <ContentEditable\r\n                                    content={board.description}\r\n                                    submitFunc={handleSaveDescription}\r\n                                    setIsOpen={setIsEditDescription}\r\n                                />\r\n                            ) : (\r\n                                <p\r\n                                    ref={descriptionRef}\r\n                                    className=\"boardmenu__content__description__para\"></p>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"boardmenu__content__team\">\r\n                            <CategoryTitle icon={<MdDescription />} title=\"Team\" />\r\n                            <ul className=\"boardmenu__content__team__list\">\r\n                                {!isEmpty(board) &&\r\n                                    board.members.map((member, index) => {\r\n                                        return (\r\n                                            <li\r\n                                                key={member._id}\r\n                                                className=\"boardmenu__content__team__list__item\"\r\n                                                style={{\r\n                                                    marginBottom:\r\n                                                        index === board.members.length - 1\r\n                                                            ? ''\r\n                                                            : '15px',\r\n                                                }}>\r\n                                                <img\r\n                                                    className=\"boardmenu__content__team__list__item__img\"\r\n                                                    src={getPicturePath('user', member.picture)}\r\n                                                    alt=\"\"\r\n                                                />\r\n                                                <span className=\"boardmenu__content__team__list__item__pseudo\">\r\n                                                    {member.pseudo}\r\n                                                </span>\r\n                                                {board.owner._id === member._id ? (\r\n                                                    <span className=\"boardmenu__content__team__list__item__admin\">\r\n                                                        Admin\r\n                                                    </span>\r\n                                                ) : (\r\n                                                    isBoardOwner() && (\r\n                                                        <button\r\n                                                            className=\"boardmenu__content__team__list__item__btn-remove\"\r\n                                                            onClick={() =>\r\n                                                                handleBanMember(member._id)\r\n                                                            }>\r\n                                                            Remove\r\n                                                        </button>\r\n                                                    )\r\n                                                )}\r\n                                            </li>\r\n                                        );\r\n                                    })}\r\n                            </ul>\r\n                        </div>\r\n                        <button\r\n                            className=\"boardmenu__content__btn-leave\"\r\n                            onClick={() => handleLeaveBoard()}>\r\n                            Leave\r\n                        </button>\r\n                        {isBoardOwner() && (\r\n                            <button\r\n                                className=\"boardmenu__content__btn-delete\"\r\n                                onClick={() => handleDeleteBoard()}>\r\n                                Delete Board\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </DropDown>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BoardMenu;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { MdAdd } from 'react-icons/md';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\nimport { closeOnClickOutside } from '../../../utils/utils';\r\n\r\nconst AddListOrCard = ({\r\n    isOpen,\r\n    setIsOpen,\r\n    listID,\r\n    onClick,\r\n    isAddList,\r\n    isFirstList,\r\n    isFirstCard,\r\n    style,\r\n    scrollBottomReset,\r\n    scrollLeftReset,\r\n}) => {\r\n    const addListRef = useRef();\r\n    const inputRef = useRef();\r\n    const [isOpenInput, setIsOpenInput] = useState(false);\r\n    const [name, setName] = useState('');\r\n    const user = useSelector((state) => state.userReducer);\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const currentIsOpen = isAddList ? isOpenInput : isOpen;\r\n    const currentSetIsOpen = isAddList ? setIsOpenInput : setIsOpen;\r\n    const boardID = board._id;\r\n\r\n    const handleAddListOrCard = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!name) return inputRef.current.focus();\r\n        const userID = user._id;\r\n\r\n        isAddList\r\n            ? socket.emit('add list', { name, boardID, userID })\r\n            : socket.emit('add card', { name, boardID, listID, userID });\r\n\r\n        setName('');\r\n    };\r\n\r\n    const handleOnClick = () => {\r\n        if (!isAddList) {\r\n            onClick && onClick();\r\n        }\r\n        currentSetIsOpen(true);\r\n    };\r\n\r\n    const handleButtonText = () => {\r\n        return `Add ${isFirstList || isFirstCard ? '' : 'another'} ${isAddList ? 'list' : 'card'}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentListID = listID;\r\n        socket.on('add list', ({ listCreated, boardID, userID }) => {\r\n            if (userID === user._id) {\r\n                setTimeout(() => {\r\n                    inputRef.current && inputRef.current.focus();\r\n                    scrollLeftReset && scrollLeftReset();\r\n                }, 0);\r\n            }\r\n        });\r\n        socket.on('add card', ({ listID, userID }) => {\r\n            if (currentListID === listID && userID === user._id) {\r\n                setTimeout(() => {\r\n                    inputRef.current && inputRef.current.focus();\r\n                    scrollBottomReset && scrollBottomReset();\r\n                }, 0);\r\n            }\r\n        });\r\n    }, [board, listID, scrollBottomReset, scrollLeftReset, user._id]);\r\n\r\n    useEffect(() => {\r\n        if (currentIsOpen) {\r\n            inputRef.current && inputRef.current.focus();\r\n            scrollLeftReset && scrollLeftReset();\r\n            closeOnClickOutside(addListRef, currentSetIsOpen);\r\n        }\r\n    }, [currentIsOpen, currentSetIsOpen, scrollLeftReset]);\r\n\r\n    return (\r\n        <>\r\n            {currentIsOpen ? (\r\n                <form\r\n                    ref={addListRef}\r\n                    className=\"addlist addlist__form\"\r\n                    style={style}\r\n                    onSubmit={(event) => handleAddListOrCard(event)}>\r\n                    <div className=\"addlist__head\">\r\n                        <input\r\n                            ref={inputRef}\r\n                            className=\"addlist__input\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            type=\"text\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"addlist__btn-add\">\r\n                        Add {isAddList ? 'list' : 'card'}\r\n                    </button>\r\n                </form>\r\n            ) : (\r\n                <button\r\n                    style={{\r\n                        ...style,\r\n                        margin: isAddList ? '' : 'auto',\r\n                        background: 'transparent',\r\n                        display: 'flex',\r\n                    }}\r\n                    onClick={(e) => handleOnClick()}>\r\n                    <div className=\"addlist\">\r\n                        <span>{handleButtonText()}</span>\r\n                        <MdAdd className=\"addlist__head__icon\" />\r\n                    </div>\r\n                </button>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddListOrCard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport { HiOutlineSearch } from 'react-icons/hi';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport { IoAddCircleOutline } from 'react-icons/io5';\r\nimport { FiCheckCircle } from 'react-icons/fi';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst AssignMember = ({ isOpen, setIsOpen, cardMembers, cardID, listID }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n    const [members, setMembers] = useState([]);\r\n    const [usersToInvite, setUsersToInvite] = useState([]);\r\n    const [userSearch, setUserSearch] = useState([]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    useEffect(() =>{\r\n        if (isEmpty(cardMembers)) return;\r\n        setMembers(cardMembers.map((member) => member._id))\r\n    }, [cardMembers]);\r\n\r\n    useEffect(() => {\r\n        if (!isEmpty(currentBoard)) {\r\n            axios\r\n                .post(`/board/members/${currentBoard._id}`, { cardID, listID })\r\n                .then((res) => {\r\n                    setUsersToInvite(res.data);\r\n                    setUserSearch(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, [isOpen, cardID, listID, currentBoard]);\r\n\r\n    const handleSearchUser = () => {\r\n        setUserSearch(usersToInvite.filter((user) => user.pseudo.includes(searchValue)));\r\n    };\r\n\r\n    const handleAssignMemberToCard = (memberID) => {\r\n        members.findIndex((memberIDArg) => memberIDArg === memberID) === -1\r\n            ? setMembers((oldMember) => {\r\n                  oldMember.push(memberID);\r\n                  const assignMemberObject = {\r\n                      assignedMembersID: oldMember,\r\n                      boardID: currentBoard._id,\r\n                      listID,\r\n                      cardID,\r\n                  };\r\n                  socket.emit('assign member card', assignMemberObject);\r\n                  return [...oldMember];\r\n              })\r\n            : setMembers((oldMember) => {\r\n                  oldMember = oldMember.filter((memberIDArg) => memberIDArg !== memberID);\r\n                  const assignMemberObject = {\r\n                      assignedMembersID: oldMember,\r\n                      boardID: currentBoard._id,\r\n                      listID,\r\n                      cardID,\r\n                  };\r\n                  socket.emit('assign member card', assignMemberObject);\r\n                  return [...oldMember];\r\n              });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"invitemember\"\r\n            isResponsive={true}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Members\"\r\n            description=\"Assign members to this card\">\r\n            <div className=\"invitemember__input__wrapper\">\r\n                <input\r\n                    className=\"invitemember__input__wrapper__input\"\r\n                    placeholder=\"User...\"\r\n                    type=\"text\"\r\n                    value={searchValue}\r\n                    onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n                <Button\r\n                    className=\"invitemember__input__wrapper__btn\"\r\n                    onClick={() => handleSearchUser()}>\r\n                    <HiOutlineSearch />\r\n                </Button>\r\n            </div>\r\n            {!isEmpty(userSearch) && (\r\n                <ul className=\"invitemember__suggest\">\r\n                    {userSearch.map(({ _id, pseudo, picture }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={_id}\r\n                                style={{\r\n                                    marginBottom: index === userSearch.length - 1 ? '' : '15px',\r\n                                }}>\r\n                                <button\r\n                                    className=\"invitemember__suggest__item\"\r\n                                    onClick={() => handleAssignMemberToCard(_id)}>\r\n                                    <img\r\n                                        className=\"invitemember__suggest__item__picture\"\r\n                                        src={getPicturePath('user', picture)}\r\n                                        alt={`user ${pseudo}`}\r\n                                    />\r\n                                    <span className=\"invitemember__suggest__item__pseudo\">\r\n                                        {pseudo}\r\n                                    </span>\r\n                                    {members.includes(_id) ? (\r\n                                        <FiCheckCircle className=\"invitemember__suggest__item__icon invitemember__suggest__item__icon--select\" />\r\n                                    ) : (\r\n                                        <IoAddCircleOutline className=\"invitemember__suggest__item__icon\" />\r\n                                    )}\r\n                                </button>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            )}\r\n\r\n            {/* <Button\r\n                className={`invitemember__btn-invite ${\r\n                    isEmpty(userSelected) ? 'invitemember__btn-invite--disabled' : ''\r\n                }`}\r\n                onClick={() => !isEmpty(userSelected) && handleAssignMember()}>\r\n                Add\r\n            </Button> */}\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default AssignMember;\r\n","import React from 'react';\r\nimport { getPicturePath } from '../../utils/utils';\r\n\r\nconst UserDisplay = ({ pseudo, picture }) => {\r\n    return (\r\n        <li className=\"userdisplay\">\r\n            <img className=\"userdisplay__img\" src={getPicturePath('user', picture)} alt=\"\" />\r\n            <span className=\"userdisplay__name\">{pseudo}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default UserDisplay;\r\n","import React, { useState } from 'react';\r\nimport CategoryTitle from '../../../layouts/CategoryTitle';\r\nimport { MdDescription, MdEdit } from 'react-icons/md';\r\nimport Button from '../../../utils/Button';\r\nimport ContentEditable from '../../ContentEditable';\r\nimport socket from '../../../../utils/socket';\r\n\r\nconst Description = ({ card, listID, board }) => {\r\n    const [isOpenEditDesc, setIsOpenEditDesc] = useState(false);\r\n\r\n    const handleChangeCardDescription = (newDesc) => {\r\n        socket.emit('change card description', {\r\n            boardID: board._id,\r\n            listID,\r\n            cardID: card._id,\r\n            description: newDesc,\r\n        });\r\n        setIsOpenEditDesc(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"cardmodal__content__left__description\">\r\n            <div className=\"cardmodal__content__left__description__head\">\r\n                <CategoryTitle\r\n                    icon={<MdDescription />}\r\n                    title=\"Description\"\r\n                    withMarginBottom={false}\r\n                />\r\n                <Button\r\n                    className=\"cardmodal__content__left__description__head__btn-edit\"\r\n                    onClick={() => setIsOpenEditDesc(true)}>\r\n                    <MdEdit className=\"cardmodal__content__left__description__head__btn-edit__icon\" />\r\n                    <span className=\"cardmodal__content__left__description__head__btn-edit__label\">\r\n                        Edit\r\n                    </span>\r\n                </Button>\r\n            </div>\r\n            {isOpenEditDesc ? (\r\n                <ContentEditable\r\n                    content={card.description}\r\n                    submitFunc={handleChangeCardDescription}\r\n                    setIsOpen={setIsOpenEditDesc}\r\n                />\r\n            ) : (\r\n                <p\r\n                    dangerouslySetInnerHTML={{ __html: card.description }}\r\n                    className=\"cardmodal__content__left__description__content\"\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Description;\r\n","import React, { useEffect, useState } from 'react';\r\nimport CategoryTitle from '../../../layouts/CategoryTitle';\r\nimport { MdDescription, MdAdd } from 'react-icons/md';\r\nimport Button from '../../../utils/Button';\r\nimport axios from '../../../../utils/axios';\r\nimport download from 'downloadjs';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../../utils/utils';\r\nimport socket from '../../../../utils/socket';\r\n\r\nconst Attachments = ({ boardID, listID, cardID, attachments }) => {\r\n    const [attachmentsState, setAttachmentsState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(attachments)) return;\r\n        setAttachmentsState(attachments);\r\n    }, [attachments]);\r\n\r\n    useEffect(() => {\r\n        socket.on('delete attachment', ({ attachmentID }) => {\r\n            setAttachmentsState((oldAttachment) =>\r\n                oldAttachment.filter((attach) => attach._id !== attachmentID)\r\n            );\r\n        });\r\n    }, []);\r\n\r\n    const isPicture = (file) => {\r\n        const fileExtension = file.match(/\\.[0-9a-z]+$/i)[0].toLowerCase();\r\n\r\n        return fileExtension === '.png' || fileExtension === '.jpg' || fileExtension === '.jpeg';\r\n    };\r\n\r\n    const handleDeleteAttachement = (attachmentID) => {\r\n        socket.emit('delete attachment', { boardID, listID, cardID, attachmentID });\r\n    };\r\n\r\n    const handleAddAttachement = (e) => {\r\n        const formData = new FormData();\r\n        formData.append('attachment', e.target.files[0]);\r\n        formData.append('boardID', boardID);\r\n        formData.append('listID', listID);\r\n        formData.append('cardID', cardID);\r\n\r\n        axios\r\n            .post('/board/list/card/attachment', formData)\r\n            .then((res) => {\r\n                setAttachmentsState([...attachmentsState, res.data]);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    const handleFormatDate = (createdAt) => {\r\n        if (isEmpty(createdAt)) return;\r\n        const { dayNum, monthLetter, years } = cutMongooseTimestampInDate(createdAt);\r\n        return `Added ${monthLetter} ${dayNum}, ${years}`;\r\n    };\r\n\r\n    const handleDownloadAttachment = (name, filePath) => {\r\n        axios\r\n            .post('/board/list/card/download-attachment', { filePath }, { responseType: 'blob' })\r\n            .then((res) => {\r\n                console.log(res);\r\n                download(res.data, name);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"cardmodal__content__left__attachements\">\r\n            <div className=\"cardmodal__content__left__attachements__head\">\r\n                <CategoryTitle\r\n                    icon={<MdDescription />}\r\n                    title=\"Attachements\"\r\n                    withMarginBottom={false}\r\n                />\r\n                <label\r\n                    className=\"cardmodal__content__left__attachements__head__btn-add\"\r\n                    htmlFor=\"upload-attachement\">\r\n                    {/* <Button className=\"cardmodal__content__left__attachements__head__btn-add\">\r\n                    <MdAdd className=\"cardmodal__content__left__attachements__head__btn-add__icon\" />\r\n                    <span className=\"cardmodal__content__left__attachements__head__btn-add__label\">\r\n                        Add\r\n                    </span>\r\n                        </Button> */}\r\n                    <MdAdd className=\"cardmodal__content__left__attachements__head__btn-add__icon\" />\r\n                    <span className=\"cardmodal__content__left__attachements__head__btn-add__label\">\r\n                        Add\r\n                    </span>\r\n                    <input\r\n                        type=\"file\"\r\n                        onChange={(e) => handleAddAttachement(e)}\r\n                        name=\"\"\r\n                        id=\"upload-attachement\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <ul className=\"cardmodal__content__left__attachements__list\">\r\n                {attachmentsState.map(({ _id, name, filePath, createdAt }, index) => {\r\n                    return (\r\n                        <li\r\n                            key={index}\r\n                            className=\"cardmodal__content__left__attachements__list__item\">\r\n                            <div className=\"cardmodal__content__left__attachements__list__item__left\">\r\n                                {isPicture(name) ? (\r\n                                    <img\r\n                                        className=\"cardmodal__content__left__attachements__list__item__left__img\"\r\n                                        src={getPicturePath('attachment', filePath)}\r\n                                        alt=\"attachment\"\r\n                                    />\r\n                                ) : (\r\n                                    <span>{name.substring(0, 2)}</span>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"cardmodal__content__left__attachements__list__item__right\">\r\n                                <span className=\"cardmodal__content__left__attachements__list__item__right__date\">\r\n                                    {handleFormatDate(createdAt)}\r\n                                </span>\r\n                                <h4 className=\"cardmodal__content__left__attachements__list__item__right__name\">\r\n                                    {name}\r\n                                </h4>\r\n                                <div className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper\">\r\n                                    <Button\r\n                                        className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper__item\"\r\n                                        onClick={() => handleDownloadAttachment(name, filePath)}>\r\n                                        Download\r\n                                    </Button>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper__item\"\r\n                                        onClick={() => handleDeleteAttachement(_id)}>\r\n                                        Delete\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Attachments;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { closeOnClickOutside, getPicturePath } from '../../../utils/utils';\r\nimport Button from '../../utils/Button';\r\n\r\nconst CommentBox = ({ content, setContent, submitFunc, isNewComment = true, userPicture }) => {\r\n    const commentBoxRef = useRef();\r\n    const commentRef = useRef();\r\n    const [isDisabledPlaceholder, setIsDisabledPlaceholder] = useState(false);\r\n    const [isFocus, setIsFocus] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!content && isFocus) setIsDisabledPlaceholder(false);\r\n        // setIsDisabledPlaceholder(true);\r\n        commentRef.current.textContent = content;\r\n        closeOnClickOutside(commentBoxRef, setIsFocus);\r\n    }, [content]);\r\n\r\n    const handleSubmit = () => {\r\n        if (!content) return commentRef.current.focus();\r\n        submitFunc();\r\n        setContent('');\r\n        commentRef.current.innerHTML = '';\r\n    };\r\n\r\n    const handleOnFocus = () => {\r\n        setIsDisabledPlaceholder(true);\r\n        setIsFocus(true);\r\n    };\r\n\r\n    const handleOnBlur = () => {\r\n        !content && setIsDisabledPlaceholder(false);\r\n    };\r\n\r\n    const handleSetComment = () => {\r\n        setContent(commentRef.current.textContent);\r\n        if (!content) setIsDisabledPlaceholder(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"commentbox\" ref={commentBoxRef}>\r\n            <div className=\"commentbox__head\">\r\n                <img src={getPicturePath('user', userPicture)} alt=\"\" />\r\n                <div className=\"commentbox-input-wrapper\">\r\n                    <div\r\n                        ref={commentRef}\r\n                        onFocus={() => handleOnFocus()}\r\n                        onBlur={() => handleOnBlur()}\r\n                        onInput={() => handleSetComment()}\r\n                        className=\"commentbox-input-wrapper__input\"\r\n                        contentEditable={true}></div>\r\n                    {!isDisabledPlaceholder && (\r\n                        <span className=\"commentbox-input-wrapper__placeholder\">\r\n                            Write a comment...\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={`commentbox__toolbar ${isFocus ? 'commentbox__toolbar--open' : ''}`}>\r\n                <Button onClick={() => handleSubmit()}>{isNewComment ? 'Comment' : 'Save'}</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentBox;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../../utils/socket';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../../utils/utils';\r\nimport CommentBox from '../../board/CommentBox';\r\nimport Button from '../../../utils/Button';\r\n\r\nconst Comments = ({ boardID, listID, cardID, comments }) => {\r\n    const commentRef = useRef();\r\n    const newCommentRef = useRef();\r\n    const [commentsState, setCommentsState] = useState([]);\r\n    const [commentEdited, setCommentEdited] = useState({\r\n        commentID: null,\r\n        isEdit: false,\r\n    });\r\n    const [commentMessageEdited, setCommentMessageEdited] = useState('');\r\n    const { _id: userID, picture } = useSelector((state) => state.userReducer);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        socket.on('card edit comment', ({ boardID, listID, cardID, commentID, message }) => {\r\n            setCommentsState((oldComments) => {\r\n                return oldComments.map((comment) => {\r\n                    if (comment._id === commentID) {\r\n                        comment.message = message;\r\n                    }\r\n                    return comment;\r\n                });\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(comments)) return;\r\n        setCommentsState(comments);\r\n    }, [comments]);\r\n\r\n    const handleFormatDate = (createdAt) => {\r\n        const { dayNum, monthLetter, hour } = cutMongooseTimestampInDate(createdAt);\r\n        return `${dayNum} ${monthLetter} at ${hour}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentCardID = cardID;\r\n        socket.on('card comment', ({ boardID, listID, cardID, comments }) => {\r\n            if (cardID === currentCardID) {\r\n                setCommentsState((oldComments) => {\r\n                    return [...oldComments, comments];\r\n                });\r\n            }\r\n        });\r\n        socket.on('card delete comment', ({ boardID, listID, cardID, commentID }) => {\r\n            if (cardID === currentCardID) {\r\n                setCommentsState((oldComments) => {\r\n                    return oldComments.filter((comment) => comment._id !== commentID);\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket.off('card comment');\r\n            socket.off('card delete comment');\r\n        };\r\n    }, []);\r\n\r\n    const handleSendComment = () => {\r\n        if (!message) return;\r\n        socket.emit('card comment', { boardID, listID, cardID, userID, message });\r\n    };\r\n\r\n    const handleDeleteComment = (commentID) => {\r\n        socket.emit('card delete comment', { boardID, listID, cardID, commentID });\r\n    };\r\n\r\n    const handleEditComment = (commentID) => {\r\n        socket.emit('card edit comment', {\r\n            boardID,\r\n            listID,\r\n            cardID,\r\n            commentID,\r\n            message: commentMessageEdited,\r\n        });\r\n        setCommentEdited({\r\n            commentID: null,\r\n            isEdit: false,\r\n        });\r\n    };\r\n\r\n    const handleSetNewMessage = () => {\r\n        setCommentMessageEdited(newCommentRef.current.textContent);\r\n    };\r\n\r\n    const handleSetEditComment = async (commentID, message) => {\r\n        await setCommentEdited({\r\n            commentID,\r\n            isEdit: true,\r\n        });\r\n        setCommentMessageEdited(message);\r\n        newCommentRef.current.innerText = message;\r\n        // console.log(commentID);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"cardmodal__content__left__comment\">\r\n                <CommentBox\r\n                    content={message}\r\n                    setContent={setMessage}\r\n                    submitFunc={handleSendComment}\r\n                    userPicture={picture}\r\n                />\r\n                <ul className=\"cardmodal__content__left__comment__list\">\r\n                    {commentsState.map(({ user, message, createdAt, _id }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={index}\r\n                                className=\"cardmodal__content__left__comment__list__item\"\r\n                                style={{\r\n                                    marginBottom: index === commentsState.length - 1 ? '' : '16px',\r\n                                }}>\r\n                                <div className=\"cardmodal__content__left__comment__list__item__head\">\r\n                                    <img\r\n                                        src={getPicturePath('user', user.picture)}\r\n                                        alt=\"\"\r\n                                        className=\"cardmodal__content__left__comment__list__item__head__profil-img\"\r\n                                    />\r\n                                    <div className=\"cardmodal__content__left__comment__list__item__head__infos\">\r\n                                        <h4 className=\"cardmodal__content__left__comment__list__item__head__infos__name\">\r\n                                            {user.pseudo}\r\n                                        </h4>\r\n                                        <span className=\"cardmodal__content__left__comment__list__item__head__infos__date\">\r\n                                            {handleFormatDate(createdAt)}\r\n                                        </span>\r\n                                    </div>\r\n                                    {user._id === userID && (\r\n                                        <div className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper\">\r\n                                            <button\r\n                                                className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper__edit\"\r\n                                                onClick={() => handleSetEditComment(_id, message)}>\r\n                                                Edit\r\n                                            </button>\r\n                                            -\r\n                                            <button\r\n                                                className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper__delete\"\r\n                                                onClick={() => handleDeleteComment(_id)}>\r\n                                                Delete\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                {commentEdited.isEdit && commentEdited.commentID === _id ? (\r\n                                    // <CommentBox\r\n                                    //     isNewComment={false}\r\n                                    //     content={commentMessageEdited}\r\n                                    //     setContent={setCommentMessageEdited}\r\n                                    // />\r\n                                    <div className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper\">\r\n                                        <div\r\n                                            ref={newCommentRef}\r\n                                            contentEditable={true}\r\n                                            onInput={() => handleSetNewMessage()}\r\n                                            className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__input\"></div>\r\n                                        <div className=\"\" style={{ display: 'flex' }}>\r\n                                            <Button\r\n                                                className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__btn-save\"\r\n                                                onClick={() => handleEditComment(_id)}>\r\n                                                Save\r\n                                            </Button>\r\n                                            <Button\r\n                                                className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__btn-cancel\"\r\n                                                onClick={() =>\r\n                                                    setCommentEdited({\r\n                                                        commentID: null,\r\n                                                        isEdit: false,\r\n                                                    })\r\n                                                }>\r\n                                                Cancel\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <p className=\"cardmodal__content__left__comment__list__item__comment\">\r\n                                        {message}\r\n                                    </p>\r\n                                )}\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { IoIosCloseCircleOutline } from 'react-icons/io';\r\n\r\nconst labelStyle = {\r\n    fontSize: '0.8rem',\r\n    borderRadius: '9999px',\r\n    padding: '4px 10px',\r\n    marginRight: '12px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n};\r\n\r\nconst CardLabel = ({ name, color, style, isDeleted = false, onClick }) => {\r\n    const handleCheckName = () => {\r\n        if (name.length > 30) return;\r\n        // AFFICHER ... SI LA CARD EST TROP LONGUE\r\n    };\r\n\r\n    const handleOnClick = () => {\r\n        onClick && onClick();\r\n    };\r\n\r\n    return (\r\n        <span\r\n            className={`cardlabel ${isDeleted ? 'cardlabeldeletable' : ''}`}\r\n            onClick={() => handleOnClick()}\r\n            style={{\r\n                ...labelStyle,\r\n                ...style,\r\n                backgroundColor: `rgba(${color},0.3)`,\r\n                color: `rgb(${color})`,\r\n            }}>\r\n            {name}\r\n            {isDeleted && <IoIosCloseCircleOutline style={{ marginLeft: '6px' }} />}\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default CardLabel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { MdLabel } from 'react-icons/md';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\nimport socket from '../../../utils/socket';\r\nimport { clearToastByTypes, isEmpty, successToast, warningToast } from '../../../utils/utils';\r\nimport CardLabel from '../board/CardLabel';\r\n// const colors = {\r\n//     darkGreen: '#219653',\r\n//     yellow: '#F2C94C',\r\n//     orange: '#F2994A',\r\n//     red: '#EB5757',\r\n//     blue: '#2F80ED',\r\n//     cyan: '#56CCF2',\r\n//     lightGreen: '#6FCF97',\r\n//     veryDarkGray: '#333333',\r\n//     darkGray: '#4F4F4F',\r\n//     midGray: '#828282',\r\n//     lightGray: '#BDBDBD',\r\n//     gray: '#E0E0E0',\r\n// };\r\nconst Label = ({ labels, boardID, listID, cardID, isOpen, setIsOpen }) => {\r\n    const [labelsState, setLabelsState] = useState([]);\r\n    const [labelName, setLabelName] = useState('');\r\n    const [colorSelected, setColorSelected] = useState();\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(labels)) return;\r\n        setLabelsState(labels);\r\n    }, [labels, isOpen]);\r\n\r\n    const colors = {\r\n        darkGreen: '33, 150, 83',\r\n        yellow: '242, 201, 76',\r\n        orange: '242, 153, 74',\r\n        red: '235, 87, 87',\r\n        blue: '47, 128, 237',\r\n        cyan: '86, 204, 242',\r\n        lightGreen: '111, 207, 151',\r\n        veryDarkGray: '51, 51, 51',\r\n        darkGray: '79, 79, 79',\r\n        midGray: '130, 130, 130',\r\n        lightGray: '189, 189, 189',\r\n        gray: '224, 224, 224',\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentCardID = cardID;\r\n        socket.on('card add label', ({ boardID, listID, cardID, label }) => {\r\n            if (currentCardID === cardID) {\r\n                setLabelsState((oldLabels) => {\r\n                    return [...oldLabels, label];\r\n                });\r\n            }\r\n        });\r\n        socket.on('card delete label', ({ boardID, listID, cardID, labelID }) => {\r\n            if (currentCardID === cardID) {\r\n                setLabelsState((oldLabels) => {\r\n                    return oldLabels.filter((label) => label._id !== labelID);\r\n                });\r\n            }\r\n        });\r\n    }, [cardID]);\r\n\r\n    const handleAddLabel = () => {\r\n        if (!labelName) return warningToast('Missing label name');\r\n        if (!colorSelected) return warningToast('Missing label color');\r\n        clearToastByTypes('warning');\r\n        successToast('Label created');\r\n        socket.emit('card add label', { boardID, listID, cardID, labelName, color: colorSelected });\r\n    };\r\n\r\n    const handleDeleteLabel = (labelID) => {\r\n        socket.emit('card delete label', { boardID, listID, cardID, labelID });\r\n    };\r\n\r\n    const handleReturnColorItem = () => {\r\n        const colorsItems = [];\r\n        for (let color in colors) {\r\n            colorsItems.push(\r\n                <button\r\n                    key={color}\r\n                    onClick={() => {\r\n                        colors[color] === colorSelected\r\n                            ? setColorSelected('')\r\n                            : setColorSelected(colors[color]);\r\n                    }}\r\n                    style={{ backgroundColor: `rgba(${colors[color]}, 1)` }}\r\n                    className={`label__colorpicker__item ${\r\n                        colorSelected === colors[color] ? 'color-selected' : ''\r\n                    }`}\r\n                />\r\n            );\r\n        }\r\n        return colorsItems;\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            top=\"46px\"\r\n            contentClass=\"label\"\r\n            title=\"Label\"\r\n            description=\"Select a name and a color\">\r\n            <input\r\n                value={labelName}\r\n                onChange={(e) => setLabelName(e.target.value)}\r\n                placeholder=\"Label...\"\r\n                className=\"label__input\"\r\n                type=\"text\"\r\n            />\r\n            <div className=\"label__colorpicker\">{handleReturnColorItem()}</div>\r\n            <div className=\"label__available\">\r\n                <CategoryTitle icon={<MdLabel />} title=\"Available \" />\r\n                <div className=\"label__available__container\">\r\n                    {!isEmpty(labelsState) &&\r\n                        labelsState.map((label) => {\r\n                            return (\r\n                                // <span style={{display : 'flex'}}>\r\n                                <CardLabel\r\n                                    onClick={() => handleDeleteLabel(label._id)}\r\n                                    style={{ marginBottom: '8px' }}\r\n                                    key={label._id}\r\n                                    name={label.name}\r\n                                    color={label.color}\r\n                                    isDeleted={true}\r\n                                />\r\n                                // </span>\r\n                            );\r\n                        })}\r\n                </div>\r\n            </div>\r\n            <Button className=\"label__btn-add\" onClick={() => handleAddLabel()}>\r\n                Add\r\n            </Button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default Label;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst PicturePicker = ({ isOpen, setIsOpen, boardID, listID, cardID }) => {\r\n    const [pictureSearch, setPictureSearch] = useState('');\r\n    const [pictures, setPictures] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const randomPage = Math.floor(1 + Math.random() * 30);\r\n        axios\r\n            .get('https://api.unsplash.com/photos', {\r\n                params: { per_page: '12', page: randomPage },\r\n                headers: { Authorization: 'Client-ID FStR-mHl49Em5PReprA_w0cQgQBzXRyI0rjzd3GXzTY' },\r\n            })\r\n            .then((res) => {\r\n                setPictures(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        return () => {\r\n            setPictures([]);\r\n        };\r\n    }, []);\r\n\r\n    const handleChangeCardPicture = (picture) => {\r\n        // console.log(picture.urls.regular);\r\n        // console.log(picture.urls.full);\r\n        socket.emit('card change picture', {\r\n            boardID,\r\n            listID,\r\n            cardID,\r\n            picture: picture.urls.regular,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Photo Search\"\r\n            description=\"Search Unsplash for photos\"\r\n            contentClass=\"picturepicker\">\r\n            <input className=\"picturepicker__input\" placeholder=\"Keywords...\" type=\"text\" />\r\n            <div className=\"picturepicker__content\">\r\n                {pictures.map((picture) => {\r\n                    return (\r\n                        <button\r\n                            className=\"picturepicker__content__picture\"\r\n                            key={picture.id}\r\n                            onClick={() => handleChangeCardPicture(picture)}>\r\n                            <img src={picture.urls.thumb} alt=\"\" />\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default PicturePicker;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Button from '../../utils/Button';\r\nimport Modal from '../../utils/Modal';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\nimport { MdGroup, MdLabel, MdImage, MdAdd } from 'react-icons/md';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport AssignMember from '../dropdown/AssignMember';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport UserDisplay from '../../layouts/UserDisplay';\r\nimport socket from '../../../utils/socket';\r\nimport Description from './CardModal/Description';\r\nimport Attachments from './CardModal/Attachments';\r\nimport Comments from './CardModal/Comments';\r\nimport Loader from '../../utils/Loader';\r\nimport Label from '../dropdown/Label';\r\nimport PicturePicker from '../dropdown/PicturePicker';\r\n\r\nconst CardModal = ({ isOpen, setIsOpen, _id, listID, listName }) => {\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const [card, setCard] = useState([]);\r\n    const [isOpenLabel, setIsOpenLabel] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isOpenAssignMember, setIsOpenAssignMember] = useState(false);\r\n    const [isOpenPicturePicker, setIsOpenPicturePicker] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .post(`/board/card/${_id}`, { boardID: board._id, listID })\r\n            .then((res) => {\r\n                setCard(res.data);\r\n                setIsLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [board._id, listID, _id]);\r\n\r\n    useEffect(() => {\r\n        const currentCardID = _id;\r\n        socket.on('assign member card', ({ assignedMembers, cardID }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, members: [...assignedMembers] };\r\n                });\r\n            }\r\n        });\r\n        socket.on('change card description', ({ boardID, listID, cardID, description }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, description: description };\r\n                });\r\n            }\r\n        });\r\n        socket.on('change card title', ({ boardID, listID, cardID, cardTitle }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, title: cardTitle };\r\n                });\r\n            }\r\n        });\r\n        socket.on('card change picture', ({ boardID, listID, cardID, picture }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, picture: picture };\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket.off('change card description');\r\n        };\r\n    }, [_id]);\r\n\r\n    const handleChangeCardTitle = () => {\r\n        const changeCardTitleObject = {\r\n            boardID: board._id,\r\n            listID,\r\n            cardID: _id,\r\n            cardTitle: card.title,\r\n        };\r\n        socket.emit('change card title', changeCardTitleObject);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            hasCloseButton={true}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            hasOverflowYScroll={true}>\r\n            <div className=\"cardmodal\">\r\n                {isLoading ? (\r\n                    <Loader radius={150} />\r\n                ) : (\r\n                    <>\r\n                        <div className=\"cardmodal__head\">\r\n                            <img src={card.picture} alt=\"card\" />\r\n                        </div>\r\n                        <div className=\"cardmodal__content\">\r\n                            <div className=\"cardmodal__content__left\">\r\n                                <div className=\"cardmodal__content__left__head\">\r\n                                    <textarea\r\n                                        value={card.title}\r\n                                        onChange={(e) =>\r\n                                            setCard({ ...card, title: e.target.value })\r\n                                        }\r\n                                        onBlur={() => handleChangeCardTitle()}\r\n                                        className=\"cardmodal__content__left__head__title\"\r\n                                    />\r\n                                    <span className=\"cardmodal__content__left__head__inlist\">\r\n                                        in list{' '}\r\n                                        <span className=\"cardmodal__content__left__head__inlist__name\">\r\n                                            {listName}\r\n                                        </span>\r\n                                    </span>\r\n                                </div>\r\n                                <Description listID={listID} board={board} card={card} />\r\n                                <Attachments\r\n                                    attachments={card.attachments}\r\n                                    boardID={board._id}\r\n                                    listID={listID}\r\n                                    cardID={_id}\r\n                                />\r\n                                <Comments\r\n                                    comments={card.comments}\r\n                                    boardID={board._id}\r\n                                    listID={listID}\r\n                                    cardID={_id}\r\n                                />\r\n                            </div>\r\n                            <div className=\"cardmodal__content__right\">\r\n                                <CategoryTitle icon={<FaUserCircle />} title=\"Actions\" />\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__right__btn\"\r\n                                        onClick={() => setIsOpenLabel(true)}>\r\n                                        <MdLabel className=\"cardmodal__content__right__btn__icon\" />\r\n                                        <span className=\"cardmodal__content__right__btn__label\">\r\n                                            Labels\r\n                                        </span>\r\n                                    </Button>\r\n                                    <Label\r\n                                        labels={card.labels}\r\n                                        boardID={board._id}\r\n                                        listID={listID}\r\n                                        cardID={_id}\r\n                                        isOpen={isOpenLabel}\r\n                                        setIsOpen={setIsOpenLabel}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__right__btn\"\r\n                                        onClick={() => setIsOpenPicturePicker(true)}>\r\n                                        <MdImage className=\"cardmodal__content__right__btn__icon\" />\r\n                                        <span className=\"cardmodal__content__right__btn__label\">\r\n                                            Cover\r\n                                        </span>\r\n                                    </Button>\r\n                                    <PicturePicker\r\n                                        boardID={board._id}\r\n                                        listID={listID}\r\n                                        cardID={_id}\r\n                                        isOpen={isOpenPicturePicker}\r\n                                        setIsOpen={setIsOpenPicturePicker}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"cardmodal__content__right__members\">\r\n                                    <CategoryTitle icon={<MdGroup />} title=\"Members\" />\r\n                                    <ul className=\"cardmodal__content__right__members__list\">\r\n                                        {!isEmpty(card) &&\r\n                                            card.members.map((member) => {\r\n                                                return (\r\n                                                    <UserDisplay\r\n                                                        key={member._id}\r\n                                                        pseudo={member.pseudo}\r\n                                                        picture={member.picture}\r\n                                                    />\r\n                                                );\r\n                                            })}\r\n                                    </ul>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__right__members__btn-add\"\r\n                                        onClick={() => setIsOpenAssignMember(true)}>\r\n                                        <span>Assign a member</span>{' '}\r\n                                        <MdAdd className=\"cardmodal__content__right__members__btn-add__icon\" />\r\n                                    </Button>\r\n                                    <AssignMember\r\n                                        cardMembers={card.members}\r\n                                        cardID={_id}\r\n                                        listID={listID}\r\n                                        isOpen={isOpenAssignMember}\r\n                                        setIsOpen={setIsOpenAssignMember}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default CardModal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CardModal from './CardModal';\r\nimport ModalCreateBoard from './CreateBoard';\r\nimport Notifications from './Notifications';\r\n\r\nexport const CREATE_BOARD_MODAL = 'CREATE_BOARD_MODAL';\r\nexport const NOTIFICATIONS_MODAL = 'NOTIFICATIONS_MODAL';\r\nexport const CARD_MODAL = 'CARD_MODAL';\r\n\r\nconst ModalManager = () => {\r\n    const { modalName, props } = useSelector((state) => state.modalReducer);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        modalName ? setIsOpen(true) : setIsOpen(false);\r\n    }, [modalName]);\r\n\r\n    const handleModalCall = () => {\r\n        switch (modalName) {\r\n            case CREATE_BOARD_MODAL:\r\n                return <ModalCreateBoard {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            case NOTIFICATIONS_MODAL:\r\n                return <Notifications {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            case CARD_MODAL:\r\n                return <CardModal {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            default:\r\n                return <> </>;\r\n        }\r\n    };\r\n\r\n    return handleModalCall();\r\n};\r\n\r\nexport default ModalManager;\r\n","import React, { useEffect } from 'react';\r\nimport { BsPaperclip } from 'react-icons/bs';\r\nimport { MdComment } from 'react-icons/md';\r\nimport { MdAdd } from 'react-icons/md';\r\nimport Button from '../../utils/Button';\r\nimport { CARD_MODAL } from '../modal/ModalManager';\r\nimport { useDispatch } from 'react-redux';\r\nimport { openModal } from '../../../redux/actions/modal.action';\r\nimport { getPicturePath } from '../../../utils/utils';\r\nimport CardLabel from './CardLabel';\r\n\r\nconst CardItem = ({ _id, title, picture, labels, members, attachments, listID, listName }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <li\r\n                className=\"card\"\r\n                onClick={(e) => {\r\n                    dispatch(openModal(CARD_MODAL, { _id, listID, listName }));\r\n                }}>\r\n                {picture && <img className=\"card__image\" src={picture}></img>}\r\n                <span className=\"card__title\">{title}</span>\r\n                <div className=\"card__category\">\r\n                    {labels.map((label) => {\r\n                        return (\r\n                            <CardLabel\r\n                                key={label._id}\r\n                                style={{ marginBottom: '8px' }}\r\n                                name={label.name}\r\n                                color={label.color}\r\n                            />\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"card__bottom\">\r\n                    <ul className=\"card__bottom__members\">\r\n                        {members.map((member, index) => {\r\n                            return (\r\n                                <li key={index} className=\"card__bottom__members__item\">\r\n                                    <img\r\n                                        className=\"card__bottom__members__item__img\"\r\n                                        src={getPicturePath('user', member.picture)}\r\n                                        alt=\"\"\r\n                                    />\r\n                                </li>\r\n                            );\r\n                        })}\r\n                        <li>\r\n                            <Button\r\n                                className=\"card__bottom__members__btn-addmember\"\r\n                                onClick={(e) => e.stopPropagation()}>\r\n                                <MdAdd className=\"card__bottom__members__btn-addmember__icon\" />\r\n                            </Button>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    <div className=\"card__bottom__utils\">\r\n                        <button className=\"card__bottom__utils__btn\">\r\n                            <MdComment />\r\n                            <span className=\"card__bottom__utils__btn__number\">1</span>\r\n                        </button>\r\n                        <button className=\"card__bottom__utils__btn\">\r\n                            <BsPaperclip />\r\n                            <span className=\"card__bottom__utils__btn__number\">1</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CardItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { isEmpty } from '../../../utils/utils';\r\n\r\nconst Placeholder = ({ destinationIndex, draggableID, currentListOverID, type }) => {\r\n    const queryAttrDraggable = 'data-rbd-drag-handle-draggable-id';\r\n    const queryAttrDroppable = 'data-rbd-droppable-id';\r\n    const [placeholderProps, setPlaceholderProps] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (draggableID) {\r\n            const domQuery = `[${queryAttrDraggable}='${draggableID}']`;\r\n            const domListQuery = `[${queryAttrDroppable}='${currentListOverID}']`;\r\n            const draggedDOM = document.querySelector(domQuery);\r\n            const listOverDOM = document.querySelector(domListQuery);\r\n\r\n            if (!draggedDOM) {\r\n                return;\r\n            }\r\n            const { clientHeight, clientWidth } = draggedDOM;\r\n            if (type === 'CARD') {\r\n                const clientY =\r\n                    parseFloat(\r\n                        window.getComputedStyle(listOverDOM ? listOverDOM : draggedDOM.parentNode)\r\n                            .paddingTop\r\n                    ) +\r\n                    [...(listOverDOM ? listOverDOM.children : draggedDOM.parentNode.children)]\r\n                        .slice(0, destinationIndex)\r\n                        .reduce((total, curr) => {\r\n                            const style = curr.currentStyle || window.getComputedStyle(curr);\r\n                            const marginBottom = parseFloat(style.marginBottom);\r\n                            return total + curr.clientHeight + marginBottom;\r\n                        }, 0);\r\n                setPlaceholderProps({\r\n                    clientHeight,\r\n                    clientWidth,\r\n                    clientY,\r\n                    clientX: parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingLeft),\r\n                });\r\n            } else if (type === 'LIST') {\r\n                const clientX =\r\n                    parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingLeft) +\r\n                    [...draggedDOM.parentNode.children]\r\n                        .slice(0, destinationIndex)\r\n                        .reduce((total, curr) => {\r\n                            const style = curr.currentStyle || window.getComputedStyle(curr);\r\n                            const marginRight = parseFloat(style.marginRight);\r\n                            return total + curr.clientWidth + marginRight;\r\n                        }, 0);\r\n\r\n                setPlaceholderProps({\r\n                    clientHeight,\r\n                    clientWidth,\r\n                    clientY: parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingTop),\r\n                    clientX,\r\n                });\r\n            }\r\n        }\r\n    }, [draggableID, destinationIndex, type, currentListOverID]);\r\n\r\n    return (\r\n        <>\r\n            {!isEmpty(placeholderProps) && (\r\n                <div\r\n                    className=\"dndplaceholder\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: placeholderProps.clientY,\r\n                        left: placeholderProps.clientX,\r\n                        height: placeholderProps.clientHeight,\r\n                        width: placeholderProps.clientWidth,\r\n                    }}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Placeholder;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { HiDotsHorizontal } from 'react-icons/hi';\r\nimport { closeOnClickOutside, isEmpty } from '../../../utils/utils';\r\nimport AddListOrCard from './AddList';\r\nimport CardItem from './CardItem';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Modal from '../../utils/Modal';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport Placeholder from './Placeholder';\r\n\r\nconst ListItem = React.forwardRef(({ _id, name, cards, placeHolderProps }, ref) => {\r\n    const droppableListDomID = `list-content-${_id}`;\r\n    const inputRenameRef = useRef();\r\n    const renameFormRef = useRef();\r\n    const [isOpenInputAddCard, setIsOpenInputAddCard] = useState(false);\r\n    const boardID = useSelector((state) => state.boardReducer.currentBoard._id);\r\n    const listsReducer = useSelector((state) => state.boardReducer.currentBoard.lists);\r\n    const [rename, setRename] = useState();\r\n    const [isOpenListMenu, setIsOpenListMenu] = useState(false);\r\n    const [isOpenConfirmDeleteList, setIsOpenConfirmDeleteList] = useState(false);\r\n    const [isOpenListRename, setIsOpenListRename] = useState(false);\r\n    const [cardsState, setCardsState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setCardsState(\r\n            cards.map((card, index) => {\r\n                if (isEmpty(card)) return <span></span>;\r\n                return (\r\n                    <Draggable key={card._id} draggableId={`card-${card._id}`} index={index}>\r\n                        {(provided, snapshot) => {\r\n                            return (\r\n                                <div\r\n                                    className=\"card-wrapper\"\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}>\r\n                                    <CardItem\r\n                                        key={card._id}\r\n                                        listName={name}\r\n                                        listID={_id}\r\n                                        {...card}\r\n                                    />\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    </Draggable>\r\n                );\r\n            })\r\n        );\r\n    }, [cards, listsReducer, _id, name]);\r\n\r\n    const handleAddCartScrollReset = () => {\r\n        const listEl = document.querySelector(`#${droppableListDomID}`);\r\n        listEl.scrollTop = listEl.scrollHeight;\r\n    };\r\n\r\n    const handleOpenInputAddCard = async () => {\r\n        await setIsOpenInputAddCard(true);\r\n        handleAddCartScrollReset();\r\n    };\r\n\r\n    const handleOpenListRename = async () => {\r\n        setIsOpenListMenu(false);\r\n        await setIsOpenListRename(true);\r\n        inputRenameRef.current.focus();\r\n    };\r\n\r\n    const handleListRename = () => {\r\n        socket.emit('rename list', { rename, listID: _id, boardID });\r\n        setIsOpenListRename(false);\r\n    };\r\n\r\n    const handleDeleteList = () => {\r\n        socket.emit('delete list', { listID: _id, boardID });\r\n        setIsOpenConfirmDeleteList(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        closeOnClickOutside(renameFormRef, setIsOpenListRename);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                isOpen={isOpenConfirmDeleteList}\r\n                setIsOpen={setIsOpenConfirmDeleteList}\r\n                hasChoiceButton={true}\r\n                confirmMessage=\"Are your sure delete this list ?\"\r\n                confirmFunction={() => handleDeleteList()}\r\n            />\r\n\r\n            <div ref={ref} className=\"list\">\r\n                <div className=\"list__top\">\r\n                    {isOpenListRename ? (\r\n                        <form\r\n                            className=\"list__top__rename\"\r\n                            onSubmit={() => handleListRename()}\r\n                            ref={renameFormRef}>\r\n                            <input\r\n                                ref={inputRenameRef}\r\n                                className=\"list__top__rename__input\"\r\n                                type=\"text\"\r\n                                defaultValue={name}\r\n                                onChange={(e) => setRename(e.target.value)}\r\n                            />\r\n                            <div className=\"list__top__rename__btn-wrapper\">\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"list__top__rename__btn-wrapper__check list__top__rename__btn-wrapper__btn\">\r\n                                    Save\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setIsOpenListRename(false)}\r\n                                    type=\"button\"\r\n                                    className=\"list__top__rename__btn-wrapper__cancel list__top__rename__btn-wrapper__btn\">\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    ) : (\r\n                        <span className=\"list__top__title\">{name}</span>\r\n                    )}\r\n                    {!isOpenListRename && (\r\n                        <button\r\n                            className=\"list__top__btn-menu\"\r\n                            onClick={() => setIsOpenListMenu(true)}>\r\n                            <HiDotsHorizontal />\r\n                        </button>\r\n                    )}\r\n                    <DropDown\r\n                        top=\"28px\"\r\n                        right=\"-148px\"\r\n                        isOpen={isOpenListMenu}\r\n                        setIsOpen={setIsOpenListMenu}>\r\n                        <ul className=\"listmenu\">\r\n                            <li className=\"listmenu__item\">\r\n                                <button\r\n                                    className=\"listmenu__item__btn\"\r\n                                    onClick={() => handleOpenListRename()}>\r\n                                    Rename\r\n                                </button>\r\n                            </li>\r\n                            <li className=\"listmenu__item listmenu__divider\"></li>\r\n                            <li className=\"listmenu__item\">\r\n                                <button\r\n                                    className=\"listmenu__item__btn\"\r\n                                    onClick={() => setIsOpenConfirmDeleteList(true)}>\r\n                                    Delete this list\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </DropDown>\r\n                </div>\r\n                <Droppable droppableId={`card-droppable-${_id}`} type=\"CARD\">\r\n                    {(provided, snapshot) => {\r\n                        return (\r\n                            <ul\r\n                                id={droppableListDomID}\r\n                                className=\"list__content\"\r\n                                ref={provided.innerRef}\r\n                                {...provided.droppableProps}>\r\n                                {cardsState}\r\n                                {provided.placeholder}\r\n                                {placeHolderProps.type === 'CARD' && snapshot.isDraggingOver && (\r\n                                    <Placeholder {...placeHolderProps} />\r\n                                )}\r\n                                {isOpenInputAddCard && (\r\n                                    <AddListOrCard\r\n                                        onClick={() => handleOpenInputAddCard()}\r\n                                        isOpen={isOpenInputAddCard}\r\n                                        setIsOpen={setIsOpenInputAddCard}\r\n                                        listID={_id}\r\n                                        isFirstCard={isEmpty(cards) && true}\r\n                                    />\r\n                                )}\r\n                            </ul>\r\n                        );\r\n                    }}\r\n                </Droppable>\r\n                {!isOpenInputAddCard && (\r\n                    <AddListOrCard\r\n                        onClick={() => handleOpenInputAddCard()}\r\n                        isOpen={isOpenInputAddCard}\r\n                        setIsOpen={setIsOpenInputAddCard}\r\n                        listID={_id}\r\n                        scrollBottomReset={handleAddCartScrollReset}\r\n                        isFirstCard={isEmpty(cards) && true}\r\n                    />\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default ListItem;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getDraggedDom, isEmpty, reorderArray } from '../../../utils/utils';\r\nimport ListItem from './ListItem';\r\nimport AddListOrCard from './AddList';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { reorderList } from '../../../redux/actions/board.action';\r\nimport socket from '../../../utils/socket';\r\nimport Placeholder from './Placeholder';\r\n\r\nconst ListManager = (props) => {\r\n    const lists = useSelector((state) => state.boardReducer.currentBoard.lists);\r\n    const cards = useSelector((state) => state.boardReducer.currentBoard.cards);\r\n    const boardID = useSelector((state) => state.boardReducer.currentBoard._id);\r\n    const userID = useSelector((state) => state.userReducer._id);\r\n    const [listsState, setListsState] = useState([]);\r\n    const [placeHolderProps, setPlaceHolderProps] = useState({\r\n        destinationIndex: null,\r\n        draggableID: '',\r\n        currentListOverID: '',\r\n        type: '',\r\n    });\r\n    const [isDragScroll, setIsDragScroll] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const handleClearDraggedAnimation = () => {\r\n        if (!placeHolderProps.draggableID) return;\r\n\r\n        const draggedEl = getDraggedDom(placeHolderProps.draggableID).children[0];\r\n        draggedEl.classList.remove('list-dragged');\r\n        setPlaceHolderProps({});\r\n    };\r\n\r\n    const handleClearDraggedAnimationCallback = useCallback(\r\n        () => handleClearDraggedAnimation(),\r\n        [handleClearDraggedAnimation]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(lists)) return console.log('LIST NULL');\r\n        setListsState(\r\n            lists.map((list, index) => {\r\n                return (\r\n                    <Draggable key={list._id} draggableId={`list-${list._id}`} index={index}>\r\n                        {(provided, snapshot) => {\r\n                            return (\r\n                                <div\r\n                                    className=\"list-wrapper\"\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}>\r\n                                    <ListItem {...list} placeHolderProps={placeHolderProps} />\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    </Draggable>\r\n                );\r\n            })\r\n        );\r\n    }, [lists, cards, placeHolderProps]);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mouseup', handleClearDraggedAnimationCallback);\r\n        return () => document.removeEventListener('mouseup', handleClearDraggedAnimationCallback);\r\n    }, [placeHolderProps, handleClearDraggedAnimationCallback]);\r\n\r\n    const handleDragScroll = (e) => {\r\n        if (!isDragScroll) return;\r\n        const el = e.target;\r\n        const addScrollValue = 1;\r\n        if (Math.sign(e.movementX) === -1) {\r\n            el.scrollLeft += addScrollValue * Math.abs(e.movementX);\r\n        } else if (Math.sign(e.movementX) === 1) {\r\n            el.scrollLeft -= addScrollValue * e.movementX;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mouseup', (e) => {\r\n            setIsDragScroll(false);\r\n        });\r\n    }, []);\r\n\r\n    const getListIDByDraggableID = (draggabID) => {\r\n        return draggabID.substring(15);\r\n    };\r\n\r\n    const handleAddListScrollReset = () => {\r\n        const boardEl = document.querySelector('#board');\r\n        boardEl.scrollLeft = boardEl.scrollWidth;\r\n    };\r\n\r\n    const handleDragStart = (dragprops) => {\r\n        const draggedEl = getDraggedDom(dragprops.draggableId).children[0];\r\n        draggedEl.classList.add('list-dragged');\r\n        setPlaceHolderProps({});\r\n        setPlaceHolderProps({\r\n            destinationIndex: dragprops.source.index,\r\n            draggableID: dragprops.draggableId,\r\n            type: dragprops.type,\r\n        });\r\n    };\r\n\r\n    const handleDragUpdate = (dragprops) => {\r\n        if (!dragprops.destination) return;\r\n        setPlaceHolderProps({});\r\n        setPlaceHolderProps({\r\n            destinationIndex: dragprops.destination.index,\r\n            draggableID: dragprops.draggableId,\r\n            currentListOverID: dragprops.destination.droppableId,\r\n            type: dragprops.type,\r\n        });\r\n    };\r\n\r\n    const reorderCardFunc = (\r\n        currentListID,\r\n        destinationListID,\r\n        currentCardIndex,\r\n        destinationCardIndex,\r\n        lists\r\n    ) => {\r\n        const newLists = [...lists];\r\n        const currentListIndex = newLists.findIndex((list) => list._id === currentListID);\r\n        const destinationListIndex = newLists.findIndex((list) => list._id === destinationListID);\r\n        if (currentListIndex === -1 || destinationListIndex === -1) return newLists;\r\n        const cardDragged = newLists[currentListIndex].cards[currentCardIndex];\r\n        newLists[currentListIndex].cards.splice(currentCardIndex, 1);\r\n        newLists[destinationListIndex].cards.splice(destinationCardIndex, 0, cardDragged);\r\n        return newLists;\r\n    };\r\n\r\n    const handleDragEnd = (dragprops) => {\r\n        handleClearDraggedAnimationCallback();\r\n        if (!dragprops.destination) return;\r\n        const currentIndex = dragprops.source.index;\r\n        const destinationIndex = dragprops.destination.index;\r\n        if (dragprops.type === 'LIST') {\r\n            const listsReorder = reorderArray(currentIndex, destinationIndex, lists);\r\n            dispatch(reorderList(listsReorder, boardID));\r\n            socket.emit('reorder list', { listsReorder, boardID, userID });\r\n        } else if (dragprops.type === 'CARD') {\r\n            const currentListID = getListIDByDraggableID(dragprops.source.droppableId);\r\n            const destinationListID = getListIDByDraggableID(dragprops.destination.droppableId);\r\n            const currentCardIndex = dragprops.source.index;\r\n            const destinationCardIndex = dragprops.destination.index;\r\n            const listsReorder = reorderCardFunc(\r\n                currentListID,\r\n                destinationListID,\r\n                currentCardIndex,\r\n                destinationCardIndex,\r\n                lists\r\n            );\r\n            dispatch(reorderList(listsReorder, boardID));\r\n            socket.emit('reorder list', { listsReorder, boardID, userID });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <DragDropContext\r\n            onDragUpdate={handleDragUpdate}\r\n            onDragStart={handleDragStart}\r\n            onDragEnd={handleDragEnd}>\r\n            <Droppable direction=\"horizontal\" droppableId=\"list-droppable\" type=\"LIST\">\r\n                {(provided, snapshot) => {\r\n                    return (\r\n                        <div\r\n                            id=\"board\"\r\n                            ref={provided.innerRef}\r\n                            onMouseDown={(e) => {\r\n                                if (e.target.id === 'board') {\r\n                                    setIsDragScroll(true);\r\n                                }\r\n                            }}\r\n                            onMouseMove={handleDragScroll}\r\n                            onMouseUp={() => setIsDragScroll(false)}>\r\n                            {listsState}\r\n                            {provided.placeholder}\r\n                            {!isEmpty(placeHolderProps) &&\r\n                                placeHolderProps.type === 'LIST' &&\r\n                                snapshot.isDraggingOver && <Placeholder {...placeHolderProps} />}\r\n                            <AddListOrCard\r\n                                style={{ paddingRight: '25px' }}\r\n                                scrollLeftReset={handleAddListScrollReset}\r\n                                isFirstList={isEmpty(listsState) && true}\r\n                                isAddList={true}\r\n                            />\r\n                        </div>\r\n                    );\r\n                }}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n};\r\n\r\nexport default ListManager;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport { connect, useDispatch, useSelector } from 'react-redux';\r\nimport { cleanCurrentBoard, getBoard } from '../redux/actions/board.action';\r\nimport Button from '../components/utils/Button';\r\nimport { HiDotsHorizontal } from 'react-icons/hi';\r\nimport { MdLock, MdAdd } from 'react-icons/md';\r\nimport { getPicturePath, isEmpty } from '../utils/utils';\r\nimport InviteMember from '../components/templates/dropdown/InviteMember';\r\nimport BoardError from './BoardError';\r\nimport PrivateOrPublic from '../components/templates/dropdown/PrivateOrPublic';\r\nimport BoardMenu from '../components/templates/dropdown/BoardMenu';\r\nimport ListManager from '../components/templates/board/ListManager';\r\n\r\nconst Board = (props) => {\r\n    const { id } = useParams();\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const dispatch = useDispatch();\r\n    const [isOpenInviteMember, setIsOpenInviteMember] = useState(false);\r\n    const [isOpenPrivateOrPublic, setIsOpenPrivateOrPublic] = useState(false);\r\n    const [isOpenBoardMenu, setIsOpenBoardMenu] = useState(false);\r\n\r\n    useEffect(() => {\r\n        dispatch(getBoard(id));\r\n        return () => {\r\n            dispatch(cleanCurrentBoard());\r\n            setIsOpenInviteMember(false);\r\n            setIsOpenPrivateOrPublic(false);\r\n            setIsOpenBoardMenu(false);\r\n        };\r\n    }, [dispatch, id]);\r\n\r\n    return (\r\n        // METTRE LE NOM DU BOARD DYNAMIQUEMENT DANS LE TITRE\r\n        <>\r\n            {board === 'BOARD_ERROR' ? (\r\n                <BoardError />\r\n            ) : (\r\n                <PageTemplate\r\n                    boardName={board.name}\r\n                    pageTitle={`Board - ${board.name}`}\r\n                    isHeaderBoard={true}>\r\n                    <div className=\"board\">\r\n                        <BoardMenu isOpen={isOpenBoardMenu} setIsOpen={setIsOpenBoardMenu} />\r\n\r\n                        {board.NOT_MEMBER ? (\r\n                            <p className=\"board__not-member\">\r\n                                This board is public , you can't interact with him if you are not\r\n                                member\r\n                            </p>\r\n                        ) : (\r\n                            <div className=\"board__top\">\r\n                                <div className=\"board__top__left\">\r\n                                    <span>\r\n                                        <Button\r\n                                            className=\"board__top__left__btn-state\"\r\n                                            onClick={() => setIsOpenPrivateOrPublic(true)}>\r\n                                            <MdLock className=\"board__top__left__btn-state__icon\" />\r\n                                            {board.isPrivate ? 'Private' : 'Public'}\r\n                                        </Button>\r\n                                        <PrivateOrPublic\r\n                                            isOpen={isOpenPrivateOrPublic}\r\n                                            setIsOpen={setIsOpenPrivateOrPublic}\r\n                                        />\r\n                                    </span>\r\n                                    <div className=\"board__top__left__members\">\r\n                                        <ul className=\"board__top__left__members__list\">\r\n                                            {!isEmpty(board.members) &&\r\n                                                board.members.map(({ picture, _id, pseudo }) => {\r\n                                                    return (\r\n                                                        <li\r\n                                                            key={_id}\r\n                                                            className=\"board__top__left__members__list__item\">\r\n                                                            <img\r\n                                                                src={getPicturePath(\r\n                                                                    'user',\r\n                                                                    picture\r\n                                                                )}\r\n                                                                alt={`${pseudo} profil`}\r\n                                                                style={{ width: '100%' }}\r\n                                                            />\r\n                                                        </li>\r\n                                                    );\r\n                                                })}\r\n                                        </ul>\r\n                                        <div className=\"board__top__left__members__adduser-wrapper\">\r\n                                            <Button\r\n                                                className=\"board__top__left__members__btn-adduser\"\r\n                                                onClick={() => setIsOpenInviteMember(true)}>\r\n                                                <MdAdd />\r\n                                            </Button>\r\n                                            <InviteMember\r\n                                                isOpen={isOpenInviteMember}\r\n                                                setIsOpen={setIsOpenInviteMember}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"board__top__right\">\r\n                                    <Button\r\n                                        className=\"board__top__right__btn-menu\"\r\n                                        onClick={() => setIsOpenBoardMenu(true)}>\r\n                                        <HiDotsHorizontal className=\"board__top__right__btn-menu__icon\" />\r\n                                        <span className=\"board__top__right__btn-menu__label\">\r\n                                            Show Menu\r\n                                        </span>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {/* ALL LIST */}\r\n                        <ListManager />\r\n                    </div>\r\n                </PageTemplate>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default connect()(Board);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { isEmpty } from '../../utils/utils';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                !isEmpty(!user) ? <Component /> : <Redirect to=\"/login\" />\r\n            }></Route>\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Footer from '../components/templates/Footer';\nimport Home from '../pages/Home';\nimport Login from '../pages/Auth/Login';\nimport Register from '../pages/Auth/Register';\nimport Board from '../pages/Board';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from '../utils/utils';\nimport PrivateRoute from '../components/routes/PrivateRoute.js';\n// import BoardError from '../pages/BoardError';\n\nconst MainRouter = (props) => {\n    const user = useSelector((state) => state.userReducer);\n    const isLoading = useSelector((state) => state.loaderReducer);\n    // const redirect = useSelector((state) => state.redirectReducer);\n    // FAIRE UNE ROUTE PRIVE POUR REDIGER VERS LOGIN SI PAS AUTH\n    // ET ETRE REDIGE SUR LA PAGE ACTUEL SANS BUG (CAR ACTULLEMENT BUG 1 FOIS SUR 5...)\n\n    return (\n        <>\n            <Router>\n                {/* {redirect && <Redirect to={redirect} />} */}\n                {!isLoading && isEmpty(user) && <Redirect to=\"/login\" />}\n                <Switch>\n                    <PrivateRoute exact path=\"/allboards\" component={Home} />\n                    <PrivateRoute exact path=\"/board/:id\" component={Board} />\n                    <Route exact path=\"/login\" component={Login} />\n                    <Route exact path=\"/register\" component={Register} />\n                    {!isEmpty(user) && document.location.pathname === '/' && (\n                        <Redirect to=\"/login\" />\n                    )}\n                    <>\n                        <h1>Error 404</h1>\n                    </>\n                </Switch>\n                <Footer />\n            </Router>\n        </>\n    );\n};\n\nexport default MainRouter;\n","import React from 'react';\r\nimport Loader from '../utils/Loader';\r\n\r\nconst PageLoader = (props) => {\r\n    return (\r\n        <div className=\"pageloader\">\r\n            <Loader radius=\"280\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageLoader;\r\n","import React from 'react';\r\n\r\nconst Toast = ({ icon, info, type, onClick, style }) => {\r\n    return (\r\n        <li style={style} className={`toast toast-${type}`} onClick={onClick}>\r\n            <div className=\"toast__icon\">{icon}</div>\r\n            <span className=\"toast__info\">{info}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Toast;\r\n","import React from 'react';\r\nimport Toast from '../utils/Toast';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { removeToast } from '../../redux/actions/toast.action';\r\n\r\nconst PopupManagerStyle = {\r\n    position: 'absolute',\r\n    top: '0',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    zIndex: '9999999',\r\n    listStyle: 'none',\r\n    wordBreak: 'break-all',\r\n    maxHeight: '100vh',\r\n};\r\n\r\nconst PopupManager = (props) => {\r\n    const toasts = useSelector((state) => state.toastReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <ul style={PopupManagerStyle}>\r\n            <TransitionGroup>\r\n                {toasts.map((toast, index) => {\r\n                    return (\r\n                        <CSSTransition\r\n                            // unmountOnExit\r\n                            key={index}\r\n                            appear={true}\r\n                            timeout={300}\r\n                            classNames=\"toast\">\r\n                            <Toast\r\n                                key={index + 1}\r\n                                icon={toast.icon}\r\n                                info={toast.info}\r\n                                type={toast.type}\r\n                                onClick={() => dispatch(removeToast(toast.id))}\r\n                            />\r\n                        </CSSTransition>\r\n                    );\r\n                })}\r\n            </TransitionGroup>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default PopupManager;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    addCard,\r\n    addCardLabel,\r\n    addList,\r\n    assignMemberToCard,\r\n    banMember,\r\n    changeCardDescription,\r\n    changeCardPicture,\r\n    changeCardTitle,\r\n    changeDescription,\r\n    changeState,\r\n    deleteBoard,\r\n    deleteCardLabel,\r\n    deleteList,\r\n    joinBoard,\r\n    leaveBoard,\r\n    renameList,\r\n    reorderList,\r\n} from '../redux/actions/board.action';\r\nimport { addNotification } from '../redux/actions/user.action';\r\nimport socket from '../utils/socket';\r\n\r\nconst SocketManager = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const dispatchCallback = useCallback(\r\n        (func) => {\r\n            dispatch(func);\r\n        },\r\n        [dispatch]\r\n    );\r\n\r\n    useEffect(() => {\r\n        socket.on('send invitation', (invitations) => {\r\n            dispatchCallback(addNotification(invitations));\r\n        });\r\n        socket.on('join board', ({ user, board }) => {\r\n            dispatchCallback(joinBoard(user, board));\r\n        });\r\n        socket.on('change state', ({ boardID, state }) => {\r\n            dispatchCallback(changeState(boardID, state));\r\n        });\r\n        socket.on('ban member', ({ boardID, memberBannedID }) => {\r\n            dispatchCallback(banMember(boardID, memberBannedID));\r\n        });\r\n        socket.on('change description', ({ description, boardID }) => {\r\n            console.log('change desc scktio');\r\n            dispatchCallback(changeDescription(description, boardID));\r\n        });\r\n        socket.on('add list', ({ listCreated, boardID, userID }) => {\r\n            console.log('add list scktio');\r\n            dispatchCallback(addList(listCreated, boardID, userID));\r\n        });\r\n        socket.on('add card', ({ cardCreated, listID, boardID, userID }) => {\r\n            console.log('add card scktio');\r\n            dispatchCallback(addCard(cardCreated, listID, boardID));\r\n        });\r\n        socket.on('rename list', ({ rename, listID, boardID }) => {\r\n            console.log('rename list scktio');\r\n            dispatchCallback(renameList(rename, listID, boardID));\r\n        });\r\n        socket.on('delete list', ({ listID, boardID }) => {\r\n            console.log('delete list scktio');\r\n            dispatchCallback(deleteList(listID, boardID));\r\n        });\r\n        socket.on('reorder list', ({ listsReorder, boardID, userID }) => {\r\n            console.log('reorder list scktio');\r\n            dispatchCallback(reorderList(listsReorder, boardID, userID));\r\n        });\r\n        socket.on('assign member card', ({ assignedMembers, boardID, listID, cardID }) => {\r\n            dispatchCallback(assignMemberToCard(assignedMembers, boardID, listID, cardID));\r\n        });\r\n        socket.on('change card title', ({ boardID, listID, cardID, cardTitle }) => {\r\n            dispatchCallback(changeCardTitle(boardID, listID, cardID, cardTitle));\r\n        });\r\n        socket.on('change card description', ({ boardID, listID, cardID, description }) => {\r\n            dispatchCallback(changeCardDescription(boardID, listID, cardID, description));\r\n        });\r\n        socket.on('card add label', ({ boardID, listID, cardID, label }) => {\r\n            dispatchCallback(addCardLabel(boardID, listID, cardID, label));\r\n        });\r\n        socket.on('card delete label', ({ boardID, listID, cardID, labelID }) => {\r\n            dispatchCallback(deleteCardLabel(boardID, listID, cardID, labelID));\r\n        });\r\n        socket.on('card change picture', ({ boardID, listID, cardID, picture }) => {\r\n            dispatchCallback(changeCardPicture(boardID, listID, cardID, picture));\r\n        });\r\n        socket.on('leave board', ({ userID, boardID }) => {\r\n            console.log('leave board scktio');\r\n            dispatchCallback(leaveBoard(userID, boardID));\r\n        });\r\n        socket.on('delete board', (boardID) => {\r\n            dispatchCallback(deleteBoard(boardID));\r\n        });\r\n    }, [dispatchCallback]);\r\n\r\n    return <></>;\r\n};\r\n\r\nexport default SocketManager;\r\n","import React, { useEffect } from 'react';\nimport Router from './router/index';\nimport PageLoader from './components/templates/PageLoader';\nimport { useSelector } from 'react-redux';\nimport ToastManager from './components/templates/ToastManager';\nimport SocketManager from './socket/socketManager';\nimport ModalManager from './components/templates/modal/ModalManager';\n\nconst App = (props) => {\n    const isLoading = useSelector((state) => state.loaderReducer);\n\n    useEffect(() => {\n        isLoading\n            ? (document.querySelector('html').style = 'overflow : hidden')\n            : (document.querySelector('html').style = 'overflow : visible');\n    }, [isLoading]);\n\n    return (\n        <div className=\"app\">\n            {isLoading && <PageLoader />}\n            <ModalManager />\n            <SocketManager />\n            <ToastManager />\n            <Router />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport './scss/index.scss';\nimport { CookiesProvider } from 'react-cookie';\nimport { rememberMe } from './redux/actions/user.action';\n\nstore.dispatch(rememberMe());\n\nReactDOM.render(\n    <CookiesProvider>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </CookiesProvider>,\n    document.querySelector('#root')\n);\n"],"sourceRoot":""}