(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{307:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(29),s=n.n(c),r=n(13),i=n(8),o=n(1),_=function(e){return Object(o.jsx)(o.Fragment,{})},l=n(6),d=n(4),b=n(3),j={cursor:"pointer"},u=function(e){var t=e.children,n=e.type,a=e.onClick,c=e.className,s=e.style;return Object(o.jsx)("button",{type:n,style:Object(b.a)(Object(b.a)({},j),s),className:"".concat(c),onClick:a,children:t})},m=n(26),p=n(36),O=n.n(p),h=n(146),f=function(e){var t=e.children,n=e.isOpen,c=e.setIsOpen,s=e.isReponsive,r=void 0!==s&&s,i=e.maxWidthResponsive,_=void 0===i?600:i,d=e.top,j=e.right,u=e.bottom,m=e.left,O=e.topResponsive,f=e.rightResponsive,x=e.bottomResponsive,v=e.leftResponsive,g=Object(a.useRef)(),N=Object(p.useMediaQuery)({query:"(max-width: ".concat(_,"px)")}),w=Object(a.useState)(),y=Object(l.a)(w,2),C=y[0],R=y[1],E={transition:"".concat(300,"ms ease"),maxHeight:"0px",overflow:"hidden",padding:"6px"},S={entering:{maxHeight:"".concat(C,"px"),overflow:"hidden"},entered:{maxHeight:"".concat(C,"px"),overflow:"visible"},exiting:{maxHeight:"0",overflow:"hidden"},exited:{maxHeight:"0",overflow:"hidden"}};return Object(a.useEffect)((function(){g.current&&R(g.current.getBoundingClientRect().height);var e=function(e){if(!g.current)return c(!1);!g.current.contains(e.target)&&c(!1)};if(window.addEventListener("mousedown",e),!g.current)return c(!1);n||(window.removeEventListener("mousedown",e),R(null))}),[n,c]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"dropdown ".concat(r&&N?"dropdown-responsive":""),style:r&&N?{top:O,right:f,bottom:x,left:v}:{top:d,right:j,bottom:u,left:m},children:Object(o.jsx)(h.a,{unmountOnExit:!0,in:n,timeout:300,children:function(e){return Object(o.jsx)("div",{style:Object(b.a)(Object(b.a)({},E),S[e]),children:Object(o.jsx)("div",{className:"dropdown__content",ref:g,children:t})})}})})})},x=n(134),v=n(309),g="PUSH_TOAST",N="REMOVE_TOAST",w="CLEAR_TOAST",y=n(40),C=n(132),R=n(10),E=n(133),S=n.n(E).a.create({baseURL:"",responseType:"json"}),I="LOADING",H="END_LOADING",k=function(){return function(e){return e({type:I,payload:!0})}},B=function(){return function(e){return e({type:H,payload:!1})}},P=n(34),V=n(44),T=n.n(V),D=n(61),F="CREATE_BOARD",A="GET_BOARD",M="GET_ALL_BOARD_BY_USERID",L="CLEAN_CURRENTBOARD",q="JOIN_BOARD",U=function(e){return function(t){return S.get("/board/getallboardbyuserid/".concat(e)).then((function(e){var n=e.data;t({type:M,payload:n})})).catch((function(e){console.log(e)}))}},Z="LOGIN",W="REMEMBER_ME",G="ADD_NOTIFICATION",z="DELETE_NOTIFICATION",J=function(e,t){return function(n){var a={userID:e,notificationID:t};return S.post("/user/delete-notification",a).then((function(e){return n({type:z,payload:t})})).catch((function(e){console.log(e)}))}},Y={};var K={currentBoard:{},boards:[]};var Q=[];var X=Object(y.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case W:return t.payload;case G:var n=t.payload,a=n.findIndex((function(t){return t._id===e._id}));return-1===a?Object(b.a)({},e):Object(b.a)(Object(b.a)({},e),{},{notifications:[].concat(Object(R.a)(e.notifications),[n[a].notifications])});case z:return Object(b.a)(Object(b.a)({},e),{},{notifications:e.notifications.filter((function(e){return e._id!==t.payload}))});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(b.a)(Object(b.a)({},e),{},{boards:[].concat(Object(R.a)(e.boards),[t.payload])});case M:return Object(b.a)(Object(b.a)({},e),{},{boards:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{currentBoard:t.payload});case L:return Object(b.a)(Object(b.a)({},e),{},{currentBoard:{}});case q:return t.payload.board._id===e.currentBoard._id?Object(b.a)(Object(b.a)({},e),{},{currentBoard:{members:[].concat(Object(R.a)(e.currentBoard.members),[t.payload.currentUser])}}):Object(b.a)({},e);default:return e}},loaderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case H:return t.payload;default:return e}},toastReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return[].concat(Object(R.a)(e),[t.payload]);case N:var n=t.payload;return e.filter((function(e){return e.id!==n}));case w:return e.filter((function(e){return!t.payload.includes(e.type)}));default:return e}}}),$=n(135),ee=Object(y.createStore)(X,Object(C.composeWithDevTools)(Object(y.applyMiddleware)($.a))),te=n(30),ne=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},ae=function(e){(new x.a).set("REMEMBER_ME",e,{maxAge:6048e5})},ce=function(e){for(var t in e)se(Object(o.jsx)(te.b,{}),e[t],"danger")},se=function(e,t,n){ee.dispatch(function(e,t,n){return function(a){var c=Object(v.a)();a({type:g,payload:{id:c,icon:e,info:t,type:n}}),setTimeout((function(){a({type:N,payload:c})}),6e3)}}(e,t,n))},re=function(e){ee.dispatch(function(e){return function(t){return t({type:w,payload:e})}}(e))},ie=function(e){re(["danger","warning"]),se(Object(o.jsx)(P.a,{}),e,"success")},oe=function(e,t){switch(e){case"board":return"".concat("","/board-picture/").concat(t);case"user":return"".concat("","/user-picture/").concat(t);default:console.log("Picture Path Error")}},_e=n(138),le=n(12),de=n(63),be=n(310),je=n(62),ue=function(e){var t=e.children,n=e.hasCloseButton,c=void 0!==n&&n,s=e.isOpen,r=e.setIsOpen,i=Object(a.useState)(!1),_=Object(l.a)(i,2),d=_[0],b=_[1],j=Object(a.useRef)();return Object(a.useEffect)((function(){return document.querySelector("html").style=s?"overflow : hidden":"overflow : visible"}),[s]),Object(a.useEffect)((function(){var e=function(e){if(!j.current)return function(){return r(!1)};!j.current.contains(e.target)&&r(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e),document.querySelector("html").style="overflow : visible"}}),[r]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(be.a,{in:s,classNames:"modal",appear:!0,timeout:200,onEntered:function(){return b(!0)},onExit:function(){return b(!1)},onExited:function(){return r(!1)},unmountOnExit:!0,children:Object(o.jsx)("div",{className:"modal",children:Object(o.jsx)(be.a,{in:d,classNames:"modalcontent",appear:!0,timeout:300,unmountOnExit:!0,children:Object(o.jsxs)("div",{ref:j,className:"modal__content",children:[c&&Object(o.jsx)(u,{className:"modal__content__close",onClick:function(){return r(!1)},children:Object(o.jsx)(je.b,{})}),t]})})})})})},me=n(137),pe=n(136),Oe=Object(pe.io)(""),he=function(e){var t=e.isOpen,n=e.setIsOpen,a=Object(d.c)((function(e){return e.userReducer})),c=Object(d.b)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ue,{isOpen:t,setIsOpen:n,hasCloseButton:!0,children:Object(o.jsxs)("div",{className:"profilmenu__notifications",children:[Object(o.jsxs)("span",{className:"profilmenu__notifications__top",children:[Object(o.jsx)(le.f,{className:"profilmenu__notifications__top__icon"}),"Notifications"]}),Object(o.jsx)("ul",{className:"profilmenu__notifications__list",children:!ne(a)&&a.notifications.map((function(e){var t=e._id,n=e.title,s=e.message,r=e.boardIDRequested;return Object(o.jsxs)("li",{className:"profilmenu__notifications__list__item",children:[Object(o.jsxs)("div",{className:"profilmenu__notifications__list__item__right",children:[Object(o.jsx)(me.a,{className:"profilmenu__notifications__list__item__right__icon"}),Object(o.jsxs)("div",{className:"profilmenu__notifications__list__item__right__content",children:[Object(o.jsx)("span",{className:"profilmenu__notifications__list__item__right__content__title",children:n}),Object(o.jsx)("span",{className:"profilmenu__notifications__list__item__right__content__message",children:s})]})]}),Object(o.jsxs)("div",{className:"profilmenu__notifications__list__item__left",children:[Object(o.jsx)(u,{className:"profilmenu__notifications__list__item__left__btn-valid",onClick:function(){return function(e,t){var n={userID:a._id,boardID:e};Oe.emit("join board",n),c(J(a._id,t))}(r,t)},children:Object(o.jsx)(le.b,{})}),Object(o.jsx)(u,{className:"profilmenu__notifications__list__item__left__btn-wrong",onClick:function(){return c(J(a._id,t))},children:Object(o.jsx)(de.b,{})})]})]},t)}))})]})})})},fe=function(e){var t=e.isOpen,n=e.setIsOpen,c=Object(a.useState)(!1),s=Object(l.a)(c,2),r=s[0],i=s[1],_=Object(d.c)((function(e){return e.userReducer}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(he,{isOpen:r,setIsOpen:i}),Object(o.jsx)(f,{isOpen:t,setIsOpen:n,top:"50px",right:"0",children:Object(o.jsx)("div",{className:"profilmenu",children:Object(o.jsxs)("ul",{className:"profilmenu__navlist",children:[Object(o.jsx)("li",{children:Object(o.jsxs)("button",{className:"profilmenu__navlist__item",children:[Object(o.jsx)(_e.a,{className:"profilmenu__navlist__item__icon"}),"Profil"]})}),Object(o.jsx)("li",{onClick:function(){return i(!0)},children:Object(o.jsxs)("button",{className:"profilmenu__navlist__item",children:[Object(o.jsx)(le.f,{className:"profilmenu__navlist__item__icon"}),"Notifications",!ne(_.notifications)&&Object(o.jsx)("span",{className:"bubble-notifications",style:{fontSize:_.notifications.length>99&&"0.6rem"},children:_.notifications.length>99?"99+":_.notifications.length})]})}),Object(o.jsx)("li",{className:"profilmenu__navlist__divider"}),Object(o.jsx)("li",{children:Object(o.jsxs)("button",{className:"profilmenu__navlist__item",children:[Object(o.jsx)(te.c,{className:"profilmenu__navlist__item__icon profilmenu__navlist__item__icon--logout"}),"Logout"]})})]})})})]})},xe=function(e){var t=e.isHeaderBoard,n=e.boardName,c=Object(d.c)((function(e){return e.userReducer})),s=Object(a.useState)(!1),i=Object(l.a)(s,2),_=i[0],b=i[1],j=Object(a.useState)(!1),p=Object(l.a)(j,2),h=p[0],x=p[1],v=Object(a.useState)(1),g=Object(l.a)(v,2),N=g[0],w=g[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("header",{className:"header",children:[Object(o.jsxs)("div",{className:"header__left",children:[Object(o.jsxs)(r.b,{className:"header__left__logo",to:"/allboards",children:[Object(o.jsx)(O.a,{minWidth:"650px",children:Object(o.jsxs)("svg",{width:"98",height:"29",viewBox:"0 0 98 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"M54.3311 8.436V10.47H50.9831V21H48.4631V10.47H45.1151V8.436H54.3311ZM61.1557 10.884C61.9117 10.884 62.5837 11.052 63.1717 11.388C63.7597 11.712 64.2157 12.198 64.5397 12.846C64.8757 13.482 65.0437 14.25 65.0437 15.15V21H62.5237V15.492C62.5237 14.7 62.3257 14.094 61.9297 13.674C61.5337 13.242 60.9937 13.026 60.3097 13.026C59.6137 13.026 59.0617 13.242 58.6537 13.674C58.2577 14.094 58.0597 14.7 58.0597 15.492V21H55.5397V7.68H58.0597V12.27C58.3837 11.838 58.8157 11.502 59.3557 11.262C59.8957 11.01 60.4957 10.884 61.1557 10.884ZM76.2241 11.028V21H73.6861V19.74C73.3621 20.172 72.9361 20.514 72.4081 20.766C71.8921 21.006 71.3281 21.126 70.7161 21.126C69.9361 21.126 69.2461 20.964 68.6461 20.64C68.0461 20.304 67.5721 19.818 67.2241 19.182C66.8881 18.534 66.7201 17.766 66.7201 16.878V11.028H69.2401V16.518C69.2401 17.31 69.4381 17.922 69.8341 18.354C70.2301 18.774 70.7701 18.984 71.4541 18.984C72.1501 18.984 72.6961 18.774 73.0921 18.354C73.4881 17.922 73.6861 17.31 73.6861 16.518V11.028H76.2241ZM80.6005 7.68V21H78.0805V7.68H80.6005ZM84.9803 7.68V21H82.4603V7.68H84.9803ZM91.268 21.162C90.308 21.162 89.444 20.952 88.676 20.532C87.908 20.1 87.302 19.494 86.858 18.714C86.426 17.934 86.21 17.034 86.21 16.014C86.21 14.994 86.432 14.094 86.876 13.314C87.332 12.534 87.95 11.934 88.73 11.514C89.51 11.082 90.38 10.866 91.34 10.866C92.3 10.866 93.17 11.082 93.95 11.514C94.73 11.934 95.342 12.534 95.786 13.314C96.242 14.094 96.47 14.994 96.47 16.014C96.47 17.034 96.236 17.934 95.768 18.714C95.312 19.494 94.688 20.1 93.896 20.532C93.116 20.952 92.24 21.162 91.268 21.162ZM91.268 18.966C91.724 18.966 92.15 18.858 92.546 18.642C92.954 18.414 93.278 18.078 93.518 17.634C93.758 17.19 93.878 16.65 93.878 16.014C93.878 15.066 93.626 14.34 93.122 13.836C92.63 13.32 92.024 13.062 91.304 13.062C90.584 13.062 89.978 13.32 89.486 13.836C89.006 14.34 88.766 15.066 88.766 16.014C88.766 16.962 89 17.694 89.468 18.21C89.948 18.714 90.548 18.966 91.268 18.966Z",fill:"#333333",className:"header__left__logo__label"}),Object(o.jsx)("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z",fill:"#2F80ED",className:"header__left__logo__left"}),Object(o.jsx)("path",{d:"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z",fill:"#2F80ED",className:"header__left__logo__right"})]})}),Object(o.jsx)(O.a,{maxWidth:"649px",children:Object(o.jsxs)("svg",{width:"32",height:"29",viewBox:"0 0 32 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z",fill:"#2F80ED",className:"header__left__logo__left"}),Object(o.jsx)("path",{d:"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z",fill:"#2F80ED",className:"header__left__logo__right"})]})})]}),t&&Object(o.jsxs)("div",{className:"header__left__board",children:[Object(o.jsx)("h2",{className:"header__left__board__name",children:n}),Object(o.jsx)("span",{className:"header__left__board__divider"}),Object(o.jsxs)(r.b,{to:"/allboards",className:"header__left__board__btn-allboard",children:[Object(o.jsx)(m.c,{className:"header__left__board__btn-allboard__icons"}),Object(o.jsx)("span",{className:"header__left__board__btn-allboard__label",children:"All board"})]})]})]}),Object(o.jsxs)("div",{className:"header__right",children:[Object(o.jsx)(O.a,{minWidth:"1100px",children:Object(o.jsxs)("div",{className:"header__right__search",children:[Object(o.jsx)("input",{className:"header__right__search__input",type:"text",placeholder:"Keyword..."}),Object(o.jsx)(u,{className:"header__right__search__button",onClick:function(){se(Object(o.jsx)(m.b,{}),"test ".concat(N),"success"),w(N+1)},children:"Search"})]})}),Object(o.jsx)(O.a,{maxWidth:"1099px",children:Object(o.jsxs)("div",{className:"header__right__search__responsive",children:[Object(o.jsx)(u,{className:"header__right__search__responsive__button",onClick:function(){return b(!0)},children:"Search"}),Object(o.jsx)(f,{left:"-170px",top:"46px",isOpen:_,setIsOpen:b,children:Object(o.jsx)("div",{className:"header__right__search__responsive__dropdown__wrapper",children:Object(o.jsx)("input",{className:"header__right__search__responsive__dropdown__wrapper__input ",type:"text",placeholder:"Keyword..."})})})]})}),Object(o.jsxs)("button",{className:"header__right__profil",onClick:function(){return x(!0)},children:[Object(o.jsx)("img",{className:"header__right__profil__img",src:oe("user",c.picture),alt:"p"}),Object(o.jsx)("span",{className:"header__right__profil__name",children:c.pseudo}),Object(o.jsx)("span",{className:"header__right__profil__icon",children:Object(o.jsx)(m.b,{})}),!ne(c.notifications)&&Object(o.jsx)("span",{className:"bubble-notifications",style:{fontSize:c.notifications.length>99&&"0.6rem"},children:c.notifications.length>99?"99+":c.notifications.length})]}),Object(o.jsx)(fe,{isOpen:h,setIsOpen:x})]})]})})},ve=function(e){var t=e.pageTitle,n=e.children,a=e.isHeaderBoard,c=void 0!==a&&a,s=e.boardName,r=e.hasHeader,i=void 0===r||r,_=Object(d.c)((function(e){return e.loaderReducer}));return document.title="Thullo | ".concat(_?"Loading . . .":t),Object(o.jsxs)(o.Fragment,{children:[i&&Object(o.jsx)(xe,{isHeaderBoard:c,boardName:s}),n]})},ge=function(e){var t=e.isOpen,n=e.setIsOpen,c=Object(d.b)(),s=Object(d.c)((function(e){return e.userReducer})),r=Object(a.useState)(""),i=Object(l.a)(r,2),_=i[0],j=i[1],m=Object(a.useState)({name:"",picture:"",isPrivate:!1,owner:s._id}),p=Object(l.a)(m,2),O=p[0],h=p[1],f=function(){var e=Object(D.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files[0]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.target.files[0];case 4:return n=e.sent,console.log(n),h(Object(b.a)(Object(b.a)({},O),{},{picture:n})),e.next=9,URL.createObjectURL(n);case 9:a=e.sent,j(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=new FormData;e.append("name",O.name),e.append("picture",O.picture),e.append("isPrivate",O.isPrivate),e.append("owner",s._id),c(function(e){return function(t){return S.post("/board/create",e).then((function(e){console.log(e);var n=e.data;t({type:F,payload:n}),ie("Board ".concat(n.name," create !"))})).catch((function(e){var t=e.response.data;ce(t)}))}}(e))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ue,{hasCloseButton:!0,isOpen:t,setIsOpen:n,children:Object(o.jsxs)("div",{className:"createboardmodal",children:[Object(o.jsxs)("label",{className:"createboardmodal__input__image ".concat(_?"":"no-preview"),htmlFor:"boardmodal_input_image",style:{backgroundImage:"url(".concat(_,")")},children:[Object(o.jsx)("div",{className:"".concat(_?"preview-background":""),children:Object(o.jsx)(de.a,{className:"createboardmodal__input__image__icon ".concat(_?"preview-active":"")})}),Object(o.jsx)("input",{type:"file",id:"boardmodal_input_image",onChange:f,accept:".png , .jpg , .jpeg",hidden:!0})]}),Object(o.jsx)("input",{value:O.name,onChange:function(e){return h(Object(b.a)(Object(b.a)({},O),{},{name:e.target.value}))},className:"createboardmodal__input__name",type:"text",placeholder:"Add board title"}),Object(o.jsxs)("div",{className:"createboardmodal__button__wrapper",children:[Object(o.jsxs)(u,{className:"createboardmodal__button__wrapper__item",children:[Object(o.jsx)(le.d,{className:"createboardmodal__button__wrapper__item__icon"})," ","Cover"]}),Object(o.jsxs)(u,{className:"createboardmodal__button__wrapper__item ".concat(O.isPrivate?"isStateActiveCreateBoard":""),onClick:function(){return h((function(e){return e.isPrivate=!e.isPrivate,Object(b.a)({},e)}))},children:[Object(o.jsx)(le.e,{className:"createboardmodal__button__wrapper__item__icon"})," ","Private"]})]}),Object(o.jsxs)("div",{className:"createboardmodal__board",children:[Object(o.jsx)(u,{className:"createboardmodal__board__cancel",onClick:function(){return n(!1)},children:"Cancel"}),Object(o.jsxs)(u,{className:"createboardmodal__board__create",onClick:function(){return x()},children:[Object(o.jsx)(te.a,{className:"createboardmodal__board__create__icon"})," ",Object(o.jsx)("span",{className:"createboardmodal__board__create__label",children:"Create"})]})]})]})})})},Ne=function(){var e=Object(d.c)((function(e){return e.boardReducer.boards})),t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ge,{isOpen:c,setIsOpen:s}),Object(o.jsx)(ve,{pageTitle:"Allboards",children:Object(o.jsxs)("div",{className:"allboards",children:[Object(o.jsxs)("div",{className:"allboards__top",children:[Object(o.jsx)("h1",{className:"allboards__top__title",children:"All Boards"}),Object(o.jsxs)(u,{className:"allboards__top__btn",onClick:function(){return s(!0)},children:[Object(o.jsx)(te.a,{className:"allboards__top__btn__icon"}),Object(o.jsx)("span",{className:"allboards__top__btn__label",children:"Add"})]})]}),Object(o.jsx)("div",{className:"allboards__container",children:e.map((function(e){var t=e._id,n=e.name,a=e.picture,c=e.members;e.isPrivate,e.owner;return Object(o.jsxs)(r.b,{to:"/board/".concat(t),className:"allboards__container__items",children:[Object(o.jsx)("img",{className:"allboards__container__items__img",src:oe("board",a),alt:"board ".concat(n)}),Object(o.jsx)("span",{className:"allboards__container__items__title",children:n}),Object(o.jsx)("ul",{className:"allboards__container__items__members",children:c.map((function(e){var t=e._id,n=e.pseudo,a=e.picture;return Object(o.jsx)("li",{className:"allboards__container__items__members__profil",children:Object(o.jsx)("img",{src:oe("user",a),alt:"".concat(n," profil")})},t)}))})]},Object(v.a)())}))})]})})]})},we=n.p+"static/media/Logo.e207370e.svg",ye={height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},Ce={height:"50px",position:"absolute",top:"15px",left:"15px"},Re=function(e){var t=e.children,n=Object(d.c)((function(e){return e.userReducer}));return Object(o.jsxs)(o.Fragment,{children:[!ne(n)&&Object(o.jsx)(i.a,{to:"/allboards"}),Object(o.jsxs)("div",{className:"auth",children:[Object(o.jsx)("img",{style:Ce,src:we,alt:"Thullo"}),Object(o.jsx)("div",{style:ye,children:t})]})]})},Ee=function(e){var t=Object(d.b)(),n=Object(a.useState)({email:"",password:""}),c=Object(l.a)(n,2),s=c[0],i=c[1];return Object(o.jsx)(ve,{pageTitle:"Login",hasHeader:!1,children:Object(o.jsx)(Re,{children:Object(o.jsxs)("form",{className:"auth__component",onSubmit:function(e){e.preventDefault(),t(function(e){return function(t){S.post("/user/login",e).then((function(e){var n=e.data,a=n.user,c=n.remember_me;return ae(c),re(["danger","warning"]),se(Object(o.jsx)(P.b,{}),"Welcome ".concat(a.pseudo," !"),"neutral"),t(U(a._id)),t({type:Z,payload:a})})).catch((function(e){var t=e.response.data;ce(t)}))}}(s))},noValidate:!0,children:[Object(o.jsx)("h1",{className:"auth__title",children:"Login"}),Object(o.jsx)("div",{className:"auth__input__wrapper",children:Object(o.jsx)("input",{className:"auth__input",type:"email",placeholder:"Email",value:s.email,autoComplete:"on",onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{email:e.target.value}))}})}),Object(o.jsx)("div",{className:"auth__input__wrapper",children:Object(o.jsx)("input",{className:"auth__input",type:"password",placeholder:"Password",value:s.password,onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{password:e.target.value}))}})}),Object(o.jsx)(u,{className:"auth__btn",children:"Connexion"}),Object(o.jsxs)("p",{className:"auth__has-account",children:["You don't have account ? ",Object(o.jsx)(r.b,{to:"/register",children:"Register"})]})]})})})},Se=n(145),Ie=n(37),He=function(e){var t=e.radius,n=e.color,a=void 0===n?"#2f80ed":n;return Object(o.jsxs)("svg",{className:"loader",height:2*t||100,width:2*t||100,children:[Object(o.jsx)("circle",{className:"loader__inset",cx:.8*t||50,cy:.8*t||50,r:.8*t/2||25,strokeWidth:.03*t,stroke:a}),Object(o.jsx)("circle",{className:"loader__around",cx:t||50,cy:t||50,r:t/2||25,strokeWidth:.03*t,stroke:a})]})},ke=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],s=n[1],_=Object(a.useState)(!1),d=Object(l.a)(_,2),j=d[0],p=d[1],O=Object(a.useState)(!1),h=Object(l.a)(O,2),f=h[0],x=h[1],v=Object(Se.a)({initialValues:{pseudo:"",email:"",password:"",confirmPassword:""},validationSchema:Ie.a({pseudo:Ie.c().required("Required"),email:Ie.c().required("Email address is required").email("Invalid email address"),password:Ie.c().required("Password is required"),confirmPassword:Ie.c().required("Please confirm your password").oneOf([Ie.b("password"),null],"Password must matched")}),onSubmit:function(e){!function(e){f||(x(!0),S.post("/user/register",e).then((function(e){s({}),re(["danger","warning"]),se(Object(o.jsx)(m.a,{}),"Sign Up Successful","success"),p(!0)})).catch((function(e){var t=e.response.data;ce(t),s(e.response.data)})).finally((function(){x(!1)})))}({pseudo:e.pseudo,email:e.email,password:e.password})}});return Object(o.jsxs)(o.Fragment,{children:[j&&Object(o.jsx)(i.a,{to:"/login"}),Object(o.jsx)(ve,{pageTitle:"Register",hasHeader:!1,children:Object(o.jsx)(Re,{children:Object(o.jsxs)("form",{className:"auth__component",onSubmit:v.handleSubmit,noValidate:!0,children:[Object(o.jsx)("h1",{className:"auth__title",children:"Register"}),Object(o.jsxs)("div",{className:"auth__input__wrapper",children:[Object(o.jsx)("input",Object(b.a)({className:"auth__input",type:"text"},v.getFieldProps("pseudo"))),Object(o.jsx)("span",{className:"placeholder ".concat(v.values.pseudo&&"placeholder_active"),children:"Pseudo"})]}),v.touched.pseudo&&v.errors.pseudo&&Object(o.jsx)("p",{className:"auth__error",children:v.errors.pseudo}),Object(o.jsxs)("div",{className:"auth__input__wrapper",children:[Object(o.jsx)("input",Object(b.a)({className:"auth__input",type:"email"},v.getFieldProps("email"))),Object(o.jsx)("span",{className:"placeholder ".concat(v.values.email&&"placeholder_active"),children:"Email"})]}),v.touched.email&&v.errors.email&&Object(o.jsx)("p",{className:"auth__error",children:v.errors.email}),c&&Object(o.jsx)("p",{className:"auth__error",children:c.message}),Object(o.jsxs)("div",{className:"auth__input__wrapper",children:[Object(o.jsx)("input",Object(b.a)({className:"auth__input",type:"password"},v.getFieldProps("password"))),Object(o.jsx)("span",{className:"placeholder ".concat(v.values.password&&"placeholder_active"),children:"Password"})]}),v.touched.password&&v.errors.password&&Object(o.jsx)("p",{className:"auth__error",children:v.errors.password}),Object(o.jsxs)("div",{className:"auth__input__wrapper",children:[Object(o.jsx)("input",Object(b.a)({className:"auth__input",type:"password"},v.getFieldProps("confirmPassword"))),Object(o.jsx)("span",{className:"placeholder ".concat(v.values.confirmPassword&&"placeholder_active"),children:"Confirm Password"})]}),v.touched.confirmPassword&&v.errors.confirmPassword&&Object(o.jsx)("p",{className:"auth__error",children:v.errors.confirmPassword}),Object(o.jsx)(u,{type:"submit",className:"auth__btn",style:{position:"relative"},children:f?Object(o.jsx)(He,{color:"white",radius:"28"}):"Register"}),Object(o.jsxs)("p",{className:"auth__has-account",children:["You have already account ? ",Object(o.jsx)(r.b,{to:"/login",children:"Connexion"})]})]})})})]})},Be=n(42),Pe=function(e){var t=e.isNewTable,n=void 0!==t&&t;return Object(o.jsx)(o.Fragment,{children:n?Object(o.jsx)("div",{style:{paddingRight:"25px"},children:Object(o.jsxs)("button",{className:"board__content__table__btn-addlist",children:[Object(o.jsx)("span",{children:"Add another list"}),Object(o.jsx)(le.a,{className:"board__content__table__btn-addlist__icon"})]})}):Object(o.jsxs)("button",{className:"board__content__table__btn-addlist",children:[Object(o.jsx)("span",{children:"Add another list"}),Object(o.jsx)(le.a,{className:"board__content__table__btn-addlist__icon"})]})})},Ve=function(e){return Object(o.jsxs)("div",{className:"board__content__table",children:[Object(o.jsxs)("div",{className:"board__content__table__top",children:[Object(o.jsx)("span",{className:"board__content__table__top__title",children:"Table Name"}),Object(o.jsx)("button",{className:"board__content__table__top__btn-menu",children:Object(o.jsx)(Be.a,{})})]}),Object(o.jsxs)("ul",{className:"board__content__table__content",children:[Object(o.jsxs)("li",{className:"board__content__table__content__item",children:[Object(o.jsx)("div",{className:"board__content__table__content__item__image"}),Object(o.jsx)("span",{className:"board__content__table__content__item__title",children:"Github jobs challenge"}),Object(o.jsxs)("ul",{className:"board__content__table__content__item__category",children:[Object(o.jsx)("li",{className:"board__content__table__content__item__category__item",children:"Design"}),Object(o.jsx)("li",{className:"board__content__table__content__item__category__item",children:"Concept"})]}),Object(o.jsxs)("div",{className:"board__content__table__content__item__bottom",children:[Object(o.jsxs)("ul",{className:"board__content__table__content__item__bottom__members",children:[Object(o.jsx)("li",{className:"board__content__table__content__item__bottom__members__item"}),Object(o.jsx)("li",{children:Object(o.jsx)(u,{className:"board__content__table__content__item__bottom__members__btn-addmember",children:Object(o.jsx)(le.a,{className:"board__content__table__content__item__bottom__members__btn-addmember__icon"})})})]}),Object(o.jsxs)("div",{className:"board__content__table__content__item__bottom__utils",children:[Object(o.jsxs)("button",{className:"board__content__table__content__item__bottom__utils__btn",children:[Object(o.jsx)(le.c,{}),Object(o.jsx)("span",{className:"board__content__table__content__item__bottom__utils__btn__number",children:"1"})]}),Object(o.jsxs)("button",{className:"board__content__table__content__item__bottom__utils__btn",children:[Object(o.jsx)(m.d,{}),Object(o.jsx)("span",{className:"board__content__table__content__item__bottom__utils__btn__number",children:"1"})]})]})]})]}),Object(o.jsx)("li",{className:"board__content__table__content__item"}),Object(o.jsx)("li",{className:"board__content__table__content__item"}),Object(o.jsx)(Pe,{})]})]})},Te=function(e){var t=e.isOpen,n=e.setIsOpen,c=Object(d.c)((function(e){return e.boardReducer.currentBoard})),s=Object(d.c)((function(e){return e.userReducer})),r=Object(a.useState)([]),i=Object(l.a)(r,2),_=i[0],b=i[1],j=Object(a.useState)([]),m=Object(l.a)(j,2),p=m[0],O=m[1];Object(a.useEffect)((function(){ne(c)||S.get("/user/all/".concat(c._id)).then((function(e){b(e.data)})).catch((function(e){console.log(e)}))}),[c]);return Object(o.jsx)(f,{isReponsive:!0,isOpen:t,setIsOpen:n,top:"50px",children:Object(o.jsxs)("div",{className:"invitemember",children:[Object(o.jsx)("span",{className:"invitemember__title",children:"Invite to Board"}),Object(o.jsx)("p",{className:"invitemember__para",children:"Search users you want to invite to"}),Object(o.jsxs)("div",{className:"invitemember__input__wrapper",children:[Object(o.jsx)("input",{className:"invitemember__input__wrapper__input",placeholder:"User...",type:"text"}),Object(o.jsx)(u,{className:"invitemember__input__wrapper__btn",children:Object(o.jsx)(Be.b,{})})]}),Object(o.jsx)("ul",{className:"invitemember__suggest",children:_.map((function(e,t){var n=e._id,a=e.pseudo,c=e.picture;return Object(o.jsx)("li",{className:"",style:{marginBottom:t===_.length-1?"":"15px"},children:Object(o.jsxs)("button",{className:"invitemember__suggest__item",onClick:function(){return e=n,void(-1===p.findIndex((function(t){return t===e}))?O([].concat(Object(R.a)(p),[e])):O(p.filter((function(t){return t!==e}))));var e},children:[Object(o.jsx)("img",{className:"invitemember__suggest__item__picture",src:oe("user",c),alt:"user ".concat(a)}),Object(o.jsx)("span",{className:"invitemember__suggest__item__pseudo",children:a}),p.includes(n)?Object(o.jsx)(P.a,{className:"invitemember__suggest__item__icon invitemember__suggest__item__icon--select"}):Object(o.jsx)(je.a,{className:"invitemember__suggest__item__icon"})]})},n)}))}),Object(o.jsx)(u,{className:"invitemember__btn-invite ".concat(ne(p)?"invitemember__btn-invite--disabled":""),onClick:function(){return!ne(p)&&function(){var e={senderPseudo:s.pseudo,guestUserIDList:p,boardID:c._id,boardName:c.name};Oe.emit("send invitation",e)}()},children:"Invite"})]})})},De=function(e){var t=Object(i.g)().id,n=Object(d.c)((function(e){return e.boardReducer.currentBoard})),c=Object(d.b)(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),_=r[0],b=r[1];return Object(a.useEffect)((function(){var e;return c((e=t,function(t){return t(k()),S.get("/board/".concat(e)).then((function(e){var n=e.data;t({type:A,payload:n})})).catch((function(e){var n=e.response.data;ce(n),console.log("board id error"),i.a,t({type:A,payload:{}})})).finally((function(){t(B())}))})),function(){return c((function(e){return e({type:L,payload:{}})}))}}),[c,t]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ve,{boardName:n.name,pageTitle:"Board - ".concat(n.name),isHeaderBoard:!0,children:Object(o.jsxs)("div",{className:"board",children:[Object(o.jsxs)("div",{className:"board__top",children:[Object(o.jsxs)("div",{className:"board__top__left",children:[Object(o.jsxs)(u,{className:"board__top__left__btn-state",children:[Object(o.jsx)(le.e,{className:"board__top__left__btn-state__icon"}),n.isPrivate?"Private":"Public"]}),Object(o.jsxs)("ul",{className:"board__top__left__members",children:[!ne(n.members)&&n.members.map((function(e){var t=e.picture,n=e._id,a=e.pseudo;return Object(o.jsx)("li",{className:"board__top__left__members__item",children:Object(o.jsx)("img",{src:oe("user",t),alt:"".concat(a," profil"),style:{width:"100%"}})},n)})),Object(o.jsxs)("li",{className:"board__top__left__members__adduser-wrapper",children:[Object(o.jsx)(u,{className:"board__top__left__members__btn-adduser",onClick:function(){return b(!0)},children:Object(o.jsx)(le.a,{})}),Object(o.jsx)(Te,{isOpen:_,setIsOpen:b})]})]})]}),Object(o.jsx)("div",{className:"board__top__right",children:Object(o.jsxs)(u,{className:"board__top__right__btn-menu",children:[Object(o.jsx)(Be.a,{className:"board__top__right__btn-menu__icon"}),Object(o.jsx)("span",{className:"board__top__right__btn-menu__label",children:"Show Menu"})]})})]}),Object(o.jsxs)("div",{className:"board__content",children:[Object(o.jsx)(Ve,{}),Object(o.jsx)(Ve,{}),Object(o.jsx)(Pe,{isNewTable:!0})]})]})})})},Fe=n(144),Ae=function(e){var t=e.component,n=Object(Fe.a)(e,["component"]),a=Object(d.c)((function(e){return e.userReducer}));return Object(o.jsx)(i.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return ne(!a)?Object(o.jsx)(i.a,{to:"/login"}):Object(o.jsx)(t,{})}}))},Me=function(e){var t=Object(d.c)((function(e){return e.userReducer})),n=Object(d.c)((function(e){return e.loaderReducer}));return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.a,{children:[!n&&ne(t)&&Object(o.jsx)(i.a,{to:"/login"}),Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:"/login",component:Ee}),Object(o.jsx)(i.b,{exact:!0,path:"/register",component:ke}),Object(o.jsx)(Ae,{exact:!0,path:"/board/:id",component:De}),Object(o.jsx)(Ae,{exact:!0,path:"/allboards",component:Ne}),!n&&!ne(t)&&Object(o.jsx)(i.a,{to:"/allboards"})]}),Object(o.jsx)(_,{})]})})},Le=function(e){return Object(o.jsx)("div",{className:"pageloader",children:Object(o.jsx)(He,{radius:"280"})})},qe=function(e){var t=e.icon,n=e.info,a=e.type,c=e.onClick,s=e.style;return Object(o.jsxs)("li",{style:s,className:"toast toast-".concat(a),onClick:c,children:[Object(o.jsx)("div",{className:"toast__icon",children:t}),Object(o.jsx)("span",{className:"toast__info",children:n})]})},Ue=n(312),Ze={position:"absolute",top:"0",left:"50%",transform:"translateX(-50%)",zIndex:"9999999",listStyle:"none",wordBreak:"break-all",maxHeight:"100vh"},We=function(e){var t=Object(d.c)((function(e){return e.toastReducer})),n=Object(d.b)();return Object(o.jsx)("ul",{style:Ze,children:Object(o.jsx)(Ue.a,{children:t.map((function(e,t){return Object(o.jsx)(be.a,{appear:!0,timeout:300,classNames:"toast",children:Object(o.jsx)(qe,{icon:e.icon,info:e.info,type:e.type,onClick:function(){return n((t=e.id,function(e){return e({type:N,payload:t})}));var t}},t+1)},t)}))})})},Ge=function(e){var t=Object(d.b)();Object(d.c)((function(e){return e.userReducer}));return Object(a.useEffect)((function(){Oe.on("send invitation",(function(e){var n;t((n=e,function(e){return console.log(n),e({type:G,payload:n})}))})),Oe.on("join board",(function(e){var n=e.user,a=e.board;t(function(e,t,n){return function(){var e=Object(D.a)(T.a.mark((function e(a){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getState().userReducer;case 2:if((c=e.sent)._id!==t._id){e.next=5;break}return e.abrupt("return",ee.dispatch(U(c._id)));case 5:a({type:q,payload:{currentUser:c,user:t,board:n}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,n,a))}))}),[t]),Object(o.jsx)(o.Fragment,{})},ze=function(e){var t=Object(d.c)((function(e){return e.loaderReducer}));return Object(a.useEffect)((function(){document.querySelector("html").style=t?"overflow : hidden":"overflow : visisible"}),[t]),Object(o.jsxs)("div",{className:"app",children:[t&&Object(o.jsx)(Le,{}),Object(o.jsx)(Ge,{}),Object(o.jsx)(We,{}),Object(o.jsx)(Me,{})]})},Je=(n(307),n(311));ee.dispatch((function(e){e(k());var t=new x.a;S.get("/user/rememberme",{withCredentials:!0}).then((function(t){var n=t.data,a=n.user,c=n.remember_me;return ae(c),se(Object(o.jsx)(P.b,{}),"Welcome ".concat(a.pseudo," !"),"neutral"),e(U(a._id)),e({type:W,payload:a})})).catch((function(n){t.remove("REMEMBER_ME"),e({type:W,payload:{}}),console.log("RememberMe error : "+n)})).finally((function(){e(B())}))})),s.a.render(Object(o.jsx)(Je.a,{children:Object(o.jsx)(d.a,{store:ee,children:Object(o.jsx)(ze,{})})}),document.querySelector("#root"))}},[[308,1,2]]]);
//# sourceMappingURL=main.a1ffce42.chunk.js.map