{"version":3,"sources":["components/templates/Footer.js","components/utils/Button.js","redux/actions/toast.action.js","config.js","utils/axios.js","redux/actions/loader.action.js","redux/actions/board.action.js","redux/actions/user.action.js","redux/reducer/user.reducer.js","redux/reducer/board.reducer.js","redux/reducer/toast.reducer.js","redux/actions/redirect.action.js","redux/actions/modal.action.js","redux/reducer/modal.reducer.js","redux/reducer/rootReducer.js","redux/reducer/loader.reducer.js","redux/reducer/redirect.reducer.js","redux/store.js","utils/utils.js","components/utils/Dropdown.js","components/utils/Modal.js","utils/socket.js","components/templates/modal/Notifications.js","components/templates/dropdown/ProfilMenu.js","components/templates/Header.js","components/templates/PageTemplate.js","components/templates/modal/CreateBoard.jsx","components/templates/board/BoardItem.js","pages/Home.js","assets/images/Logo.svg","components/layouts/AuthWrapper.js","pages/Auth/Login.js","components/utils/Loader.js","pages/Auth/Register.js","components/templates/dropdown/InviteMember.js","pages/BoardError.js","components/templates/dropdown/PrivateOrPublic.js","components/templates/EmojiPicker.js","components/templates/ContentEditable.js","components/layouts/CategoryTitle.js","components/templates/dropdown/BoardMenu.js","components/templates/board/AddList.js","components/templates/dropdown/AssignMember.js","components/layouts/UserDisplay.js","components/templates/modal/CardModal/Description.js","components/templates/modal/CardModal/Attachments.js","components/templates/board/CommentBox.js","components/templates/modal/CardModal/Comments.js","components/templates/board/CardLabel.js","components/templates/dropdown/Label.js","components/templates/dropdown/PicturePicker.js","components/templates/modal/CardModal.js","components/templates/modal/ModalManager.js","components/templates/board/CardItem.js","components/templates/board/Placeholder.js","components/templates/board/ListItem.js","components/templates/board/ListManager.js","pages/Board.js","components/routes/PrivateRoute.js","router/index.js","components/templates/PageLoader.js","components/utils/Toast.js","components/templates/ToastManager.js","socket/socketManager.js","App.js","index.js"],"names":["Footer","props","button","cursor","Button","children","type","onClick","className","style","PUSH_TOAST","REMOVE_TOAST","CLEAR_TOAST","API_URL","axios","create","baseURL","responseType","LOADING","END_LOADING","loading","dispatch","payload","endLoading","CREATE_BOARD","GET_BOARD","GET_ALL_BOARD_BY_USERID","CLEAN_CURRENTBOARD","JOIN_BOARD","CHANGE_STATE","BAN_MEMBER","CHANGE_DESCRIPTION","ADD_LIST","LEAVE_BOARD","DELETE_BOARD","ADD_CARD","DELETE_LIST","RENAME_LIST","REORDER_LIST","ASSIGN_MEMBER","CHANGE_CARD_TITLE","CHANGE_CARD_DESCRIPTION","ADD_CARD_LABEL","DELETE_CARD_LABEL","CHANGE_CARD_PICTURE","getAllBoardByUserID","userID","get","then","res","boards","data","catch","err","console","log","reorderList","listsReorder","boardID","a","currentUser","store","getState","userReducer","LOGIN","REMEMBER_ME","ADD_NOTIFICATION","DELETE_NOTIFICATION","deleteNotification","notificationID","boardIDRequested","deleteNotifObject","post","initialState","currentBoard","REDIRECT","CLEAR_REDIRECT","OPEN_MODAL","CLOSE_MODAL","modalName","combineReducers","state","action","notifications","userIndex","findIndex","invit","_id","filter","notif","boardReducer","currentBoardIndex","board","user","members","map","push","NOT_MEMBER","document","location","reload","isPrivate","memberBannedID","member","description","isEmpty","lists","listCreated","list","listID","cards","cardCreated","name","rename","forEach","card","cardID","assignedMembers","title","cardTitle","labels","label","labelID","picture","loaderReducer","toastReducer","toastID","toast","id","includes","redirectReducer","modalReducer","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","value","undefined","Object","keys","length","trim","setRememberMeCookie","token","Cookies","set","maxAge","errorsManager","error","addToast","icon","info","uuid","setTimeout","pushToast","clearToastByTypes","clearToast","warningToast","message","successToast","getPicturePath","model","image","removeHtmlStyle","html","replaceAll","closeOnClickOutside","ref","setIsOpen","window","addEventListener","e","current","contains","target","getDraggedDom","draggableID","querySelector","cutMongooseTimestampInDate","mongooseTimestamp","noFormatDate","years","substring","monthNum","monthLetter","dayNum","dayLetter","hour","DropDown","contentRef","contentClass","wrapperClass","allowsRef","isOpen","isResponsive","maxWidthResponsive","isVertical","top","right","bottom","left","topResponsive","rightResponsive","bottomResponsive","leftResponsive","dropdownContentRef","useRef","currentRef","isBreakPoint","useMediaQuery","query","useState","contentSize","setContentSize","heightOrWidth","defaultStyle","transition","transitionStyles","entering","entered","exiting","exited","useEffect","getBoundingClientRect","height","width","handleCloseDropDown","removeEventListener","Transition","unmountOnExit","in","timeout","Modal","hasCloseButton","hasOverflowYScroll","hasChoiceButton","btnConfirmMessage","btnConfirmIcon","confirmMessage","confirmFunction","isOpenContent","setIsOpenContent","modalRef","useDispatch","handleCloseModal","CSSTransition","classNames","appear","onEntered","onExit","onExited","alignItems","io","Notifications","useSelector","textAlign","marginTop","joinBoardObject","socket","emit","handleJoinBoard","ProfilMenu","isOpenNotification","setIsOpenNotification","useCookies","removeCookie","fontSize","path","Header","isHeaderBoard","boardName","isOpenSearchBar","setIsOpenSearchBar","isOpenProfilMenu","setIsOpenProfilMenu","test","setTest","to","minWidth","viewBox","fill","xmlns","d","maxWidth","placeholder","src","alt","pseudo","PageTemplate","pageTitle","hasHeader","isLoading","ModalCreateBoard","picturePreview","setPicturePreview","owner","newBoard","setNewBoard","handleChangePicture","files","pictureFile","URL","createObjectURL","picturePreviewURL","handleCreateBoard","FormData","append","errors","response","createBoard","htmlFor","backgroundImage","onChange","accept","hidden","maxLength","oldNewBoard","BoardItem","index","slice","MEMBER_MAX_LENGTH","Home","isOpenCreateBoard","setIsOpenCreateBoard","authContainer","display","justifyContent","logo","position","AuthWrapper","ThulloLogo","Login","email","password","userLogin","setUserLogin","onSubmit","preventDefault","login","noValidate","autoComplete","Loader","radius","color","cx","cy","r","strokeWidth","stroke","Register","emailAlreadyExist","setEmailAlreadyExist","isSignUpSuccessful","setIsSignUpSuccessful","setIsLoading","userRegister","useFormik","initialValues","confirmPassword","validationSchema","Yup","min","max","required","oneOf","values","finally","handleRegister","handleSubmit","getFieldProps","touched","InviteMember","usersToInvite","setUsersToInvite","userSelected","setUserSelected","userSearch","setUserSearch","searchValue","setSearchValue","marginBottom","invitationObject","senderPseudo","guestUserIDList","userSug","handleSendInvation","BoardError","PrivateOrPublic","handleChangeState","EmojiPicker","emoji","setEmoji","emo","character","ContentEditable","content","submitFunc","HTMLInjectedRef","isOpenEmojiPicker","setIsOpenEmojiPicker","editorRef","descriptionRef","outputRef","parseValue","handleSaveDescription","innerHTML","onKeyDown","keyCode","sel","ownerDocument","defaultView","getSelection","range","getRangeAt","tabNode","createTextNode","String","fromCodePoint","insertNode","setStartAfter","setEndAfter","removeAllRanges","addRange","insertSpecialCharacter","spellCheck","onInput","contentEditable","CategoryTitle","withMarginBottom","spanClass","iconClass","BoardMenu","boardMenuRef","isEditDescription","setIsEditDescription","isBoardOwner","createdAt","handleFormatDate","newDesc","banMemberObject","handleBanMember","leaveBoardObject","handleLeaveBoard","handleDeleteBoard","AddListOrCard","isAddList","isFirstList","isFirstCard","scrollBottomReset","scrollLeftReset","addListRef","inputRef","isOpenInput","setIsOpenInput","setName","currentIsOpen","currentSetIsOpen","handleOnClick","currentListID","on","focus","event","handleAddListOrCard","margin","background","AssignMember","cardMembers","setMembers","memberID","memberIDArg","oldMember","assignMemberObject","assignedMembersID","UserDisplay","pseudoClass","imgClass","Description","isOpenEditDesc","setIsOpenEditDesc","dangerouslySetInnerHTML","__html","Attachments","attachments","attachmentsState","setAttachmentsState","attachmentID","oldAttachment","attach","isPicture","file","fileExtension","match","toLowerCase","formData","handleAddAttachement","filePath","download","handleDownloadAttachment","CommentBox","setContent","isNewComment","userPicture","commentBoxRef","commentRef","isDisabledPlaceholder","setIsDisabledPlaceholder","isFocus","setIsFocus","textContent","onFocus","onBlur","Comments","comments","newCommentRef","commentsState","setCommentsState","commentID","isEdit","commentEdited","setCommentEdited","commentMessageEdited","setCommentMessageEdited","setMessage","oldComments","comment","currentCardID","off","handleSetEditComment","innerText","labelStyle","borderRadius","padding","marginRight","CardLabel","isDeleted","backgroundColor","marginLeft","Label","labelsState","setLabelsState","labelName","setLabelName","colorSelected","setColorSelected","colors","darkGreen","yellow","orange","red","blue","cyan","lightGreen","veryDarkGray","darkGray","midGray","lightGray","gray","oldLabels","colorsItems","handleReturnColorItem","PicturePicker","pictures","setPictures","randomPage","Math","floor","random","params","per_page","page","headers","Authorization","urls","regular","handleChangeCardPicture","thumb","CardModal","listName","setCard","isOpenLabel","setIsOpenLabel","isOpenAssignMember","setIsOpenAssignMember","isOpenPicturePicker","setIsOpenPicturePicker","oldCard","changeCardTitleObject","handleChangeCardTitle","CARD_MODAL","ModalManager","handleModalCall","CardItem","stopPropagation","Placeholder","destinationIndex","currentListOverID","placeholderProps","setPlaceholderProps","domQuery","domListQuery","draggedDOM","listOverDOM","clientHeight","clientWidth","clientY","parseFloat","getComputedStyle","parentNode","paddingTop","reduce","total","curr","currentStyle","clientX","paddingLeft","ListItem","React","forwardRef","placeHolderProps","droppableListDomID","inputRenameRef","renameFormRef","isOpenInputAddCard","setIsOpenInputAddCard","listsReducer","setRename","isOpenListMenu","setIsOpenListMenu","isOpenConfirmDeleteList","setIsOpenConfirmDeleteList","isOpenListRename","setIsOpenListRename","cardsState","setCardsState","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","handleAddCartScrollReset","listEl","scrollTop","scrollHeight","handleOpenInputAddCard","handleOpenListRename","defaultValue","droppableId","droppableProps","isDraggingOver","AddList","ListManager","listsState","setListsState","setPlaceHolderProps","isDragScroll","setIsDragScroll","handleClearDraggedAnimation","classList","remove","handleClearDraggedAnimationCallback","useCallback","handleDragScroll","el","sign","movementX","scrollLeft","abs","getListIDByDraggableID","draggabID","handleAddListScrollReset","boardEl","scrollWidth","onDragUpdate","dragprops","destination","onDragStart","add","source","onDragEnd","currentIndex","array","newArray","splice","reorderArray","destinationListID","currentCardIndex","destinationCardIndex","newLists","currentListIndex","destinationListIndex","cardDragged","reorderCardFunc","direction","onMouseDown","onMouseMove","onMouseUp","paddingRight","connect","useParams","isOpenInviteMember","setIsOpenInviteMember","isOpenPrivateOrPublic","setIsOpenPrivateOrPublic","isOpenBoardMenu","setIsOpenBoardMenu","withCredentials","PrivateRoute","Component","component","rest","render","MainRouter","exact","Board","pathname","PageLoader","Toast","PopupManagerStyle","transform","zIndex","listStyle","wordBreak","maxHeight","PopupManager","toasts","TransitionGroup","SocketManager","dispatchCallback","func","invitations","joinBoard","changeState","banMember","changeDescription","addList","addCard","renameList","deleteList","assignMemberToCard","changeCardTitle","changeCardDescription","addCardLabel","deleteCardLabel","changeCardPicture","leaveBoard","deleteBoard","App","ToastManager","cookie","ReactDOM","CookiesProvider"],"mappings":"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","file":"static/js/main.cd4fa89b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n// const footer = {\r\n//     clear: 'both',\r\n//     position: 'relative',\r\n//     height: '30px',\r\n//     marginTop: '-30px',\r\n//     display: 'flex',\r\n//     justifyContent: 'center',\r\n//     alignItems: 'center',\r\n//     textAlign: 'center',\r\n//     fontSize: '0.9rem',\r\n// };\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <>\r\n            {/* <footer style={footer}>\r\n                <p>\r\n                    © 2021 coded by <a href=\"#\">Alex</a> , devchallenges.io\r\n                </p>\r\n            </footer> */}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nconst button = {\r\n    cursor: 'pointer',\r\n};\r\n\r\nconst Button = ({ children, type, onClick, className, style }) => {\r\n    return (\r\n        <button\r\n            type={type}\r\n            style={{ ...button, ...style }}\r\n            className={`${className}`}\r\n            onClick={onClick}>\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import { v4 as uuid } from 'uuid';\r\n\r\nexport const PUSH_TOAST = 'PUSH_TOAST';\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST';\r\nexport const CLEAR_TOAST = 'CLEAR_TOAST';\r\n\r\nexport const pushToast = (icon, info, type) => {\r\n    return (dispatch) => {\r\n        const toastID = uuid();\r\n        dispatch({ type: PUSH_TOAST, payload: { id: toastID, icon, info, type } });\r\n        setTimeout(() => {\r\n            dispatch({ type: REMOVE_TOAST, payload: toastID });\r\n        }, 6000);\r\n    };\r\n};\r\n\r\nexport const removeToast = (toastID) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: REMOVE_TOAST, payload: toastID });\r\n    };\r\n};\r\n\r\nexport const clearToast = (type) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAR_TOAST, payload: type });\r\n    };\r\n};\r\n","/**\r\n * FOR LOCAL\r\n */\r\n// export const API_URL = 'http://localhost:5000/api';\r\n// export const SOCKET_URL = 'http://localhost:5000';\r\n\r\n/**\r\n * FOR HEROKU\r\n */\r\nexport const API_URL = '/api';\r\nexport const SOCKET_URL = '';\r\n\r\n// export const API_URL = 'http://c24487f3706e.ngrok.io';\r\n// export const SOCKET_URL = 'http://c24487f3706e.ngrok.io';\r\n","import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\nexport default axios.create({\r\n    baseURL: API_URL,\r\n    responseType: 'json',\r\n});\r\n","export const LOADING = 'LOADING';\r\nexport const END_LOADING = 'END_LOADING';\r\n\r\nexport const loading = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: LOADING, payload: true });\r\n    };\r\n};\r\n\r\nexport const endLoading = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: END_LOADING, payload: false });\r\n    };\r\n};\r\n","import axios from '../../utils/axios';\r\nimport { errorsManager, successToast } from '../../utils/utils';\r\nimport { store } from '../store';\r\nimport { endLoading, loading } from './loader.action';\r\n\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const GET_BOARD = 'GET_BOARD';\r\nexport const GET_ALL_BOARD_BY_USERID = 'GET_ALL_BOARD_BY_USERID';\r\nexport const CLEAN_CURRENTBOARD = 'CLEAN_CURRENTBOARD';\r\nexport const JOIN_BOARD = 'JOIN_BOARD';\r\nexport const CHANGE_STATE = 'CHANGE_STATE';\r\nexport const BAN_MEMBER = 'BAN_MEMBER';\r\nexport const CHANGE_DESCRIPTION = 'CHANGE_DESCRIPTION';\r\nexport const ADD_LIST = 'ADD_LIST';\r\nexport const LEAVE_BOARD = 'LEAVE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const ADD_CARD = 'ADD_CARD';\r\nexport const DELETE_LIST = 'DELETE_LIST';\r\nexport const RENAME_LIST = 'RENAME_LIST';\r\nexport const REORDER_LIST = 'REORDER_LIST';\r\nexport const REORDER_CARD = 'REORDER_CARD';\r\nexport const ASSIGN_MEMBER = 'ASSIGN_MEMBER';\r\nexport const CHANGE_CARD_TITLE = 'CHANGE_CARD_TITLE';\r\nexport const CHANGE_CARD_DESCRIPTION = 'CHANGE_CARD_DESCRIPTION';\r\nexport const ADD_CARD_LABEL = 'ADD_CARD_LABEL';\r\nexport const DELETE_CARD_LABEL = 'DELETE_CARD_LABEL';\r\nexport const CHANGE_CARD_PICTURE = 'CHANGE_CARD_PICTURE';\r\n\r\nexport const createBoard = (data) => {\r\n    return (dispatch) => {\r\n        axios\r\n            .post('/board/create', data)\r\n            .then((res) => {\r\n                const board = res.data;\r\n                console.log(board);\r\n                successToast(`Board ${board.name} create !`);\r\n                return dispatch({ type: CREATE_BOARD, payload: board });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                const errors = err.response.data;\r\n                errorsManager(errors);\r\n            });\r\n    };\r\n};\r\n\r\nexport const getAllBoardByUserID = (userID) => {\r\n    return (dispatch) => {\r\n        return axios\r\n            .get(`/board/getallboardbyuserid/${userID}`)\r\n            .then((res) => {\r\n                const boards = res.data;\r\n                dispatch({ type: GET_ALL_BOARD_BY_USERID, payload: boards });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n};\r\n\r\nexport const getBoard = (boardID) => {\r\n    return (dispatch) => {\r\n        dispatch(loading());\r\n        axios\r\n            .get(`/board/${boardID}`, { withCredentials: true })\r\n            .then((res) => {\r\n                const boards = res.data;\r\n                console.log(boards);\r\n                dispatch({ type: GET_BOARD, payload: boards });\r\n            })\r\n            .catch((err) => {\r\n                const errors = err.response.data;\r\n                errorsManager(errors);\r\n                dispatch({ type: GET_BOARD, payload: 'BOARD_ERROR' });\r\n            })\r\n            .finally(() => {\r\n                dispatch(endLoading());\r\n            });\r\n    };\r\n};\r\n\r\nexport const cleanCurrentBoard = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAN_CURRENTBOARD, payload: {} });\r\n    };\r\n};\r\n\r\nexport const joinBoard = (user, board) => {\r\n    return async (dispatch) => {\r\n        const currentUser = await store.getState().userReducer;\r\n        console.log(user);\r\n        dispatch({ type: JOIN_BOARD, payload: { currentUser, user, board } });\r\n    };\r\n};\r\n\r\nexport const changeState = (boardID, state) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CHANGE_STATE, payload: { boardID, state } });\r\n    };\r\n};\r\n\r\nexport const banMember = (boardID, memberBannedID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = await store.getState().userReducer;\r\n        return dispatch({ type: BAN_MEMBER, payload: { boardID, memberBannedID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const changeDescription = (description, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_DESCRIPTION,\r\n            payload: { description, boardID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const addList = (listCreated, boardID, userID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n        return dispatch({ type: ADD_LIST, payload: { listCreated, boardID, userID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const addCard = (cardCreated, listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: ADD_CARD, payload: { cardCreated, listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const deleteList = (listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: DELETE_LIST, payload: { listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const renameList = (rename, listID, boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: RENAME_LIST, payload: { rename, listID, boardID } });\r\n    };\r\n};\r\n\r\nexport const reorderList = (listsReorder, boardID, userID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n\r\n        return dispatch({\r\n            type: REORDER_LIST,\r\n            payload: { listsReorder, boardID, userID, currentUser },\r\n        });\r\n    };\r\n};\r\n\r\nexport const leaveBoard = (userID, boardID) => {\r\n    return async (dispatch) => {\r\n        const currentUser = store.getState().userReducer;\r\n        return dispatch({ type: LEAVE_BOARD, payload: { userID, boardID, currentUser } });\r\n    };\r\n};\r\n\r\nexport const deleteBoard = (boardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({ type: DELETE_BOARD, payload: { boardID } });\r\n    };\r\n};\r\n\r\nexport const assignMemberToCard = (assignedMembers, boardID, listID, cardID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: ASSIGN_MEMBER,\r\n            payload: { assignedMembers, boardID, listID, cardID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardTitle = (boardID, listID, cardID, cardTitle) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_TITLE,\r\n            payload: { boardID, listID, cardID, cardTitle },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardDescription = (boardID, listID, cardID, description) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_DESCRIPTION,\r\n            payload: { boardID, listID, cardID, description },\r\n        });\r\n    };\r\n};\r\nexport const addCardLabel = (boardID, listID, cardID, label) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: ADD_CARD_LABEL,\r\n            payload: { boardID, listID, cardID, label },\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteCardLabel = (boardID, listID, cardID, labelID) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: DELETE_CARD_LABEL,\r\n            payload: { boardID, listID, cardID, labelID },\r\n        });\r\n    };\r\n};\r\n\r\nexport const changeCardPicture = (boardID, listID, cardID, picture) => {\r\n    return async (dispatch) => {\r\n        return dispatch({\r\n            type: CHANGE_CARD_PICTURE,\r\n            payload: { boardID, listID, cardID, picture },\r\n        });\r\n    };\r\n};\r\n","import { Cookies } from 'react-cookie';\r\nimport axios from '../../utils/axios';\r\nimport { addToast, clearToastByTypes, errorsManager, setRememberMeCookie } from '../../utils/utils';\r\nimport { loading, endLoading } from './loader.action';\r\nimport { FiUserCheck } from 'react-icons/fi';\r\nimport { getAllBoardByUserID } from './board.action';\r\n\r\nexport const LOGIN = 'LOGIN';\r\nexport const REMEMBER_ME = 'REMEMBER_ME';\r\nexport const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\r\nexport const DELETE_NOTIFICATION = 'DELETE_NOTIFICATION';\r\n\r\nexport const login = (userLogin) => {\r\n    return (dispatch) => {\r\n        axios\r\n            .post('/user/login', userLogin)\r\n            .then((res) => {\r\n                const { user, token } = res.data;\r\n                setRememberMeCookie(token);\r\n                clearToastByTypes(['danger', 'warning']);\r\n                addToast(<FiUserCheck />, `Welcome ${user.pseudo} !`, 'neutral');\r\n                dispatch(getAllBoardByUserID(user._id));\r\n                return dispatch({ type: LOGIN, payload: user });\r\n            })\r\n            .catch((err) => {\r\n                const errors = err.response.data;\r\n                errorsManager(errors);\r\n            });\r\n    };\r\n};\r\n\r\nexport const rememberMe = () => {\r\n    return (dispatch) => {\r\n        dispatch(loading());\r\n        const cookie = new Cookies();\r\n        axios\r\n            .get('/user/rememberme', { withCredentials: true })\r\n            .then((res) => {\r\n                const { user, token } = res.data;\r\n                setRememberMeCookie(token);\r\n                addToast(<FiUserCheck />, `Welcome ${user.pseudo} !`, 'neutral');\r\n                dispatch(getAllBoardByUserID(user._id));\r\n                return dispatch({ type: REMEMBER_ME, payload: user });\r\n            })\r\n            .catch((err) => {\r\n                cookie.remove('token');\r\n                dispatch({ type: REMEMBER_ME, payload: {} });\r\n                console.log('RememberMe error : ' + err);\r\n            })\r\n            .finally(() => {\r\n                dispatch(endLoading());\r\n            });\r\n    };\r\n};\r\n\r\nexport const addNotification = (notifications) => {\r\n    return (dispatch) => {\r\n        console.log(notifications);\r\n        return dispatch({ type: ADD_NOTIFICATION, payload: notifications });\r\n    };\r\n};\r\n\r\nexport const deleteNotification = (userID, notificationID, boardIDRequested) => {\r\n    return (dispatch) => {\r\n        const deleteNotifObject = {\r\n            userID,\r\n            notificationID,\r\n            boardIDRequested,\r\n        };\r\n        return axios\r\n            .post(`/user/delete-notification`, deleteNotifObject)\r\n            .then((res) => {\r\n                return dispatch({ type: DELETE_NOTIFICATION, payload: notificationID });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n};\r\n","import { LOGIN, REMEMBER_ME, ADD_NOTIFICATION, DELETE_NOTIFICATION } from '../actions/user.action';\r\n\r\nconst initialState = {};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            return action.payload;\r\n        case REMEMBER_ME:\r\n            return action.payload;\r\n        case ADD_NOTIFICATION:\r\n            const notifications = action.payload;\r\n            const userIndex = notifications.findIndex((invit) => invit._id === state._id);\r\n            return userIndex === -1\r\n                ? { ...state }\r\n                : {\r\n                      ...state,\r\n                      notifications: [\r\n                          ...state.notifications,\r\n                          notifications[userIndex].notifications,\r\n                      ],\r\n                  };\r\n        case DELETE_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notifications: state.notifications.filter((notif) => notif._id !== action.payload),\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { isEmpty } from '../../utils/utils';\r\nimport {\r\n    GET_BOARD,\r\n    CREATE_BOARD,\r\n    GET_ALL_BOARD_BY_USERID,\r\n    CLEAN_CURRENTBOARD,\r\n    JOIN_BOARD,\r\n    CHANGE_STATE,\r\n    BAN_MEMBER,\r\n    CHANGE_DESCRIPTION,\r\n    ADD_LIST,\r\n    LEAVE_BOARD,\r\n    DELETE_BOARD,\r\n    ADD_CARD,\r\n    DELETE_LIST,\r\n    RENAME_LIST,\r\n    REORDER_LIST,\r\n    ASSIGN_MEMBER,\r\n    CHANGE_CARD_TITLE,\r\n    CHANGE_CARD_DESCRIPTION,\r\n    ADD_CARD_LABEL,\r\n    DELETE_CARD_LABEL,\r\n    CHANGE_CARD_PICTURE,\r\n} from '../actions/board.action';\r\n\r\nconst initialState = {\r\n    currentBoard: {},\r\n    boards: [],\r\n};\r\n\r\nexport default function boardReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case CREATE_BOARD:\r\n            const boards = state.boards ? [...state.boards, action.payload] : [action.payload];\r\n            // const boards = [action.payload];\r\n            // return { ...state };\r\n            // return { ...state, boards: [...state.boards, action.payload] };\r\n            return { ...state, boards: boards };\r\n        case GET_ALL_BOARD_BY_USERID:\r\n            return { ...state, boards: action.payload };\r\n        case GET_BOARD:\r\n            // return { ...state };\r\n            return { ...state, currentBoard: action.payload };\r\n        case CLEAN_CURRENTBOARD:\r\n            return { ...state, currentBoard: {} };\r\n        case JOIN_BOARD:\r\n            const currentBoardIndex = state.boards.findIndex(\r\n                (board) => board._id === action.payload.board._id\r\n            );\r\n            if (action.payload.currentUser._id === action.payload.user._id)\r\n                return { ...state, boards: [...state.boards, action.payload.board] };\r\n            if (action.payload.board._id === state.currentBoard._id && currentBoardIndex !== -1)\r\n                return {\r\n                    ...state,\r\n                    currentBoard: {\r\n                        ...state.currentBoard,\r\n                        members: [...state.currentBoard.members, action.payload.user],\r\n                    },\r\n                    boards: state.boards.map((board) => {\r\n                        if (board._id === action.payload.board._id)\r\n                            board.members.push(action.payload.user);\r\n                        return board;\r\n                    }),\r\n                };\r\n            if (action.payload.board._id !== state.currentBoard._id && currentBoardIndex !== -1)\r\n                return {\r\n                    ...state,\r\n                    boards: state.boards.map((board) => {\r\n                        if (board._id === action.payload.board._id)\r\n                            board.members.push(action.payload.user);\r\n                        return board;\r\n                    }),\r\n                };\r\n            return { ...state };\r\n\r\n        case CHANGE_STATE:\r\n            if (\r\n                state.currentBoard._id === action.payload.boardID &&\r\n                !state.currentBoard.NOT_MEMBER\r\n            ) {\r\n                return {\r\n                    ...state,\r\n                    currentBoard: { ...state.currentBoard, isPrivate: action.payload.state },\r\n                };\r\n            }\r\n            if (\r\n                state.currentBoard._id === action.payload.boardID &&\r\n                state.currentBoard.NOT_MEMBER\r\n            ) {\r\n                document.location.reload();\r\n                return {\r\n                    ...state,\r\n                    currentBoard: {},\r\n                };\r\n            }\r\n            return { ...state };\r\n        case BAN_MEMBER:\r\n            if (state.currentBoard._id === action.payload.boardID) {\r\n                if (action.payload.memberBannedID === action.payload.currentUser._id)\r\n                    document.location.reload();\r\n                return {\r\n                    ...state,\r\n                    currentBoard: {\r\n                        ...state.currentBoard,\r\n                        members: state.currentBoard.members.filter(\r\n                            (member) => member._id !== action.payload.memberBannedID\r\n                        ),\r\n                    },\r\n                    boards: state.boards.map((board) => {\r\n                        if (board._id === action.payload.boardID) {\r\n                            board.members = board.members.filter(\r\n                                (member) => member._id !== action.payload.memberBannedID\r\n                            );\r\n                            return board;\r\n                        }\r\n                        return board;\r\n                    }),\r\n                };\r\n            }\r\n            if (\r\n                state.boards.findIndex((board) => board._id === action.payload.boardID) !== -1 &&\r\n                action.payload.memberBannedID === action.payload.currentUser._id\r\n            ) {\r\n                return {\r\n                    ...state,\r\n                    boards: state.boards.filter((board) => board._id !== action.payload.boardID),\r\n                };\r\n            }\r\n            return { ...state };\r\n        case CHANGE_DESCRIPTION:\r\n            if (state.currentBoard._id === action.payload.boardID) {\r\n                return {\r\n                    ...state,\r\n                    currentBoard: {\r\n                        ...state.currentBoard,\r\n                        description: action.payload.description,\r\n                    },\r\n                };\r\n            }\r\n            return { ...state };\r\n        case ADD_LIST:\r\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\r\n                return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: [...state.currentBoard.lists, action.payload.listCreated],\r\n                },\r\n            };\r\n        case ADD_CARD:\r\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\r\n                return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (\r\n                            state.currentBoard._id === action.payload.boardID &&\r\n                            list._id === action.payload.listID\r\n                        )\r\n                            list.cards.push(action.payload.cardCreated);\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case RENAME_LIST:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) list.name = action.payload.rename;\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case REORDER_LIST:\r\n            if (\r\n                state.currentBoard._id !== action.payload.boardID ||\r\n                action.payload.currentUser._id === action.payload.userID\r\n            )\r\n                return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: action.payload.listsReorder,\r\n                },\r\n            };\r\n        case DELETE_LIST:\r\n            if (state.currentBoard._id !== action.payload.boardID || isEmpty(state.currentBoard))\r\n                return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.filter(\r\n                        (list) => list._id !== action.payload.listID\r\n                    ),\r\n                },\r\n            };\r\n        case ASSIGN_MEMBER:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    card.members = [...action.payload.assignedMembers];\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case CHANGE_CARD_TITLE:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    console.log('CHANGE CARD TOTITLE');\r\n                                    card.title = action.payload.cardTitle;\r\n                                }\r\n                            });\r\n                        }\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case CHANGE_CARD_DESCRIPTION:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    card.description = action.payload.description;\r\n                                }\r\n                            });\r\n                        }\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case ADD_CARD_LABEL:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    card.labels.push(action.payload.label);\r\n                                }\r\n                            });\r\n                        }\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case DELETE_CARD_LABEL:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    card.labels = card.labels.filter(\r\n                                        (label) => label._id !== action.payload.labelID\r\n                                    );\r\n                                }\r\n                            });\r\n                        }\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case CHANGE_CARD_PICTURE:\r\n            if (state.currentBoard._id !== action.payload.boardID) return { ...state };\r\n\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    lists: state.currentBoard.lists.map((list) => {\r\n                        if (list._id === action.payload.listID) {\r\n                            list.cards.forEach((card) => {\r\n                                if (card._id === action.payload.cardID) {\r\n                                    card.picture = action.payload.picture;\r\n                                }\r\n                            });\r\n                        }\r\n                        return list;\r\n                    }),\r\n                },\r\n            };\r\n        case LEAVE_BOARD:\r\n            return {\r\n                ...state,\r\n                currentBoard: {\r\n                    ...state.currentBoard,\r\n                    members: state.currentBoard.members.filter((member) => {\r\n                        if (\r\n                            member._id === action.payload.userID &&\r\n                            state.currentBoard._id === action.payload.boardID\r\n                        ) {\r\n                            if (action.payload.currentUser._id === action.payload.userID)\r\n                                document.location.reload();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    }),\r\n                },\r\n                boards: state.boards.filter((board) => {\r\n                    return board._id === action.payload.boardID &&\r\n                        action.payload.currentUser._id === action.payload.userID\r\n                        ? false\r\n                        : true;\r\n                }),\r\n            };\r\n        case DELETE_BOARD:\r\n            return {\r\n                ...state,\r\n                currentBoard:\r\n                    state.currentBoard._id === action.payload.boardID\r\n                        ? 'BOARD_ERROR'\r\n                        : { ...state.currentBoard },\r\n                boards: state.boards.filter((board) => board._id !== action.payload.boardID),\r\n            };\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n","import { CLEAR_TOAST, PUSH_TOAST, REMOVE_TOAST } from '../actions/toast.action';\r\n\r\nconst initialState = [];\r\n\r\nexport default function toastReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case PUSH_TOAST:\r\n            return [...state, action.payload];\r\n        case REMOVE_TOAST:\r\n            const toastID = action.payload;\r\n            return state.filter((toast) => toast.id !== toastID);\r\n        case CLEAR_TOAST:\r\n            return state.filter((toast) => !action.payload.includes(toast.type));\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","export const REDIRECT = 'REDIRECT';\r\nexport const CLEAR_REDIRECT = 'CLEAR_REDIRECT';\r\n\r\nexport const redirect = (to) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: REDIRECT, payload: to });\r\n    };\r\n};\r\n\r\nexport const clearRedirect = () => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLEAR_REDIRECT, payload: '' });\r\n    };\r\n};\r\n","export const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\r\n\r\nexport const openModal = (modalName, props) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: OPEN_MODAL, payload: { modalName, props } });\r\n    };\r\n};\r\n\r\nexport const closeModal = (props) => {\r\n    return (dispatch) => {\r\n        return dispatch({ type: CLOSE_MODAL, payload: props });\r\n    };\r\n};\r\n","import { CLOSE_MODAL, OPEN_MODAL } from '../actions/modal.action';\r\n\r\nconst initialState = {\r\n    modalName: '',\r\n    props: {},\r\n};\r\n\r\nexport default function modalReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case OPEN_MODAL:\r\n            return action.payload;\r\n        case CLOSE_MODAL:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport userReducer from './user.reducer';\r\nimport boardReducer from './board.reducer';\r\nimport loaderReducer from './loader.reducer';\r\nimport toastReducer from './toast.reducer';\r\nimport redirectReducer from './redirect.reducer';\r\nimport modalReducer from './modal.reducer';\r\n\r\nexport default combineReducers({\r\n    userReducer,\r\n    boardReducer,\r\n    loaderReducer,\r\n    toastReducer,\r\n    redirectReducer,\r\n    modalReducer,\r\n});\r\n","import { LOADING, END_LOADING } from '../actions/loader.action';\r\n\r\nconst initialState = false;\r\n\r\nexport default function loaderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case LOADING:\r\n            return action.payload;\r\n        case END_LOADING:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { CLEAR_REDIRECT, REDIRECT } from '../actions/redirect.action';\r\n\r\nconst initialState = '';\r\n\r\nexport default function redirectReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case REDIRECT:\r\n            return action.payload;\r\n        case CLEAR_REDIRECT:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './reducer/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n","import { Cookies } from 'react-cookie';\r\nimport { clearToast, pushToast } from '../redux/actions/toast.action';\r\nimport { store } from '../redux/store';\r\nimport { RiErrorWarningLine } from 'react-icons/ri';\r\nimport { FiCheckCircle } from 'react-icons/fi';\r\nimport { API_URL } from '../config';\r\nimport { clearRedirect, redirect } from '../redux/actions/redirect.action';\r\n\r\nexport const isEmpty = (value) => {\r\n    return (\r\n        value === undefined ||\r\n        value === null ||\r\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\r\n        (typeof value === 'string' && value.trim().length === 0)\r\n    );\r\n};\r\n\r\nexport const setRememberMeCookie = async (token) => {\r\n    const cookie = new Cookies();\r\n    // cookie.remove('token', { path: '/' });\r\n    cookie.set('token', token, { maxAge: 604800000 }); // 1 week ?\r\n};\r\n\r\nexport const errorsManager = (err) => {\r\n    for (const error in err) {\r\n        addToast(<RiErrorWarningLine />, err[error], 'danger');\r\n    }\r\n};\r\n\r\nexport const addToast = (icon, info, type) => {\r\n    store.dispatch(pushToast(icon, info, type));\r\n};\r\n\r\nexport const clearToastByTypes = (type) => {\r\n    store.dispatch(clearToast(type));\r\n};\r\nexport const warningToast = (message) => {\r\n    clearToastByTypes(['danger', 'warning']);\r\n    addToast(<RiErrorWarningLine />, message, 'warning');\r\n};\r\nexport const successToast = (message) => {\r\n    clearToastByTypes(['danger', 'warning']);\r\n    addToast(<FiCheckCircle />, message, 'success');\r\n};\r\n\r\nexport const getPicturePath = (model, image) => {\r\n    switch (model) {\r\n        case 'board':\r\n            return `${API_URL}/board-picture/${image}`;\r\n        case 'user':\r\n            return `${API_URL}/user-picture/${image}`;\r\n        case 'attachment':\r\n            return `${API_URL}/attachment/${image}`;\r\n        default:\r\n            console.log('getPicturePath() -> Picture Path Error');\r\n    }\r\n};\r\n\r\nexport const redirectTo = (to) => {\r\n    store.dispatch(redirect(to));\r\n    // setTimeout(() => {\r\n    store.dispatch(clearRedirect());\r\n    // }, 500);\r\n};\r\n\r\nexport const insertSpecialCharacter = (ref, character) => {\r\n    var doc = ref.current.ownerDocument.defaultView;\r\n\r\n    var sel = doc.getSelection();\r\n    var range = sel.getRangeAt(0);\r\n\r\n    var tabNode = document.createTextNode(String.fromCodePoint(character)); // code point\r\n\r\n    range.insertNode(tabNode);\r\n\r\n    range.setStartAfter(tabNode);\r\n    range.setEndAfter(tabNode);\r\n    sel.removeAllRanges();\r\n    sel.addRange(range);\r\n};\r\n\r\nexport const removeHTMLtags = (html) => {\r\n    return html.replaceAll(/(<([^>]+)>)/gi, '');\r\n};\r\n\r\nexport const removeHtmlClass = (html) => {\r\n    return html.replaceAll(/class=\"[a-zA-Z0-9:;.\\s()\\-,]*\"/gi, '');\r\n    // return html.replaceAll(/class=\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,]*\"/gi, '');\r\n};\r\n\r\nexport const removeHtmlStyle = (html) => {\r\n    return html.replaceAll(/(<[^>]+) style=\".*?\"/gi, '');\r\n};\r\n\r\nexport const removeHtmlAttributes = (html) => {\r\n    return html.replaceAll(/<\\s*(\\w+).*?>/gi, '');\r\n};\r\n\r\nexport const closeOnClickOutside = (ref, setIsOpen) => {\r\n    const handleCloseModal = (e) => {\r\n        if (!ref.current) return () => setIsOpen(false);\r\n\r\n        !ref.current.contains(e.target) && setIsOpen(false);\r\n    };\r\n\r\n    window.addEventListener('mousedown', handleCloseModal);\r\n};\r\n\r\nexport const reorderArray = (currentIndex, destinationIndex, array) => {\r\n    let newArray = [...array];\r\n    const [reorderList] = newArray.splice(currentIndex, 1);\r\n    newArray.splice(destinationIndex, 0, reorderList);\r\n    return newArray;\r\n};\r\n\r\nexport const getDraggedDom = (draggableID) => {\r\n    const dataName = 'data-rbd-draggable-id';\r\n    const draggedEl = document.querySelector(`[${dataName}=${draggableID}]`);\r\n    return draggedEl;\r\n};\r\n\r\nexport const cutMongooseTimestampInDate = (mongooseTimestamp) => {\r\n    const month = [\r\n        'January',\r\n        'February',\r\n        'March',\r\n        'April',\r\n        'May',\r\n        'June',\r\n        'July',\r\n        'August',\r\n        'September',\r\n        'October',\r\n        'November',\r\n        'December',\r\n    ];\r\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n\r\n    const noFormatDate = mongooseTimestamp;\r\n\r\n    //  YEAR\r\n    const years = noFormatDate.substring(0, 4);\r\n\r\n    //  MONTH\r\n    const monthNum =\r\n        noFormatDate[5] === '0' ? noFormatDate.substring(6, 7) : noFormatDate.substring(5, 7);\r\n    const monthLetter = month[monthNum - 1];\r\n\r\n    //  DAY\r\n    const dayNum = noFormatDate.substring(8, 10);\r\n    const dayLetter = days[dayNum];\r\n\r\n    // HOUR\r\n    const hour = noFormatDate.substring(11, 16);\r\n\r\n    return { hour, dayNum, dayLetter, monthNum, monthLetter, years };\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { Transition } from 'react-transition-group';\r\nimport { isEmpty } from '../../utils/utils';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DropDown = ({\r\n    children,\r\n    contentRef,\r\n    contentClass,\r\n    wrapperClass,\r\n    allowsRef,\r\n    isOpen,\r\n    setIsOpen,\r\n    isResponsive = false,\r\n    maxWidthResponsive = 600,\r\n    isVertical = true,\r\n    title,\r\n    description,\r\n    top,\r\n    right,\r\n    bottom,\r\n    left,\r\n    topResponsive,\r\n    rightResponsive,\r\n    bottomResponsive,\r\n    leftResponsive,\r\n}) => {\r\n    const dropdownContentRef = useRef();\r\n    const currentRef = isVertical ? dropdownContentRef : contentRef;\r\n    const isBreakPoint = useMediaQuery({ query: `(max-width: ${maxWidthResponsive}px)` });\r\n    const [contentSize, setContentSize] = useState(null);\r\n    const heightOrWidth = isVertical ? 'maxHeight' : 'maxWidth';\r\n    const duration = 300;\r\n    const defaultStyle = {\r\n        transition: `${duration}ms ease`,\r\n        [heightOrWidth]: '0',\r\n        // padding: '8px',\r\n        overflow: 'hidden',\r\n    };\r\n    const transitionStyles = {\r\n        entering: {\r\n            [heightOrWidth]: `${contentSize}px`,\r\n            overflow: 'hidden',\r\n        },\r\n        entered: {\r\n            [heightOrWidth]: `${contentSize}px`,\r\n            overflow: 'visible',\r\n        },\r\n        exiting: { [heightOrWidth]: '0', overflow: 'hidden' },\r\n        exited: { [heightOrWidth]: '0', overflow: 'hidden' },\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n        if (currentRef.current) {\r\n            isVertical\r\n                ? setContentSize(currentRef.current.getBoundingClientRect().height)\r\n                : setContentSize(currentRef.current.getBoundingClientRect().width);\r\n        }\r\n        const handleCloseDropDown = (e) => {\r\n            if (isEmpty(allowsRef)) {\r\n                if (!currentRef.current) return setIsOpen(false);\r\n                !currentRef.current.contains(e.target) && setIsOpen(false);\r\n            } else {\r\n                if (!currentRef.current || !allowsRef.current) return setIsOpen(false);\r\n                if (\r\n                    !currentRef.current.contains(e.target) &&\r\n                    !allowsRef.current.contains(e.target)\r\n                ) {\r\n                    setIsOpen(false);\r\n                }\r\n            }\r\n        };\r\n        window.addEventListener('mousedown', handleCloseDropDown);\r\n        if (!currentRef.current) return setIsOpen(false);\r\n        if (!isOpen) {\r\n            window.removeEventListener('mousedown', handleCloseDropDown);\r\n        }\r\n    }, [isOpen, setIsOpen, currentRef, isVertical, allowsRef]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={`dropdown ${wrapperClass} ${\r\n                    isResponsive && isBreakPoint ? 'dropdown-responsive' : ''\r\n                }`}\r\n                style={\r\n                    isResponsive && isBreakPoint\r\n                        ? {\r\n                              top: topResponsive,\r\n                              right: rightResponsive,\r\n                              bottom: bottomResponsive,\r\n                              left: leftResponsive,\r\n                          }\r\n                        : { top, right, bottom, left }\r\n                }>\r\n                <Transition unmountOnExit in={isOpen} timeout={duration}>\r\n                    {(state) => (\r\n                        <div\r\n                            className={`dropdown__content`}\r\n                            style={{\r\n                                ...defaultStyle,\r\n                                ...transitionStyles[state],\r\n                            }}>\r\n                            <div\r\n                                className={`${contentClass}`}\r\n                                ref={isVertical && dropdownContentRef}>\r\n                                {title && description && (\r\n                                    <>\r\n                                        <span className=\"dropdown__content__title\">{title}</span>\r\n                                        <span className=\"dropdown__content__description\">\r\n                                            {description}\r\n                                        </span>\r\n                                    </>\r\n                                )}\r\n                                {children}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </Transition>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nDropDown.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    setIsOpen: PropTypes.func,\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Button from '../utils/Button';\r\nimport { IoClose } from 'react-icons/io5';\r\nimport { useDispatch } from 'react-redux';\r\nimport { closeModal } from '../../redux/actions/modal.action';\r\n\r\nconst Modal = ({\r\n    children,\r\n    hasCloseButton = false,\r\n    isOpen,\r\n    setIsOpen,\r\n    hasOverflowYScroll = false,\r\n    hasChoiceButton = false,\r\n    btnConfirmMessage,\r\n    btnConfirmIcon,\r\n    confirmMessage,\r\n    confirmFunction,\r\n}) => {\r\n    const [isOpenContent, setIsOpenContent] = useState(false);\r\n    const modalRef = useRef();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (isOpen) return (document.querySelector('html').style = 'overflow : hidden');\r\n        return (document.querySelector('html').style = 'overflow : visible');\r\n    }, [isOpen]);\r\n\r\n    useEffect(() => {\r\n        const handleCloseModal = (e) => {\r\n            if (!modalRef.current) {\r\n                return setIsOpen(false);\r\n            }\r\n\r\n            if (!modalRef.current.contains(e.target)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('mousedown', handleCloseModal);\r\n\r\n        return () => {\r\n            window.removeEventListener('mousedown', handleCloseModal);\r\n            document.querySelector('html').style = 'overflow : visible';\r\n        };\r\n    }, [setIsOpen]);\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition\r\n                in={isOpen}\r\n                classNames=\"modal\"\r\n                appear={true}\r\n                timeout={200}\r\n                onEntered={() => setIsOpenContent(true)}\r\n                onExit={() => setIsOpenContent(false)}\r\n                onExited={() => {\r\n                    dispatch(closeModal());\r\n                    setIsOpen(false);\r\n                }}\r\n                unmountOnExit>\r\n                <div\r\n                    className=\"modal\"\r\n                    style={{ alignItems: hasOverflowYScroll ? 'flex-start' : 'center' }}>\r\n                    <CSSTransition\r\n                        in={isOpenContent}\r\n                        classNames=\"modalcontent\"\r\n                        appear={true}\r\n                        timeout={300}\r\n                        unmountOnExit>\r\n                        <div ref={modalRef} className=\"modal__content\">\r\n                            {hasCloseButton && (\r\n                                <Button\r\n                                    className=\"modal__content__close\"\r\n                                    onClick={() => setIsOpen(false)}>\r\n                                    <IoClose />\r\n                                </Button>\r\n                            )}\r\n\r\n                            {children}\r\n\r\n                            {hasChoiceButton && (\r\n                                <>\r\n                                    <p className=\"modal__content__confirm-message\">\r\n                                        {confirmMessage}\r\n                                    </p>\r\n                                    <div className=\"modal__content__btn-wrapper\">\r\n                                        <Button\r\n                                            className=\"modal__content__btn-wrapper__cancel\"\r\n                                            onClick={() => setIsOpen(false)}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                        <Button\r\n                                            className=\"modal__content__btn-wrapper__confirm\"\r\n                                            onClick={confirmFunction}>\r\n                                            {btnConfirmIcon && (\r\n                                                <span className=\"modal__content__btn-wrapper__confirm__icon\">\r\n                                                    {btnConfirmIcon}\r\n                                                </span>\r\n                                            )}\r\n                                            <span className=\"modal__content__btn-wrapper__confirm__label\">\r\n                                                {btnConfirmMessage ? btnConfirmMessage : 'Confirm'}\r\n                                            </span>\r\n                                        </Button>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </CSSTransition>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import { io } from 'socket.io-client';\r\nimport { SOCKET_URL } from '../config';\r\n\r\nexport default io(SOCKET_URL);\r\n","import React from 'react';\r\nimport { MdNotifications, MdCheck } from 'react-icons/md';\r\nimport { IoMdTrash } from 'react-icons/io';\r\nimport Modal from '../../utils/Modal';\r\nimport { AiOutlineAppstoreAdd } from 'react-icons/ai';\r\nimport Button from '../../utils/Button';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteNotification } from '../../../redux/actions/user.action';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst Notifications = ({ isOpen, setIsOpen }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleJoinBoard = (boardID, notificationID) => {\r\n        const joinBoardObject = {\r\n            userID: user._id,\r\n            boardID,\r\n        };\r\n        socket.emit('join board', joinBoardObject);\r\n        dispatch(deleteNotification(user._id, notificationID));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal isOpen={isOpen} setIsOpen={setIsOpen} hasCloseButton={true}>\r\n                <div className=\"profilmenu__notifications\">\r\n                    <span className=\"profilmenu__notifications__top\">\r\n                        <MdNotifications className=\"profilmenu__notifications__top__icon\" />\r\n                        Notifications\r\n                    </span>\r\n                    <ul className=\"profilmenu__notifications__list\">\r\n                        {!isEmpty(user.notifications) ? (\r\n                            user.notifications.map(({ _id, title, message, boardIDRequested }) => {\r\n                                return (\r\n                                    <li key={_id} className=\"profilmenu__notifications__list__item\">\r\n                                        <div className=\"profilmenu__notifications__list__item__right\">\r\n                                            <AiOutlineAppstoreAdd className=\"profilmenu__notifications__list__item__right__icon\" />\r\n                                            <div className=\"profilmenu__notifications__list__item__right__content\">\r\n                                                <span className=\"profilmenu__notifications__list__item__right__content__title\">\r\n                                                    {title}\r\n                                                </span>\r\n                                                <span className=\"profilmenu__notifications__list__item__right__content__message\">\r\n                                                    {message}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"profilmenu__notifications__list__item__left\">\r\n                                            <Button\r\n                                                className=\"profilmenu__notifications__list__item__left__btn-valid\"\r\n                                                onClick={() =>\r\n                                                    handleJoinBoard(boardIDRequested, _id)\r\n                                                }>\r\n                                                <MdCheck />\r\n                                            </Button>\r\n                                            <Button\r\n                                                className=\"profilmenu__notifications__list__item__left__btn-wrong\"\r\n                                                onClick={() =>\r\n                                                    dispatch(\r\n                                                        deleteNotification(\r\n                                                            user._id,\r\n                                                            _id,\r\n                                                            boardIDRequested\r\n                                                        )\r\n                                                    )\r\n                                                }>\r\n                                                <IoMdTrash />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <h4 style={{ textAlign: 'center', marginTop: '20px' }}>\r\n                                You don't have notifications\r\n                            </h4>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { FaUserAlt } from 'react-icons/fa';\r\nimport { MdNotifications } from 'react-icons/md';\r\nimport { RiLogoutBoxRFill } from 'react-icons/ri';\r\nimport { useSelector } from 'react-redux';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport Notifications from '../modal/Notifications';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nconst ProfilMenu = ({ isOpen, setIsOpen }) => {\r\n    const [isOpenNotification, setIsOpenNotification] = useState(false);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [, , removeCookie] = useCookies();\r\n\r\n    return (\r\n        <>\r\n            <Notifications isOpen={isOpenNotification} setIsOpen={setIsOpenNotification} />\r\n\r\n            <DropDown\r\n                contentClass=\"profilmenu\"\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                top=\"60px\"\r\n                right=\"10px\">\r\n                <div>\r\n                    <ul className=\"profilmenu__navlist\">\r\n                        <li>\r\n                            <button className=\"profilmenu__navlist__item\">\r\n                                <FaUserAlt className=\"profilmenu__navlist__item__icon\" />\r\n                                Profil\r\n                            </button>\r\n                        </li>\r\n                        <li onClick={() => setIsOpenNotification(true)}>\r\n                            <button className=\"profilmenu__navlist__item\">\r\n                                <MdNotifications className=\"profilmenu__navlist__item__icon\" />\r\n                                Notifications\r\n                                {!isEmpty(user.notifications) && (\r\n                                    <span\r\n                                        className=\"bubble-notifications\"\r\n                                        style={{\r\n                                            fontSize: user.notifications.length > 99 && '0.6rem',\r\n                                        }}>\r\n                                        {user.notifications.length > 99\r\n                                            ? '99+'\r\n                                            : user.notifications.length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"profilmenu__navlist__divider\"></li>\r\n                        <li>\r\n                            <button\r\n                                className=\"profilmenu__navlist__item\"\r\n                                onClick={() => {\r\n                                    removeCookie('token', { path: '/' });\r\n                                    document.location.reload();\r\n                                }}>\r\n                                <RiLogoutBoxRFill className=\"profilmenu__navlist__item__icon profilmenu__navlist__item__icon--logout\" />\r\n                                Logout\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </DropDown>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfilMenu;\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Button from '../../components/utils/Button';\r\nimport { BsFillCaretDownFill } from 'react-icons/bs';\r\nimport { Link } from 'react-router-dom';\r\nimport { BsGrid3X3Gap } from 'react-icons/bs';\r\nimport MediaQuery from 'react-responsive';\r\nimport DropDown from '../utils/Dropdown';\r\nimport { addToast, getPicturePath, isEmpty } from '../../utils/utils';\r\nimport ProfilMenu from './dropdown/ProfilMenu';\r\n\r\nconst Header = ({ isHeaderBoard, boardName }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [isOpenSearchBar, setIsOpenSearchBar] = useState(false);\r\n    const [isOpenProfilMenu, setIsOpenProfilMenu] = useState(false);\r\n    const [test, setTest] = useState(1);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div className=\"header__left\">\r\n                    <Link className=\"header__left__logo\" to=\"/allboards\">\r\n                        <MediaQuery minWidth=\"650px\">\r\n                            <svg\r\n                                width=\"98\"\r\n                                height=\"29\"\r\n                                viewBox=\"0 0 98 29\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M54.3311 8.436V10.47H50.9831V21H48.4631V10.47H45.1151V8.436H54.3311ZM61.1557 10.884C61.9117 10.884 62.5837 11.052 63.1717 11.388C63.7597 11.712 64.2157 12.198 64.5397 12.846C64.8757 13.482 65.0437 14.25 65.0437 15.15V21H62.5237V15.492C62.5237 14.7 62.3257 14.094 61.9297 13.674C61.5337 13.242 60.9937 13.026 60.3097 13.026C59.6137 13.026 59.0617 13.242 58.6537 13.674C58.2577 14.094 58.0597 14.7 58.0597 15.492V21H55.5397V7.68H58.0597V12.27C58.3837 11.838 58.8157 11.502 59.3557 11.262C59.8957 11.01 60.4957 10.884 61.1557 10.884ZM76.2241 11.028V21H73.6861V19.74C73.3621 20.172 72.9361 20.514 72.4081 20.766C71.8921 21.006 71.3281 21.126 70.7161 21.126C69.9361 21.126 69.2461 20.964 68.6461 20.64C68.0461 20.304 67.5721 19.818 67.2241 19.182C66.8881 18.534 66.7201 17.766 66.7201 16.878V11.028H69.2401V16.518C69.2401 17.31 69.4381 17.922 69.8341 18.354C70.2301 18.774 70.7701 18.984 71.4541 18.984C72.1501 18.984 72.6961 18.774 73.0921 18.354C73.4881 17.922 73.6861 17.31 73.6861 16.518V11.028H76.2241ZM80.6005 7.68V21H78.0805V7.68H80.6005ZM84.9803 7.68V21H82.4603V7.68H84.9803ZM91.268 21.162C90.308 21.162 89.444 20.952 88.676 20.532C87.908 20.1 87.302 19.494 86.858 18.714C86.426 17.934 86.21 17.034 86.21 16.014C86.21 14.994 86.432 14.094 86.876 13.314C87.332 12.534 87.95 11.934 88.73 11.514C89.51 11.082 90.38 10.866 91.34 10.866C92.3 10.866 93.17 11.082 93.95 11.514C94.73 11.934 95.342 12.534 95.786 13.314C96.242 14.094 96.47 14.994 96.47 16.014C96.47 17.034 96.236 17.934 95.768 18.714C95.312 19.494 94.688 20.1 93.896 20.532C93.116 20.952 92.24 21.162 91.268 21.162ZM91.268 18.966C91.724 18.966 92.15 18.858 92.546 18.642C92.954 18.414 93.278 18.078 93.518 17.634C93.758 17.19 93.878 16.65 93.878 16.014C93.878 15.066 93.626 14.34 93.122 13.836C92.63 13.32 92.024 13.062 91.304 13.062C90.584 13.062 89.978 13.32 89.486 13.836C89.006 14.34 88.766 15.066 88.766 16.014C88.766 16.962 89 17.694 89.468 18.21C89.948 18.714 90.548 18.966 91.268 18.966Z\"\r\n                                    fill=\"#333333\"\r\n                                    className=\"header__left__logo__label\"\r\n                                />\r\n\r\n                                <path\r\n                                    d=\"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__left\"\r\n                                />\r\n                                <path\r\n                                    d=\"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__right\"\r\n                                />\r\n                            </svg>\r\n                        </MediaQuery>\r\n                        <MediaQuery maxWidth=\"649px\">\r\n                            <svg\r\n                                width=\"32\"\r\n                                height=\"29\"\r\n                                viewBox=\"0 0 32 29\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M0 4C0 1.79086 1.79086 0 4 0H10C12.2091 0 14 1.79086 14 4V25C14 27.2091 12.2091 29 10 29H4C1.79086 29 0 27.2091 0 25V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__left\"\r\n                                />\r\n                                <path\r\n                                    d=\"M18 4C18 1.79086 19.7909 0 22 0H28C30.2091 0 32 1.79086 32 4V14C32 16.2091 30.2091 18 28 18H22C19.7909 18 18 16.2091 18 14V4Z\"\r\n                                    fill=\"#2F80ED\"\r\n                                    className=\"header__left__logo__right\"\r\n                                />\r\n                            </svg>\r\n                        </MediaQuery>\r\n                    </Link>\r\n                    {isHeaderBoard && (\r\n                        <div className=\"header__left__board\">\r\n                            <h2 className=\"header__left__board__name\">{boardName}</h2>\r\n                            <span className=\"header__left__board__divider\"></span>\r\n                            <Link to=\"/allboards\" className=\"header__left__board__btn-allboard\">\r\n                                <BsGrid3X3Gap className=\"header__left__board__btn-allboard__icons\" />\r\n                                <span className=\"header__left__board__btn-allboard__label\">\r\n                                    All board\r\n                                </span>\r\n                            </Link>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"header__right\">\r\n                    <MediaQuery minWidth=\"1100px\">\r\n                        <div className=\"header__right__search\">\r\n                            <input\r\n                                className=\"header__right__search__input\"\r\n                                type=\"text\"\r\n                                placeholder=\"Keyword...\"\r\n                            />\r\n                            <Button\r\n                                className=\"header__right__search__button\"\r\n                                onClick={() => {\r\n                                    addToast(<BsFillCaretDownFill />, `test ${test}`, 'success');\r\n                                    setTest(test + 1);\r\n                                }}>\r\n                                Search\r\n                            </Button>\r\n                        </div>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth=\"1099px\">\r\n                        <div className=\"header__right__search__responsive\">\r\n                            <Button\r\n                                className=\"header__right__search__responsive__button\"\r\n                                onClick={() => setIsOpenSearchBar(true)}>\r\n                                Search\r\n                            </Button>\r\n                            {/* {isOpenSearchBar && ( */}\r\n                            <DropDown\r\n                                left=\"-170px\"\r\n                                top=\"46px\"\r\n                                isOpen={isOpenSearchBar}\r\n                                setIsOpen={setIsOpenSearchBar}>\r\n                                <div className=\"header__right__search__responsive__dropdown__wrapper\">\r\n                                    <input\r\n                                        className={`header__right__search__responsive__dropdown__wrapper__input `}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Keyword...\"\r\n                                    />\r\n                                </div>\r\n                            </DropDown>\r\n                            {/* )} */}\r\n                        </div>\r\n                    </MediaQuery>\r\n                    <button\r\n                        className=\"header__right__profil\"\r\n                        onClick={() => setIsOpenProfilMenu(true)}>\r\n                        <img\r\n                            className=\"header__right__profil__img\"\r\n                            src={getPicturePath('user', user.picture)}\r\n                            alt=\"p\"\r\n                        />\r\n                        <span className=\"header__right__profil__name\">{user.pseudo}</span>\r\n                        <span className=\"header__right__profil__icon\">\r\n                            <BsFillCaretDownFill />\r\n                        </span>\r\n                        {!isEmpty(user.notifications) && (\r\n                            <span\r\n                                className=\"bubble-notifications\"\r\n                                style={{ fontSize: user.notifications.length > 99 && '0.6rem' }}>\r\n                                {user.notifications.length > 99 ? '99+' : user.notifications.length}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <ProfilMenu isOpen={isOpenProfilMenu} setIsOpen={setIsOpenProfilMenu} />\r\n                </div>\r\n            </header>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Header from './Header';\r\n\r\nconst PageTemplate = ({\r\n    pageTitle,\r\n    children,\r\n    isHeaderBoard = false,\r\n    boardName,\r\n    hasHeader = true,\r\n}) => {\r\n    const isLoading = useSelector((state) => state.loaderReducer);\r\n    document.title = `Thullo | ${isLoading ? 'Loading . . .' : pageTitle}`;\r\n\r\n    return (\r\n        <>\r\n            {hasHeader && <Header isHeaderBoard={isHeaderBoard} boardName={boardName} />}\r\n\r\n            {children}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PageTemplate;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RiAddFill } from 'react-icons/ri';\r\nimport Modal from '../../utils/Modal';\r\nimport { MdImage, MdLock } from 'react-icons/md';\r\nimport { IoIosAddCircleOutline } from 'react-icons/io';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createBoard } from '../../../redux/actions/board.action';\r\nimport Button from '../../utils/Button';\r\n\r\nconst ModalCreateBoard = ({ isOpen, setIsOpen }) => {\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [picturePreview, setPicturePreview] = useState('');\r\n    const [newBoard, setNewBoard] = useState({\r\n        name: '',\r\n        picture: '',\r\n        isPrivate: false,\r\n        owner: user._id,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setPicturePreview('');\r\n            setNewBoard({\r\n                name: '',\r\n                picture: '',\r\n                isPrivate: false,\r\n                owner: '',\r\n            });\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleChangePicture = async (e) => {\r\n        if (!e.target.files[0]) return;\r\n        const pictureFile = await e.target.files[0];\r\n        // console.log(pictureFile);\r\n        setNewBoard({ ...newBoard, picture: pictureFile });\r\n        const picturePreviewURL = await URL.createObjectURL(pictureFile);\r\n        setPicturePreview(picturePreviewURL);\r\n    };\r\n\r\n    const handleCreateBoard = () => {\r\n        const data = new FormData();\r\n        data.append('name', newBoard.name);\r\n        data.append('picture', newBoard.picture);\r\n        data.append('isPrivate', newBoard.isPrivate);\r\n        data.append('owner', user._id);\r\n        setIsOpen(false);\r\n        dispatch(createBoard(data));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                hasCloseButton={true}\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                hasChoiceButton={true}\r\n                btnConfirmIcon={<RiAddFill />}\r\n                btnConfirmMessage=\"Create\"\r\n                confirmFunction={() => handleCreateBoard()}>\r\n                <div className=\"createboardmodal\">\r\n                    <label\r\n                        className={`createboardmodal__input__image ${\r\n                            picturePreview ? '' : 'no-preview'\r\n                        }`}\r\n                        htmlFor=\"boardmodal_input_image\"\r\n                        style={{ backgroundImage: `url(${picturePreview})` }}>\r\n                        <div className={`${picturePreview ? 'preview-background' : ''}`}>\r\n                            <IoIosAddCircleOutline\r\n                                className={`createboardmodal__input__image__icon ${\r\n                                    picturePreview ? 'preview-active' : ''\r\n                                }`}\r\n                            />\r\n                        </div>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"boardmodal_input_image\"\r\n                            onChange={handleChangePicture}\r\n                            accept=\".png , .jpg , .jpeg\"\r\n                            hidden\r\n                        />\r\n                    </label>\r\n                    <input\r\n                        value={newBoard.name}\r\n                        onChange={(e) => setNewBoard({ ...newBoard, name: e.target.value })}\r\n                        maxLength=\"20\"\r\n                        className=\"createboardmodal__input__name\"\r\n                        type=\"text\"\r\n                        placeholder=\"Add board title\"\r\n                    />\r\n                    <div className=\"createboardmodal__button__wrapper\">\r\n                        <Button className=\"createboardmodal__button__wrapper__item\">\r\n                            <MdImage className=\"createboardmodal__button__wrapper__item__icon\" />{' '}\r\n                            Cover\r\n                        </Button>\r\n                        <Button\r\n                            className={`createboardmodal__button__wrapper__item ${\r\n                                newBoard.isPrivate ? 'isStateActiveCreateBoard' : ''\r\n                            }`}\r\n                            onClick={() =>\r\n                                setNewBoard((oldNewBoard) => {\r\n                                    oldNewBoard.isPrivate = !oldNewBoard.isPrivate;\r\n                                    return { ...oldNewBoard };\r\n                                })\r\n                            }>\r\n                            <MdLock className=\"createboardmodal__button__wrapper__item__icon\" />{' '}\r\n                            Private\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ModalCreateBoard;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPicturePath } from '../../../utils/utils';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst BoardItem = ({ _id, name, picture, members }) => {\r\n    const MEMBER_MAX_LENGTH = 3;\r\n\r\n    return (\r\n        <Link to={`/board/${_id}`} className=\"allboards__container__items\">\r\n            <img\r\n                className=\"allboards__container__items__img\"\r\n                src={getPicturePath('board', picture)}\r\n                alt={`board ${name}`}\r\n            />\r\n            <span className=\"allboards__container__items__title\">{name}</span>\r\n            <ul className=\"allboards__container__items__members\">\r\n                {members\r\n                    .map(({ _id, pseudo, picture }, index) => {\r\n                        if (index === MEMBER_MAX_LENGTH)\r\n                            return (\r\n                                <span\r\n                                    key={uuid()}\r\n                                    className=\"allboards__container__items__members__others\">\r\n                                    +{members.length - MEMBER_MAX_LENGTH} Others\r\n                                </span>\r\n                            );\r\n                        return (\r\n                            <li key={_id} className=\"allboards__container__items__members__profil\">\r\n                                <img\r\n                                    src={getPicturePath('user', picture)}\r\n                                    alt={`${pseudo} profil`}></img>\r\n                            </li>\r\n                        );\r\n                    })\r\n                    .slice(0, MEMBER_MAX_LENGTH + 1)}\r\n            </ul>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default BoardItem;\r\n","import React, { useState } from 'react';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport Button from '../components/utils/Button';\r\nimport { RiAddFill } from 'react-icons/ri';\r\nimport { useSelector } from 'react-redux';\r\nimport ModalCreateBoard from '../components/templates/modal/CreateBoard.jsx';\r\nimport BoardItem from '../components/templates/board/BoardItem';\r\nimport { isEmpty } from '../utils/utils';\r\n// REDIRIGER VERS LOGIN SI NON CONNECTE\r\nconst Home = () => {\r\n    const boards = useSelector((state) => state.boardReducer.boards);\r\n    const [isOpenCreateBoard, setIsOpenCreateBoard] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <ModalCreateBoard isOpen={isOpenCreateBoard} setIsOpen={setIsOpenCreateBoard} />\r\n\r\n            <PageTemplate pageTitle=\"Allboards\">\r\n                <div className=\"allboards\">\r\n                    <div className=\"allboards__top\">\r\n                        <h1 className=\"allboards__top__title\">All Boards</h1>\r\n                        <Button\r\n                            className=\"allboards__top__btn\"\r\n                            onClick={() => setIsOpenCreateBoard(true)}>\r\n                            <RiAddFill className=\"allboards__top__btn__icon\" />\r\n                            <span className=\"allboards__top__btn__label\">Add</span>\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <div className=\"allboards__container\">\r\n                        {!isEmpty(boards) &&\r\n                            boards.map((board) => {\r\n                                return <BoardItem key={board._id} {...board} />;\r\n                            })}\r\n                    </div>\r\n                </div>\r\n            </PageTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/Logo.7ba81713.svg\";","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { isEmpty } from '../../utils/utils';\r\nimport ThulloLogo from '../../assets/images/Logo.svg';\r\n\r\nconst authContainer = {\r\n    height: '80vh',\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n};\r\n\r\nconst logo = {\r\n    height: '50px',\r\n    position: 'absolute',\r\n    top: '15px',\r\n    left: '15px',\r\n};\r\n\r\nconst AuthWrapper = ({ children }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n\r\n    return (\r\n        <>\r\n            {!isEmpty(user) && <Redirect to=\"/allboards\" />}\r\n            <div className=\"auth\">\r\n                <img style={logo} src={ThulloLogo} alt=\"Thullo\" />\r\n                <div style={authContainer}>{children}</div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AuthWrapper;\r\n","import React, { useState } from 'react';\r\nimport AuthWrapper from '../../components/layouts/AuthWrapper.js';\r\nimport Button from '../../components/utils/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../../redux/actions/user.action';\r\nimport PageTemplate from '../../components/templates/PageTemplate.js';\r\n\r\nconst Login = (props) => {\r\n    const dispatch = useDispatch();\r\n    const [userLogin, setUserLogin] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(userLogin));\r\n    };\r\n\r\n    return (\r\n        <PageTemplate pageTitle=\"Login\" hasHeader={false}>\r\n            <AuthWrapper>\r\n                <form className=\"auth__component\" onSubmit={handleLogin} noValidate>\r\n                    <h1 className=\"auth__title\">Login</h1>\r\n                    <div className=\"auth__input__wrapper\">\r\n                        <input\r\n                            className=\"auth__input\"\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={userLogin.email}\r\n                            autoComplete=\"on\"\r\n                            onChange={(e) => setUserLogin({ ...userLogin, email: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"auth__input__wrapper\">\r\n                        <input\r\n                            className=\"auth__input\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={userLogin.password}\r\n                            onChange={(e) =>\r\n                                setUserLogin({ ...userLogin, password: e.target.value })\r\n                            }\r\n                        />\r\n                    </div>\r\n                    <Button className=\"auth__btn\">Connexion</Button>\r\n                    <p className=\"auth__has-account\">\r\n                        You don't have account ? <Link to=\"/register\">Register</Link>\r\n                    </p>\r\n                </form>\r\n            </AuthWrapper>\r\n        </PageTemplate>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst primaryColorScss = '#2f80ed'; // default\r\n\r\nconst Loader = ({ radius, color = primaryColorScss }) => {\r\n    return (\r\n        <svg className=\"loader\" height={radius * 2 || 100} width={radius * 2 || 100}>\r\n            <circle\r\n                className=\"loader__inset\"\r\n                cx={radius * 0.8 || 50}\r\n                cy={radius * 0.8 || 50}\r\n                r={(radius * 0.8) / 2 || 25}\r\n                strokeWidth={radius * 0.03}\r\n                stroke={color}\r\n            />\r\n            <circle\r\n                className=\"loader__around\"\r\n                cx={radius || 50}\r\n                cy={radius || 50}\r\n                r={radius / 2 || 25}\r\n                strokeWidth={radius * 0.03}\r\n                stroke={color}\r\n            />\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState } from 'react';\r\nimport AuthWrapper from '../../components/layouts/AuthWrapper';\r\nimport Button from '../../components/utils/Button';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from '../../utils/axios';\r\nimport PageTemplate from '../../components/templates/PageTemplate';\r\nimport { addToast, clearToastByTypes, errorsManager } from '../../utils/utils';\r\nimport { BsBookmarkCheck } from 'react-icons/bs';\r\nimport Loader from '../../components/utils/Loader';\r\n\r\nconst Register = (props) => {\r\n    const [emailAlreadyExist, setEmailAlreadyExist] = useState({});\r\n    const [isSignUpSuccessful, setIsSignUpSuccessful] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleRegister = (user) => {\r\n        if (isLoading) return;\r\n        setIsLoading(true);\r\n        axios\r\n            .post('/user/register', user)\r\n            .then((res) => {\r\n                setEmailAlreadyExist({});\r\n                clearToastByTypes(['danger', 'warning']);\r\n                addToast(<BsBookmarkCheck />, 'Sign Up Successful', 'success');\r\n                setIsSignUpSuccessful(true);\r\n            })\r\n            .catch((err) => {\r\n                const error = err.response.data;\r\n                errorsManager(error);\r\n                setEmailAlreadyExist(err.response.data);\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n    };\r\n\r\n    const userRegister = useFormik({\r\n        initialValues: {\r\n            pseudo: '',\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n        },\r\n        validationSchema: Yup.object({\r\n            pseudo: Yup.string()\r\n                .min(4, 'Pseudo should have 4 characters minimum')\r\n                .max(12, 'Pseudo should have 12 characters maximum')\r\n                .required('Required'),\r\n\r\n            email: Yup.string()\r\n                .required('Email address is required')\r\n                .email('Invalid email address'),\r\n\r\n            password: Yup.string()\r\n                .min(6, 'Password should have 6 characters minimum')\r\n                .required('Password is required'),\r\n\r\n            confirmPassword: Yup.string()\r\n                .required('Please confirm your password')\r\n                .oneOf([Yup.ref('password'), null], 'Password must matched'),\r\n        }),\r\n        onSubmit: (values) => {\r\n            const user = {\r\n                pseudo: values.pseudo,\r\n                email: values.email,\r\n                password: values.password,\r\n            };\r\n            handleRegister(user);\r\n        },\r\n    });\r\n\r\n    return (\r\n        <>\r\n            {isSignUpSuccessful && <Redirect to=\"/login\" />}\r\n\r\n            <PageTemplate pageTitle=\"Register\" hasHeader={false}>\r\n                <AuthWrapper>\r\n                    <form\r\n                        className=\"auth__component\"\r\n                        onSubmit={userRegister.handleSubmit}\r\n                        noValidate>\r\n                        <h1 className=\"auth__title\">Register</h1>\r\n                        <div className=\"auth__input__wrapper\">\r\n                            <input\r\n                                className=\"auth__input\"\r\n                                type=\"text\"\r\n                                {...userRegister.getFieldProps('pseudo')}\r\n                            />\r\n                            <span\r\n                                className={`placeholder ${\r\n                                    userRegister.values.pseudo && 'placeholder_active'\r\n                                }`}>\r\n                                Pseudo\r\n                            </span>\r\n                        </div>\r\n                        {userRegister.touched.pseudo && userRegister.errors.pseudo && (\r\n                            <p className=\"auth__error\">{userRegister.errors.pseudo}</p>\r\n                        )}\r\n                        <div className=\"auth__input__wrapper\">\r\n                            <input\r\n                                className=\"auth__input\"\r\n                                type=\"email\"\r\n                                {...userRegister.getFieldProps('email')}\r\n                            />\r\n                            <span\r\n                                className={`placeholder ${\r\n                                    userRegister.values.email && 'placeholder_active'\r\n                                }`}>\r\n                                Email\r\n                            </span>\r\n                        </div>\r\n                        {userRegister.touched.email && userRegister.errors.email && (\r\n                            <p className=\"auth__error\">{userRegister.errors.email}</p>\r\n                        )}\r\n                        {emailAlreadyExist && (\r\n                            <p className=\"auth__error\">{emailAlreadyExist.message}</p>\r\n                        )}\r\n                        <div className=\"auth__input__wrapper\">\r\n                            <input\r\n                                className=\"auth__input\"\r\n                                type=\"password\"\r\n                                {...userRegister.getFieldProps('password')}\r\n                            />\r\n                            <span\r\n                                className={`placeholder ${\r\n                                    userRegister.values.password && 'placeholder_active'\r\n                                }`}>\r\n                                Password\r\n                            </span>\r\n                        </div>\r\n                        {userRegister.touched.password && userRegister.errors.password && (\r\n                            <p className=\"auth__error\">{userRegister.errors.password}</p>\r\n                        )}\r\n                        <div className=\"auth__input__wrapper\">\r\n                            <input\r\n                                className=\"auth__input\"\r\n                                type=\"password\"\r\n                                {...userRegister.getFieldProps('confirmPassword')}\r\n                            />\r\n                            <span\r\n                                className={`placeholder ${\r\n                                    userRegister.values.confirmPassword && 'placeholder_active'\r\n                                }`}>\r\n                                Confirm Password\r\n                            </span>\r\n                        </div>\r\n                        {userRegister.touched.confirmPassword &&\r\n                            userRegister.errors.confirmPassword && (\r\n                                <p className=\"auth__error\">{userRegister.errors.confirmPassword}</p>\r\n                            )}\r\n                        <Button\r\n                            type=\"submit\"\r\n                            className=\"auth__btn\"\r\n                            style={{ position: 'relative' }}>\r\n                            {isLoading ? <Loader color=\"white\" radius=\"28\" /> : 'Register'}\r\n                        </Button>\r\n                        <p className=\"auth__has-account\">\r\n                            You have already account ? <Link to=\"/login\">Connexion</Link>\r\n                        </p>\r\n                    </form>\r\n                </AuthWrapper>\r\n            </PageTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useEffect, useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport { HiOutlineSearch } from 'react-icons/hi';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport { IoAddCircleOutline } from 'react-icons/io5';\r\nimport { FiCheckCircle } from 'react-icons/fi';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst InviteMember = ({ isOpen, setIsOpen }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [usersToInvite, setUsersToInvite] = useState([]);\r\n    const [userSelected, setUserSelected] = useState([]);\r\n    const [userSearch, setUserSearch] = useState([]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    useEffect(() => {\r\n\r\n        if (!isEmpty(currentBoard)) {\r\n            axios\r\n                .get(`/user/all/${currentBoard._id}`)\r\n                .then((res) => {\r\n                    setUsersToInvite(res.data);\r\n                    setUserSearch(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, [currentBoard]);\r\n\r\n    const handleSearchUser = () => {\r\n        setUserSearch(usersToInvite.filter((user) => user.pseudo.includes(searchValue)));\r\n    };\r\n\r\n    const handleSendInvation = () => {\r\n        const invitationObject = {\r\n            senderPseudo: user.pseudo,\r\n            guestUserIDList: userSelected,\r\n            boardID: currentBoard._id,\r\n            boardName: currentBoard.name,\r\n        };\r\n        setUsersToInvite(usersToInvite.filter((userSug) => !userSelected.includes(userSug._id)));\r\n        setUserSearch(userSearch.filter((userSug) => !userSelected.includes(userSug._id)));\r\n        socket.emit('send invitation', invitationObject);\r\n    };\r\n\r\n    const handleSelectUser = (id) => {\r\n        userSelected.findIndex((userID) => userID === id) === -1\r\n            ? setUserSelected([...userSelected, id])\r\n            : setUserSelected(userSelected.filter((userID) => userID !== id));\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"invitemember\"\r\n            isResponsive={true}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            top=\"46px\"\r\n            left=\"-4px\"\r\n            title=\"Invite to Board\"\r\n            description=\"Search users you want to invite to\">\r\n            <div className=\"invitemember__input__wrapper\">\r\n                <input\r\n                    className=\"invitemember__input__wrapper__input\"\r\n                    placeholder=\"User...\"\r\n                    type=\"text\"\r\n                    value={searchValue}\r\n                    onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n                <Button\r\n                    className=\"invitemember__input__wrapper__btn\"\r\n                    onClick={() => handleSearchUser()}>\r\n                    <HiOutlineSearch />\r\n                </Button>\r\n            </div>\r\n            {!isEmpty(userSearch) && (\r\n                <ul className=\"invitemember__suggest\">\r\n                    {userSearch.map(({ _id, pseudo, picture }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={_id}\r\n                                style={{\r\n                                    marginBottom: index === userSearch.length - 1 ? '' : '15px',\r\n                                }}>\r\n                                <button\r\n                                    className=\"invitemember__suggest__item\"\r\n                                    onClick={() => handleSelectUser(_id)}>\r\n                                    <img\r\n                                        className=\"invitemember__suggest__item__picture\"\r\n                                        src={getPicturePath('user', picture)}\r\n                                        alt={`user ${pseudo}`}\r\n                                    />\r\n                                    <span className=\"invitemember__suggest__item__pseudo\">\r\n                                        {pseudo}\r\n                                    </span>\r\n                                    {userSelected.includes(_id) ? (\r\n                                        <FiCheckCircle className=\"invitemember__suggest__item__icon invitemember__suggest__item__icon--select\" />\r\n                                    ) : (\r\n                                        <IoAddCircleOutline className=\"invitemember__suggest__item__icon\" />\r\n                                    )}\r\n                                </button>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            )}\r\n\r\n            <Button\r\n                className={`invitemember__btn-invite ${\r\n                    isEmpty(userSelected) ? 'invitemember__btn-invite--disabled' : ''\r\n                }`}\r\n                onClick={() => !isEmpty(userSelected) && handleSendInvation()}>\r\n                Invite\r\n            </Button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default InviteMember;\r\n","import React from 'react';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst BoardError = (props) => {\r\n    return (\r\n        <PageTemplate pageTitle=\"Board Error\">\r\n            <h1>Board not found or is Private</h1>\r\n            <Link to=\"/allboards\">Back to home</Link>\r\n        </PageTemplate>\r\n    );\r\n};\r\n\r\nexport default BoardError;\r\n","import React from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { MdPublic } from 'react-icons/md';\r\nimport { IoMdLock } from 'react-icons/io';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst PrivateOrPublic = ({ isOpen, setIsOpen }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n\r\n    const handleChangeState = (state) => {\r\n        if (currentBoard.isPrivate === state) return;\r\n        const boardID = currentBoard._id;\r\n        setIsOpen(false);\r\n        socket.emit('change state', { boardID, state });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"privateorpublic\"\r\n            left=\"-6px\"\r\n            top=\"45px\"\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Visibility\"\r\n            description=\"Choose who can see to this board.\">\r\n            <button\r\n                className={`privateorpublic__btn ${\r\n                    !currentBoard.isPrivate ? 'privateorpublic-active' : ''\r\n                }`}\r\n                style={{ marginBottom: '8px' }}\r\n                onClick={() => handleChangeState(false)}>\r\n                <div className=\"privateorpublic__btn__top\">\r\n                    <MdPublic className=\"privateorpublic__btn__top__icon\" />\r\n                    <span>Public</span>\r\n                </div>\r\n                <p className=\"privateorpublic__btn__desc\">Anyone on the internet can see this.</p>\r\n            </button>\r\n            <button\r\n                className={`privateorpublic__btn ${\r\n                    currentBoard.isPrivate ? 'privateorpublic-active' : ''\r\n                }`}\r\n                onClick={() => handleChangeState(true)}>\r\n                <div className=\"privateorpublic__btn__top\">\r\n                    <IoMdLock className=\"privateorpublic__btn__top__icon\" />\r\n                    <span>Private</span>\r\n                </div>\r\n                <p className=\"privateorpublic__btn__desc\">Only board members can see this</p>\r\n            </button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default PrivateOrPublic;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from '../../utils/axios';\r\n// import { insertSpecialCharacter } from '../../utils/utils';\r\nimport DropDown from '../utils/Dropdown';\r\nimport { VscChromeClose } from 'react-icons/vsc';\r\n\r\nconst EmojiPicker = ({ isOpen, setIsOpen, allowsRef }) => {\r\n    // Faire du call API ici : https://emoji-api.com/\r\n    // insertSpecialCharacter() Afficher les emojis\r\n    const [emoji, setEmoji] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(\r\n                'https://emoji-api.com/categories/travel-places?access_key=c73293510309d49f6b5de5ad0badf72689ddf3ec'\r\n            )\r\n            .then((res) => {\r\n                setEmoji(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <DropDown\r\n            allowsRef={allowsRef}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            bottom=\"-160px\"\r\n            right=\"-8px\">\r\n            <div className=\"emojipicker\">\r\n                <div className=\"emojipicker__category\">\r\n                    <button\r\n                        className=\"emojipicker__category__btn-close\"\r\n                        onClick={() => setIsOpen(false)}>\r\n                        <VscChromeClose />\r\n                    </button>\r\n                </div>\r\n                <div className=\"emojipicker__content\">\r\n                    {emoji.map((emo, index) => {\r\n                        return (\r\n                            <button key={index} className=\"emojipicker__content__item\">\r\n                                {emo.character}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default EmojiPicker;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { insertSpecialCharacter, removeHtmlClass, removeHtmlStyle } from '../../utils/utils';\r\nimport Button from '../utils/Button';\r\nimport { MdInsertEmoticon } from 'react-icons/md';\r\nimport EmojiPicker from './EmojiPicker';\r\n\r\nconst ContentEditable = ({ setIsOpen, content, submitFunc, HTMLInjectedRef }) => {\r\n    // const [innerContent, setInnerContent] = useState('');\r\n    const [isOpenEmojiPicker, setIsOpenEmojiPicker] = useState(false);\r\n    const editorRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const outputRef = useRef();\r\n\r\n    const parseValue = (value) => {\r\n        return value.replaceAll(\r\n            /\\*[a-z0-1A-Z]+/g,\r\n            '<span class=\"description-word-important\">$&</span>'\r\n        );\r\n    };\r\n    const handleSaveDescription = async () => {\r\n        submitFunc && submitFunc(removeHtmlStyle(outputRef.current.innerHTML));\r\n    };\r\n\r\n    useEffect(() => {\r\n        outputRef.current.innerHTML = content;\r\n        descriptionRef.current.innerHTML = removeHtmlClass(outputRef.current.innerHTML);\r\n        // setInnerContent(outputRef.current.textContent);\r\n    }, [descriptionRef, content]);\r\n\r\n    const handleFormatDescription = (e) => {\r\n        if (e.keyCode === 9) {\r\n            e.preventDefault();\r\n            insertSpecialCharacter(descriptionRef, 0x0009);\r\n            outputRef.current.innerHTML = parseValue(descriptionRef.current.innerHTML);\r\n        }\r\n    };\r\n\r\n    const handleSetDescription = (e) => {\r\n        // setInnerContent(e.target.textContent);\r\n        outputRef.current.innerHTML = removeHtmlStyle(parseValue(e.target.innerHTML));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"editdescription__wrapper\" ref={editorRef}>\r\n                <div\r\n                    onKeyDown={handleFormatDescription}\r\n                    spellCheck={false}\r\n                    onInput={handleSetDescription}\r\n                    ref={descriptionRef}\r\n                    className=\"editdescription__wrapper__input\"\r\n                    contentEditable={true}\r\n                />\r\n                <div ref={outputRef} className=\"editdescription__wrapper__output\"></div>\r\n                <button\r\n                    className=\"editdescription__wrapper__btn-emoji\"\r\n                    onClick={() => setIsOpenEmojiPicker(true)}>\r\n                    <MdInsertEmoticon />\r\n                </button>\r\n                <EmojiPicker\r\n                    allowsRef={editorRef}\r\n                    isOpen={isOpenEmojiPicker}\r\n                    setIsOpen={setIsOpenEmojiPicker}\r\n                />\r\n            </div>\r\n            {/* <div className=\"editdescription__chars-wrapper\">\r\n                <span className=\"editdescription__chars-wrapper__item\">\r\n                    max chars : {MAX_CHARS}\r\n                </span>\r\n                <span\r\n                    className={`editdescription__chars-wrapper__item ${\r\n                        innerContent.length > MAX_CHARS ? 'maxchars-error' : ''\r\n                    }`}>\r\n                    current chars : {innerContent.length}\r\n                </span>\r\n            </div> */}\r\n\r\n            <div className=\"editdescription__btn-wrapper\">\r\n                <Button\r\n                    className=\"editdescription__btn-wrapper__btn-send\"\r\n                    onClick={() => handleSaveDescription()}>\r\n                    Save\r\n                </Button>\r\n                <button\r\n                    className=\"editdescription__btn-wrapper__btn-cancel\"\r\n                    onClick={() => setIsOpen(false)}>\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ContentEditable;\r\n","import React from 'react';\r\n\r\nconst CategoryTitle = ({\r\n    icon,\r\n    title,\r\n    withMarginBottom = true,\r\n    wrapperClass = '',\r\n    spanClass = '',\r\n    iconClass = '',\r\n}) => {\r\n    return (\r\n        <div\r\n            className={`categorytitle ${wrapperClass}`}\r\n            style={{ marginBottom: withMarginBottom ? '16px' : '0' }}>\r\n            <span className={`categorytitle__icon ${iconClass}`}>{icon}</span>\r\n            <span className={`categorytitle__label ${spanClass}`}>{title}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryTitle;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport { CgClose } from 'react-icons/cg';\r\nimport { MdEdit, MdDescription } from 'react-icons/md';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport socket from '../../../utils/socket';\r\nimport ContentEditable from '../ContentEditable';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\n\r\nconst BoardMenu = ({ isOpen, setIsOpen }) => {\r\n    const descriptionRef = useRef();\r\n    const boardMenuRef = useRef();\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const user = useSelector((state) => state.userReducer);\r\n    const [isEditDescription, setIsEditDescription] = useState(false);\r\n\r\n    const isBoardOwner = () => {\r\n        return !isEmpty(user) && !isEmpty(board) && board.owner._id === user._id;\r\n    };\r\n\r\n    const handleFormatDate = () => {\r\n        if (isEmpty(board)) return;\r\n        const { dayNum, monthLetter, years } = cutMongooseTimestampInDate(board.createdAt);\r\n        return `on ${dayNum} ${monthLetter}, ${years} `;\r\n    };\r\n\r\n    const handleBanMember = (memberBannedID) => {\r\n        const banMemberObject = {\r\n            boardID: board._id,\r\n            memberBannedID,\r\n        };\r\n        socket.emit('ban member', banMemberObject);\r\n    };\r\n\r\n    const handleSaveDescription = (newDesc) => {\r\n        socket.emit('change description', { description: newDesc, boardID: board._id });\r\n        setIsEditDescription(false);\r\n    };\r\n\r\n    const handleLeaveBoard = () => {\r\n        const leaveBoardObject = {\r\n            userID: user._id,\r\n            boardID: board._id,\r\n        };\r\n        socket.emit('leave board', leaveBoardObject);\r\n    };\r\n\r\n    const handleDeleteBoard = () => {\r\n        const boardID = board._id;\r\n        socket.emit('delete board', boardID);\r\n    };\r\n    useEffect(() => {\r\n        if (!isEmpty(board.description) && descriptionRef.current) {\r\n            descriptionRef.current.innerHTML = board.description;\r\n        }\r\n    }, [board.description, isOpen, isEditDescription]);\r\n\r\n    return (\r\n        <>\r\n            <DropDown\r\n                isVertical={false}\r\n                contentRef={boardMenuRef}\r\n                isOpen={isOpen}\r\n                setIsOpen={setIsOpen}\r\n                top=\"0\"\r\n                right=\"-8px\">\r\n                <div className=\"boardmenu\" ref={boardMenuRef}>\r\n                    <div className=\"boardmenu__top\">\r\n                        <h3 className=\"boardmenu__top__name\">{board.name}</h3>\r\n                        <button\r\n                            className=\"boardmenu__top__btn-close\"\r\n                            onClick={() => setIsOpen(false)}>\r\n                            <CgClose />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"boardmenu__content\">\r\n                        <div className=\"boardmenu__content__creator\">\r\n                            <CategoryTitle icon={<FaUserCircle />} title=\"Made by\" />\r\n                            <div className=\"boardmenu__content__creator__profil\">\r\n                                <img\r\n                                    className=\"boardmenu__content__creator__profil__img\"\r\n                                    src={\r\n                                        !isEmpty(board) &&\r\n                                        getPicturePath('user', board.owner.picture)\r\n                                    }\r\n                                    alt={`owner ${!isEmpty(board) && board.owner.pseudo}`}\r\n                                />\r\n                                <div className=\"boardmenu__content__creator__profil__infos\">\r\n                                    <span className=\"boardmenu__content__creator__profil__infos__name\">\r\n                                        {!isEmpty(board) && board.owner.pseudo}\r\n                                    </span>\r\n                                    <span className=\"boardmenu__content__creator__profil__infos__date\">\r\n                                        {handleFormatDate()}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"boardmenu__content__description\">\r\n                            <div className=\"boardmenu__content__description__top\">\r\n                                <CategoryTitle\r\n                                    icon={<MdDescription />}\r\n                                    title=\"Description\"\r\n                                    withMarginBottom={false}\r\n                                />\r\n                                {!isEditDescription && isBoardOwner() && (\r\n                                    <button\r\n                                        className=\"boardmenu__content__description__top__btn-edit\"\r\n                                        onClick={() => setIsEditDescription(!isEditDescription)}>\r\n                                        <MdEdit className=\"boardmenu__content__description__top__btn-edit__icon\" />\r\n                                        <span>Edit</span>\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                            {isEditDescription ? (\r\n                                <ContentEditable\r\n                                    content={board.description}\r\n                                    submitFunc={handleSaveDescription}\r\n                                    setIsOpen={setIsEditDescription}\r\n                                />\r\n                            ) : (\r\n                                <p\r\n                                    ref={descriptionRef}\r\n                                    className=\"boardmenu__content__description__para\"></p>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"boardmenu__content__team\">\r\n                            <CategoryTitle icon={<MdDescription />} title=\"Team\" />\r\n                            <ul className=\"boardmenu__content__team__list\">\r\n                                {!isEmpty(board) &&\r\n                                    board.members.map((member, index) => {\r\n                                        return (\r\n                                            <li\r\n                                                key={member._id}\r\n                                                className=\"boardmenu__content__team__list__item\"\r\n                                                style={{\r\n                                                    marginBottom:\r\n                                                        index === board.members.length - 1\r\n                                                            ? ''\r\n                                                            : '15px',\r\n                                                }}>\r\n                                                <img\r\n                                                    className=\"boardmenu__content__team__list__item__img\"\r\n                                                    src={getPicturePath('user', member.picture)}\r\n                                                    alt=\"\"\r\n                                                />\r\n                                                <span className=\"boardmenu__content__team__list__item__pseudo\">\r\n                                                    {member.pseudo}\r\n                                                </span>\r\n                                                {board.owner._id === member._id ? (\r\n                                                    <span className=\"boardmenu__content__team__list__item__admin\">\r\n                                                        Admin\r\n                                                    </span>\r\n                                                ) : (\r\n                                                    isBoardOwner() && (\r\n                                                        <button\r\n                                                            className=\"boardmenu__content__team__list__item__btn-remove\"\r\n                                                            onClick={() =>\r\n                                                                handleBanMember(member._id)\r\n                                                            }>\r\n                                                            Remove\r\n                                                        </button>\r\n                                                    )\r\n                                                )}\r\n                                            </li>\r\n                                        );\r\n                                    })}\r\n                            </ul>\r\n                        </div>\r\n                        <button\r\n                            className=\"boardmenu__content__btn-leave\"\r\n                            onClick={() => handleLeaveBoard()}>\r\n                            Leave\r\n                        </button>\r\n                        {isBoardOwner() && (\r\n                            <button\r\n                                className=\"boardmenu__content__btn-delete\"\r\n                                onClick={() => handleDeleteBoard()}>\r\n                                Delete Board\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </DropDown>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BoardMenu;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { MdAdd } from 'react-icons/md';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\nimport { closeOnClickOutside } from '../../../utils/utils';\r\n\r\nconst AddListOrCard = ({\r\n    isOpen,\r\n    setIsOpen,\r\n    listID,\r\n    onClick,\r\n    isAddList,\r\n    isFirstList,\r\n    isFirstCard,\r\n    style,\r\n    scrollBottomReset,\r\n    scrollLeftReset,\r\n}) => {\r\n    const addListRef = useRef();\r\n    const inputRef = useRef();\r\n    const [isOpenInput, setIsOpenInput] = useState(false);\r\n    const [name, setName] = useState('');\r\n    const user = useSelector((state) => state.userReducer);\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const currentIsOpen = isAddList ? isOpenInput : isOpen;\r\n    const currentSetIsOpen = isAddList ? setIsOpenInput : setIsOpen;\r\n    const boardID = board._id;\r\n\r\n    const handleAddListOrCard = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!name) return inputRef.current.focus();\r\n        const userID = user._id;\r\n\r\n        isAddList\r\n            ? socket.emit('add list', { name, boardID, userID })\r\n            : socket.emit('add card', { name, boardID, listID, userID });\r\n\r\n        setName('');\r\n    };\r\n\r\n    const handleOnClick = () => {\r\n        if (!isAddList) {\r\n            onClick && onClick();\r\n        }\r\n        currentSetIsOpen(true);\r\n    };\r\n\r\n    const handleButtonText = () => {\r\n        return `Add ${isFirstList || isFirstCard ? '' : 'another'} ${isAddList ? 'list' : 'card'}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentListID = listID;\r\n        socket.on('add list', ({ listCreated, boardID, userID }) => {\r\n            if (userID === user._id) {\r\n                setTimeout(() => {\r\n                    inputRef.current && inputRef.current.focus();\r\n                    scrollLeftReset && scrollLeftReset();\r\n                }, 0);\r\n            }\r\n        });\r\n        socket.on('add card', ({ listID, userID }) => {\r\n            if (currentListID === listID && userID === user._id) {\r\n                setTimeout(() => {\r\n                    inputRef.current && inputRef.current.focus();\r\n                    scrollBottomReset && scrollBottomReset();\r\n                }, 0);\r\n            }\r\n        });\r\n    }, [board, listID, scrollBottomReset, scrollLeftReset, user._id]);\r\n\r\n    useEffect(() => {\r\n        if (currentIsOpen) {\r\n            inputRef.current && inputRef.current.focus();\r\n            scrollLeftReset && scrollLeftReset();\r\n            closeOnClickOutside(addListRef, currentSetIsOpen);\r\n        }\r\n    }, [currentIsOpen, currentSetIsOpen, scrollLeftReset]);\r\n\r\n    return (\r\n        <>\r\n            {currentIsOpen ? (\r\n                <form\r\n                    ref={addListRef}\r\n                    className=\"addlist addlist__form\"\r\n                    style={style}\r\n                    onSubmit={(event) => handleAddListOrCard(event)}>\r\n                    <div className=\"addlist__head\">\r\n                        <input\r\n                            ref={inputRef}\r\n                            className=\"addlist__input\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            type=\"text\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"addlist__btn-add\">\r\n                        Add {isAddList ? 'list' : 'card'}\r\n                    </button>\r\n                </form>\r\n            ) : (\r\n                <button\r\n                    style={{\r\n                        ...style,\r\n                        margin: isAddList ? '' : 'auto',\r\n                        background: 'transparent',\r\n                        display: 'flex',\r\n                    }}\r\n                    onClick={(e) => handleOnClick()}>\r\n                    <div className=\"addlist\">\r\n                        <span>{handleButtonText()}</span>\r\n                        <MdAdd className=\"addlist__head__icon\" />\r\n                    </div>\r\n                </button>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddListOrCard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport { HiOutlineSearch } from 'react-icons/hi';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { getPicturePath, isEmpty } from '../../../utils/utils';\r\nimport { IoAddCircleOutline } from 'react-icons/io5';\r\nimport { FiCheckCircle } from 'react-icons/fi';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst AssignMember = ({ isOpen, setIsOpen, cardMembers, cardID, listID }) => {\r\n    const currentBoard = useSelector((state) => state.boardReducer.currentBoard);\r\n    const [members, setMembers] = useState([]);\r\n    const [usersToInvite, setUsersToInvite] = useState([]);\r\n    const [userSearch, setUserSearch] = useState([]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(cardMembers)) return;\r\n        setMembers(cardMembers.map((member) => member._id));\r\n    }, [cardMembers]);\r\n\r\n    useEffect(() => {\r\n        if (!isEmpty(currentBoard)) {\r\n            axios\r\n                .post(`/board/members/${currentBoard._id}`, { cardID, listID })\r\n                .then((res) => {\r\n                    setUsersToInvite(res.data);\r\n                    setUserSearch(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, [isOpen, cardID, listID, currentBoard]);\r\n\r\n    const handleSearchUser = () => {\r\n        setUserSearch(usersToInvite.filter((user) => user.pseudo.includes(searchValue)));\r\n    };\r\n\r\n    const handleAssignMemberToCard = (memberID) => {\r\n        members.findIndex((memberIDArg) => memberIDArg === memberID) === -1\r\n            ? setMembers((oldMember) => {\r\n                  oldMember.push(memberID);\r\n                  const assignMemberObject = {\r\n                      assignedMembersID: oldMember,\r\n                      boardID: currentBoard._id,\r\n                      listID,\r\n                      cardID,\r\n                  };\r\n                  socket.emit('assign member card', assignMemberObject);\r\n                  return [...oldMember];\r\n              })\r\n            : setMembers((oldMember) => {\r\n                  oldMember = oldMember.filter((memberIDArg) => memberIDArg !== memberID);\r\n                  const assignMemberObject = {\r\n                      assignedMembersID: oldMember,\r\n                      boardID: currentBoard._id,\r\n                      listID,\r\n                      cardID,\r\n                  };\r\n                  socket.emit('assign member card', assignMemberObject);\r\n                  return [...oldMember];\r\n              });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            contentClass=\"invitemember\"\r\n            wrapperClass=\"dropdown-invitemember\"\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Members\"\r\n            description=\"Assign members to this card\">\r\n            <div className=\"invitemember__input__wrapper\">\r\n                <input\r\n                    className=\"invitemember__input__wrapper__input\"\r\n                    placeholder=\"User...\"\r\n                    type=\"text\"\r\n                    value={searchValue}\r\n                    onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n                <Button\r\n                    className=\"invitemember__input__wrapper__btn\"\r\n                    onClick={() => handleSearchUser()}>\r\n                    <HiOutlineSearch />\r\n                </Button>\r\n            </div>\r\n            {!isEmpty(userSearch) && (\r\n                <ul className=\"invitemember__suggest\">\r\n                    {userSearch.map(({ _id, pseudo, picture }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={_id}\r\n                                style={{\r\n                                    marginBottom: index === userSearch.length - 1 ? '' : '15px',\r\n                                }}>\r\n                                <button\r\n                                    className=\"invitemember__suggest__item\"\r\n                                    onClick={() => handleAssignMemberToCard(_id)}>\r\n                                    <img\r\n                                        className=\"invitemember__suggest__item__picture\"\r\n                                        src={getPicturePath('user', picture)}\r\n                                        alt={`user ${pseudo}`}\r\n                                    />\r\n                                    <span className=\"invitemember__suggest__item__pseudo\">\r\n                                        {pseudo}\r\n                                    </span>\r\n                                    {members.includes(_id) ? (\r\n                                        <FiCheckCircle className=\"invitemember__suggest__item__icon invitemember__suggest__item__icon--select\" />\r\n                                    ) : (\r\n                                        <IoAddCircleOutline className=\"invitemember__suggest__item__icon\" />\r\n                                    )}\r\n                                </button>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            )}\r\n\r\n            {/* <Button\r\n                className={`invitemember__btn-invite ${\r\n                    isEmpty(userSelected) ? 'invitemember__btn-invite--disabled' : ''\r\n                }`}\r\n                onClick={() => !isEmpty(userSelected) && handleAssignMember()}>\r\n                Add\r\n            </Button> */}\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default AssignMember;\r\n","import React from 'react';\r\nimport { getPicturePath } from '../../utils/utils';\r\n\r\nconst UserDisplay = ({ pseudo, picture, pseudoClass = '', imgClass = '' }) => {\r\n    return (\r\n        <li className=\"userdisplay\">\r\n            <img\r\n                className={`userdisplay__img ${imgClass}`}\r\n                src={getPicturePath('user', picture)}\r\n                alt=\"\"\r\n            />\r\n            <span className={`userdisplay__name ${pseudoClass}`}>{pseudo}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default UserDisplay;\r\n","import React, { useState } from 'react';\r\nimport CategoryTitle from '../../../layouts/CategoryTitle';\r\nimport { MdDescription, MdEdit } from 'react-icons/md';\r\nimport Button from '../../../utils/Button';\r\nimport ContentEditable from '../../ContentEditable';\r\nimport socket from '../../../../utils/socket';\r\n\r\nconst Description = ({ card, listID, board }) => {\r\n    const [isOpenEditDesc, setIsOpenEditDesc] = useState(false);\r\n\r\n    const handleChangeCardDescription = (newDesc) => {\r\n        socket.emit('change card description', {\r\n            boardID: board._id,\r\n            listID,\r\n            cardID: card._id,\r\n            description: newDesc,\r\n        });\r\n        setIsOpenEditDesc(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"cardmodal__content__left__description\">\r\n            <div className=\"cardmodal__content__left__description__head\">\r\n                <CategoryTitle\r\n                    icon={<MdDescription />}\r\n                    title=\"Description\"\r\n                    withMarginBottom={false}\r\n                />\r\n                <Button\r\n                    className=\"cardmodal__content__left__description__head__btn-edit\"\r\n                    onClick={() => setIsOpenEditDesc(true)}>\r\n                    <MdEdit className=\"cardmodal__content__left__description__head__btn-edit__icon\" />\r\n                    <span className=\"cardmodal__content__left__description__head__btn-edit__label\">\r\n                        Edit\r\n                    </span>\r\n                </Button>\r\n            </div>\r\n            {isOpenEditDesc ? (\r\n                <ContentEditable\r\n                    content={card.description}\r\n                    submitFunc={handleChangeCardDescription}\r\n                    setIsOpen={setIsOpenEditDesc}\r\n                />\r\n            ) : (\r\n                <p\r\n                    dangerouslySetInnerHTML={{ __html: card.description }}\r\n                    className=\"cardmodal__content__left__description__content\"\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Description;\r\n","import React, { useEffect, useState } from 'react';\r\nimport CategoryTitle from '../../../layouts/CategoryTitle';\r\nimport { MdDescription, MdAdd } from 'react-icons/md';\r\nimport Button from '../../../utils/Button';\r\nimport axios from '../../../../utils/axios';\r\nimport download from 'downloadjs';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../../utils/utils';\r\nimport socket from '../../../../utils/socket';\r\n\r\nconst Attachments = ({ boardID, listID, cardID, attachments }) => {\r\n    const [attachmentsState, setAttachmentsState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(attachments)) return;\r\n        setAttachmentsState(attachments);\r\n    }, [attachments]);\r\n\r\n    useEffect(() => {\r\n        socket.on('delete attachment', ({ attachmentID }) => {\r\n            setAttachmentsState((oldAttachment) =>\r\n                oldAttachment.filter((attach) => attach._id !== attachmentID)\r\n            );\r\n        });\r\n    }, []);\r\n\r\n    const isPicture = (file) => {\r\n        const fileExtension = file.match(/\\.[0-9a-z]+$/i)[0].toLowerCase();\r\n\r\n        return fileExtension === '.png' || fileExtension === '.jpg' || fileExtension === '.jpeg';\r\n    };\r\n\r\n    const handleDeleteAttachement = (attachmentID) => {\r\n        socket.emit('delete attachment', { boardID, listID, cardID, attachmentID });\r\n    };\r\n\r\n    const handleAddAttachement = (e) => {\r\n        const formData = new FormData();\r\n        formData.append('attachment', e.target.files[0]);\r\n        formData.append('boardID', boardID);\r\n        formData.append('listID', listID);\r\n        formData.append('cardID', cardID);\r\n\r\n        axios\r\n            .post('/board/list/card/attachment', formData)\r\n            .then((res) => {\r\n                setAttachmentsState([...attachmentsState, res.data]);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    const handleFormatDate = (createdAt) => {\r\n        if (isEmpty(createdAt)) return;\r\n        const { dayNum, monthLetter, years } = cutMongooseTimestampInDate(createdAt);\r\n        return `Added ${monthLetter} ${dayNum}, ${years}`;\r\n    };\r\n\r\n    const handleDownloadAttachment = (name, filePath) => {\r\n        axios\r\n            .post('/board/list/card/download-attachment', { filePath }, { responseType: 'blob' })\r\n            .then((res) => {\r\n                console.log(res);\r\n                download(res.data, name);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"cardmodal__content__left__attachements\">\r\n            <div className=\"cardmodal__content__left__attachements__head\">\r\n                <CategoryTitle\r\n                    icon={<MdDescription />}\r\n                    title=\"Attachements\"\r\n                    withMarginBottom={false}\r\n                />\r\n                <label\r\n                    className=\"cardmodal__content__left__attachements__head__btn-add\"\r\n                    htmlFor=\"upload-attachement\">\r\n                    {/* <Button className=\"cardmodal__content__left__attachements__head__btn-add\">\r\n                    <MdAdd className=\"cardmodal__content__left__attachements__head__btn-add__icon\" />\r\n                    <span className=\"cardmodal__content__left__attachements__head__btn-add__label\">\r\n                        Add\r\n                    </span>\r\n                        </Button> */}\r\n                    <MdAdd className=\"cardmodal__content__left__attachements__head__btn-add__icon\" />\r\n                    <span className=\"cardmodal__content__left__attachements__head__btn-add__label\">\r\n                        Add\r\n                    </span>\r\n                    <input\r\n                        type=\"file\"\r\n                        onChange={(e) => handleAddAttachement(e)}\r\n                        name=\"\"\r\n                        id=\"upload-attachement\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <ul className=\"cardmodal__content__left__attachements__list\">\r\n                {attachmentsState.map(({ _id, name, filePath, createdAt }, index) => {\r\n                    return (\r\n                        <li\r\n                            key={index}\r\n                            className=\"cardmodal__content__left__attachements__list__item\">\r\n                            <div className=\"cardmodal__content__left__attachements__list__item__left\">\r\n                                {isPicture(name) ? (\r\n                                    <img\r\n                                        className=\"cardmodal__content__left__attachements__list__item__left__img\"\r\n                                        src={getPicturePath('attachment', filePath)}\r\n                                        alt=\"attachment\"\r\n                                    />\r\n                                ) : (\r\n                                    <span>{name.substring(0, 2)}</span>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"cardmodal__content__left__attachements__list__item__right\">\r\n                                <span className=\"cardmodal__content__left__attachements__list__item__right__date\">\r\n                                    {handleFormatDate(createdAt)}\r\n                                </span>\r\n                                <h4 className=\"cardmodal__content__left__attachements__list__item__right__name\">\r\n                                    {name}\r\n                                </h4>\r\n                                <div className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper\">\r\n                                    <Button\r\n                                        className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper__item\"\r\n                                        onClick={() => handleDownloadAttachment(name, filePath)}>\r\n                                        Download\r\n                                    </Button>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__left__attachements__list__item__right__btn-wrapper__item\"\r\n                                        onClick={() => handleDeleteAttachement(_id)}>\r\n                                        Delete\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Attachments;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { closeOnClickOutside, getPicturePath } from '../../../utils/utils';\r\nimport Button from '../../utils/Button';\r\n\r\nconst CommentBox = ({ content, setContent, submitFunc, isNewComment = true, userPicture }) => {\r\n    const commentBoxRef = useRef();\r\n    const commentRef = useRef();\r\n    const [isDisabledPlaceholder, setIsDisabledPlaceholder] = useState(false);\r\n    const [isFocus, setIsFocus] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!content && isFocus) setIsDisabledPlaceholder(false);\r\n        // setIsDisabledPlaceholder(true);\r\n        commentRef.current.textContent = content;\r\n        closeOnClickOutside(commentBoxRef, setIsFocus);\r\n    }, [content]);\r\n\r\n    const handleSubmit = () => {\r\n        if (!content) return commentRef.current.focus();\r\n        submitFunc();\r\n        setContent('');\r\n        commentRef.current.innerHTML = '';\r\n    };\r\n\r\n    const handleOnFocus = () => {\r\n        setIsDisabledPlaceholder(true);\r\n        setIsFocus(true);\r\n    };\r\n\r\n    const handleOnBlur = () => {\r\n        !content && setIsDisabledPlaceholder(false);\r\n    };\r\n\r\n    const handleSetComment = () => {\r\n        setContent(commentRef.current.textContent);\r\n        if (!content) setIsDisabledPlaceholder(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"commentbox\" ref={commentBoxRef}>\r\n            <div className=\"commentbox__head\">\r\n                <img src={getPicturePath('user', userPicture)} alt=\"\" />\r\n                <div className=\"commentbox-input-wrapper\">\r\n                    <div\r\n                        ref={commentRef}\r\n                        onFocus={() => handleOnFocus()}\r\n                        onBlur={() => handleOnBlur()}\r\n                        onInput={() => handleSetComment()}\r\n                        className=\"commentbox-input-wrapper__input\"\r\n                        contentEditable={true}></div>\r\n                    {!isDisabledPlaceholder && (\r\n                        <span className=\"commentbox-input-wrapper__placeholder\">\r\n                            Write a comment...\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={`commentbox__toolbar ${isFocus ? 'commentbox__toolbar--open' : ''}`}>\r\n                <Button onClick={() => handleSubmit()}>{isNewComment ? 'Comment' : 'Save'}</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentBox;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../../utils/socket';\r\nimport { cutMongooseTimestampInDate, getPicturePath, isEmpty } from '../../../../utils/utils';\r\nimport CommentBox from '../../board/CommentBox';\r\nimport Button from '../../../utils/Button';\r\n\r\nconst Comments = ({ boardID, listID, cardID, comments }) => {\r\n    const commentRef = useRef();\r\n    const newCommentRef = useRef();\r\n    const [commentsState, setCommentsState] = useState([]);\r\n    const [commentEdited, setCommentEdited] = useState({\r\n        commentID: null,\r\n        isEdit: false,\r\n    });\r\n    const [commentMessageEdited, setCommentMessageEdited] = useState('');\r\n    const { _id: userID, picture } = useSelector((state) => state.userReducer);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        socket.on('card edit comment', ({ boardID, listID, cardID, commentID, message }) => {\r\n            setCommentsState((oldComments) => {\r\n                return oldComments.map((comment) => {\r\n                    if (comment._id === commentID) {\r\n                        comment.message = message;\r\n                    }\r\n                    return comment;\r\n                });\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(comments)) return;\r\n        setCommentsState(comments);\r\n    }, [comments]);\r\n\r\n    const handleFormatDate = (createdAt) => {\r\n        const { dayNum, monthLetter, hour } = cutMongooseTimestampInDate(createdAt);\r\n        return `${dayNum} ${monthLetter} at ${hour}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentCardID = cardID;\r\n        socket.on('card comment', ({ boardID, listID, cardID, comments }) => {\r\n            if (cardID === currentCardID) {\r\n                setCommentsState((oldComments) => {\r\n                    return [...oldComments, comments];\r\n                });\r\n            }\r\n        });\r\n        socket.on('card delete comment', ({ boardID, listID, cardID, commentID }) => {\r\n            if (cardID === currentCardID) {\r\n                setCommentsState((oldComments) => {\r\n                    return oldComments.filter((comment) => comment._id !== commentID);\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket.off('card comment');\r\n            socket.off('card delete comment');\r\n        };\r\n    }, []);\r\n\r\n    const handleSendComment = () => {\r\n        if (!message) return;\r\n        socket.emit('card comment', { boardID, listID, cardID, userID, message });\r\n    };\r\n\r\n    const handleDeleteComment = (commentID) => {\r\n        socket.emit('card delete comment', { boardID, listID, cardID, commentID });\r\n    };\r\n\r\n    const handleEditComment = (commentID) => {\r\n        socket.emit('card edit comment', {\r\n            boardID,\r\n            listID,\r\n            cardID,\r\n            commentID,\r\n            message: commentMessageEdited,\r\n        });\r\n        setCommentEdited({\r\n            commentID: null,\r\n            isEdit: false,\r\n        });\r\n    };\r\n\r\n    const handleSetNewMessage = () => {\r\n        setCommentMessageEdited(newCommentRef.current.textContent);\r\n    };\r\n\r\n    const handleSetEditComment = async (commentID, message) => {\r\n        await setCommentEdited({\r\n            commentID,\r\n            isEdit: true,\r\n        });\r\n        setCommentMessageEdited(message);\r\n        newCommentRef.current.innerText = message;\r\n        // console.log(commentID);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"cardmodal__content__left__comment\">\r\n                <CommentBox\r\n                    content={message}\r\n                    setContent={setMessage}\r\n                    submitFunc={handleSendComment}\r\n                    userPicture={picture}\r\n                />\r\n                <ul className=\"cardmodal__content__left__comment__list\">\r\n                    {commentsState.map(({ user, message, createdAt, _id }, index) => {\r\n                        return (\r\n                            <li\r\n                                key={index}\r\n                                className=\"cardmodal__content__left__comment__list__item\"\r\n                                style={{\r\n                                    marginBottom: index === commentsState.length - 1 ? '' : '16px',\r\n                                }}>\r\n                                <div className=\"cardmodal__content__left__comment__list__item__head\">\r\n                                    <img\r\n                                        src={getPicturePath('user', user.picture)}\r\n                                        alt=\"\"\r\n                                        className=\"cardmodal__content__left__comment__list__item__head__profil-img\"\r\n                                    />\r\n                                    <div className=\"cardmodal__content__left__comment__list__item__head__infos\">\r\n                                        <h4 className=\"cardmodal__content__left__comment__list__item__head__infos__name\">\r\n                                            {user.pseudo}\r\n                                        </h4>\r\n                                        <span className=\"cardmodal__content__left__comment__list__item__head__infos__date\">\r\n                                            {handleFormatDate(createdAt)}\r\n                                        </span>\r\n                                    </div>\r\n                                    {user._id === userID && (\r\n                                        <div className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper\">\r\n                                            <button\r\n                                                className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper__edit\"\r\n                                                onClick={() => handleSetEditComment(_id, message)}>\r\n                                                Edit\r\n                                            </button>\r\n                                            -\r\n                                            <button\r\n                                                className=\"cardmodal__content__left__comment__list__item__head__btn-wrapper__delete\"\r\n                                                onClick={() => handleDeleteComment(_id)}>\r\n                                                Delete\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                {commentEdited.isEdit && commentEdited.commentID === _id ? (\r\n                                    // <CommentBox\r\n                                    //     isNewComment={false}\r\n                                    //     content={commentMessageEdited}\r\n                                    //     setContent={setCommentMessageEdited}\r\n                                    // />\r\n                                    <div className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper\">\r\n                                        <div\r\n                                            ref={newCommentRef}\r\n                                            contentEditable={true}\r\n                                            onInput={() => handleSetNewMessage()}\r\n                                            className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__input\"></div>\r\n                                        <div className=\"\" style={{ display: 'flex' }}>\r\n                                            <Button\r\n                                                className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__btn-save\"\r\n                                                onClick={() => handleEditComment(_id)}>\r\n                                                Save\r\n                                            </Button>\r\n                                            <Button\r\n                                                className=\"cardmodal__content__left__comment__list__item__edit-comment-wrapper__btn-cancel\"\r\n                                                onClick={() =>\r\n                                                    setCommentEdited({\r\n                                                        commentID: null,\r\n                                                        isEdit: false,\r\n                                                    })\r\n                                                }>\r\n                                                Cancel\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <p className=\"cardmodal__content__left__comment__list__item__comment\">\r\n                                        {message}\r\n                                    </p>\r\n                                )}\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { IoIosCloseCircleOutline } from 'react-icons/io';\r\n\r\nconst labelStyle = {\r\n    fontSize: '0.8rem',\r\n    borderRadius: '9999px',\r\n    padding: '4px 10px',\r\n    marginRight: '12px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n};\r\n\r\nconst CardLabel = ({ name, color, style, isDeleted = false, onClick }) => {\r\n    const handleCheckName = () => {\r\n        if (name.length > 30) return;\r\n        // AFFICHER ... SI LA CARD EST TROP LONGUE\r\n    };\r\n\r\n    const handleOnClick = () => {\r\n        onClick && onClick();\r\n    };\r\n\r\n    return (\r\n        <span\r\n            className={`cardlabel ${isDeleted ? 'cardlabeldeletable' : ''}`}\r\n            onClick={() => handleOnClick()}\r\n            style={{\r\n                ...labelStyle,\r\n                ...style,\r\n                backgroundColor: `rgba(${color},0.3)`,\r\n                color: `rgb(${color})`,\r\n            }}>\r\n            {name}\r\n            {isDeleted && <IoIosCloseCircleOutline style={{ marginLeft: '6px' }} />}\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default CardLabel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { MdLabel } from 'react-icons/md';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Button from '../../utils/Button';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\nimport socket from '../../../utils/socket';\r\nimport { clearToastByTypes, isEmpty, successToast, warningToast } from '../../../utils/utils';\r\nimport CardLabel from '../board/CardLabel';\r\n// const colors = {\r\n//     darkGreen: '#219653',\r\n//     yellow: '#F2C94C',\r\n//     orange: '#F2994A',\r\n//     red: '#EB5757',\r\n//     blue: '#2F80ED',\r\n//     cyan: '#56CCF2',\r\n//     lightGreen: '#6FCF97',\r\n//     veryDarkGray: '#333333',\r\n//     darkGray: '#4F4F4F',\r\n//     midGray: '#828282',\r\n//     lightGray: '#BDBDBD',\r\n//     gray: '#E0E0E0',\r\n// };\r\nconst Label = ({ labels, boardID, listID, cardID, isOpen, setIsOpen }) => {\r\n    const [labelsState, setLabelsState] = useState([]);\r\n    const [labelName, setLabelName] = useState('');\r\n    const [colorSelected, setColorSelected] = useState();\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(labels)) return;\r\n        setLabelsState(labels);\r\n    }, [labels, isOpen]);\r\n\r\n    const colors = {\r\n        darkGreen: '33, 150, 83',\r\n        yellow: '242, 201, 76',\r\n        orange: '242, 153, 74',\r\n        red: '235, 87, 87',\r\n        blue: '47, 128, 237',\r\n        cyan: '86, 204, 242',\r\n        lightGreen: '111, 207, 151',\r\n        veryDarkGray: '51, 51, 51',\r\n        darkGray: '79, 79, 79',\r\n        midGray: '130, 130, 130',\r\n        lightGray: '189, 189, 189',\r\n        gray: '224, 224, 224',\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentCardID = cardID;\r\n        socket.on('card add label', ({ boardID, listID, cardID, label }) => {\r\n            if (currentCardID === cardID) {\r\n                setLabelsState((oldLabels) => {\r\n                    return [...oldLabels, label];\r\n                });\r\n            }\r\n        });\r\n        socket.on('card delete label', ({ boardID, listID, cardID, labelID }) => {\r\n            if (currentCardID === cardID) {\r\n                setLabelsState((oldLabels) => {\r\n                    return oldLabels.filter((label) => label._id !== labelID);\r\n                });\r\n            }\r\n        });\r\n    }, [cardID]);\r\n\r\n    const handleAddLabel = () => {\r\n        if (!labelName) return warningToast('Missing label name');\r\n        if (!colorSelected) return warningToast('Missing label color');\r\n        clearToastByTypes('warning');\r\n        successToast('Label created');\r\n        socket.emit('card add label', { boardID, listID, cardID, labelName, color: colorSelected });\r\n    };\r\n\r\n    const handleDeleteLabel = (labelID) => {\r\n        socket.emit('card delete label', { boardID, listID, cardID, labelID });\r\n    };\r\n\r\n    const handleReturnColorItem = () => {\r\n        const colorsItems = [];\r\n        for (let color in colors) {\r\n            colorsItems.push(\r\n                <button\r\n                    key={color}\r\n                    onClick={() => {\r\n                        colors[color] === colorSelected\r\n                            ? setColorSelected('')\r\n                            : setColorSelected(colors[color]);\r\n                    }}\r\n                    style={{ backgroundColor: `rgba(${colors[color]}, 1)` }}\r\n                    className={`label__colorpicker__item ${\r\n                        colorSelected === colors[color] ? 'color-selected' : ''\r\n                    }`}\r\n                />\r\n            );\r\n        }\r\n        return colorsItems;\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            wrapperClass=\"dropdown-label\"\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            top=\"46px\"\r\n            contentClass=\"label\"\r\n            title=\"Label\"\r\n            description=\"Select a name and a color\">\r\n            <input\r\n                value={labelName}\r\n                onChange={(e) => setLabelName(e.target.value)}\r\n                placeholder=\"Label...\"\r\n                className=\"label__input\"\r\n                type=\"text\"\r\n            />\r\n            <div className=\"label__colorpicker\">{handleReturnColorItem()}</div>\r\n            <div className=\"label__available\">\r\n                <CategoryTitle icon={<MdLabel />} title=\"Available \" />\r\n                <div className=\"label__available__container\">\r\n                    {!isEmpty(labelsState) &&\r\n                        labelsState.map((label) => {\r\n                            return (\r\n                                // <span style={{display : 'flex'}}>\r\n                                <CardLabel\r\n                                    onClick={() => handleDeleteLabel(label._id)}\r\n                                    style={{ marginBottom: '8px' }}\r\n                                    key={label._id}\r\n                                    name={label.name}\r\n                                    color={label.color}\r\n                                    isDeleted={true}\r\n                                />\r\n                                // </span>\r\n                            );\r\n                        })}\r\n                </div>\r\n            </div>\r\n            <Button className=\"label__btn-add\" onClick={() => handleAddLabel()}>\r\n                Add\r\n            </Button>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default Label;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport socket from '../../../utils/socket';\r\n\r\nconst PicturePicker = ({ isOpen, setIsOpen, boardID, listID, cardID }) => {\r\n    const [pictureSearch, setPictureSearch] = useState('');\r\n    const [pictures, setPictures] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const randomPage = Math.floor(1 + Math.random() * 30);\r\n        axios\r\n            .get('https://api.unsplash.com/photos', {\r\n                params: { per_page: '12', page: randomPage },\r\n                headers: { Authorization: 'Client-ID FStR-mHl49Em5PReprA_w0cQgQBzXRyI0rjzd3GXzTY' },\r\n            })\r\n            .then((res) => {\r\n                setPictures(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        return () => {\r\n            setPictures([]);\r\n        };\r\n    }, []);\r\n\r\n    const handleChangeCardPicture = (picture) => {\r\n        // console.log(picture.urls.regular);\r\n        // console.log(picture.urls.full);\r\n        socket.emit('card change picture', {\r\n            boardID,\r\n            listID,\r\n            cardID,\r\n            picture: picture.urls.regular,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <DropDown\r\n            wrapperClass=\"dropdown-picturepicker\"\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            title=\"Photo Search\"\r\n            description=\"Search Unsplash for photos\"\r\n            contentClass=\"picturepicker\">\r\n            <input className=\"picturepicker__input\" placeholder=\"Keywords...\" type=\"text\" />\r\n            <div className=\"picturepicker__content\">\r\n                {pictures.map((picture) => {\r\n                    return (\r\n                        <button\r\n                            className=\"picturepicker__content__picture\"\r\n                            key={picture.id}\r\n                            onClick={() => handleChangeCardPicture(picture)}>\r\n                            <img src={picture.urls.thumb} alt=\"\" />\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n        </DropDown>\r\n    );\r\n};\r\n\r\nexport default PicturePicker;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Button from '../../utils/Button';\r\nimport Modal from '../../utils/Modal';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport CategoryTitle from '../../layouts/CategoryTitle';\r\nimport { MdGroup, MdLabel, MdImage, MdAdd } from 'react-icons/md';\r\nimport axios from '../../../utils/axios';\r\nimport { useSelector } from 'react-redux';\r\nimport AssignMember from '../dropdown/AssignMember';\r\nimport { isEmpty } from '../../../utils/utils';\r\nimport UserDisplay from '../../layouts/UserDisplay';\r\nimport socket from '../../../utils/socket';\r\nimport Description from './CardModal/Description';\r\nimport Attachments from './CardModal/Attachments';\r\nimport Comments from './CardModal/Comments';\r\nimport Loader from '../../utils/Loader';\r\nimport Label from '../dropdown/Label';\r\nimport PicturePicker from '../dropdown/PicturePicker';\r\n\r\nconst CardModal = ({ isOpen, setIsOpen, _id, listID, listName }) => {\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const [card, setCard] = useState([]);\r\n    const [isOpenLabel, setIsOpenLabel] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isOpenAssignMember, setIsOpenAssignMember] = useState(false);\r\n    const [isOpenPicturePicker, setIsOpenPicturePicker] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .post(`/board/card/${_id}`, { boardID: board._id, listID })\r\n            .then((res) => {\r\n                setCard(res.data);\r\n                setIsLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [board._id, listID, _id]);\r\n\r\n    useEffect(() => {\r\n        const currentCardID = _id;\r\n        socket.on('assign member card', ({ assignedMembers, cardID }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, members: [...assignedMembers] };\r\n                });\r\n            }\r\n        });\r\n        socket.on('change card description', ({ boardID, listID, cardID, description }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, description: description };\r\n                });\r\n            }\r\n        });\r\n        socket.on('change card title', ({ boardID, listID, cardID, cardTitle }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, title: cardTitle };\r\n                });\r\n            }\r\n        });\r\n        socket.on('card change picture', ({ boardID, listID, cardID, picture }) => {\r\n            if (currentCardID === cardID) {\r\n                setCard((oldCard) => {\r\n                    return { ...oldCard, picture: picture };\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket.off('change card description');\r\n        };\r\n    }, [_id]);\r\n\r\n    const handleChangeCardTitle = () => {\r\n        const changeCardTitleObject = {\r\n            boardID: board._id,\r\n            listID,\r\n            cardID: _id,\r\n            cardTitle: card.title,\r\n        };\r\n        socket.emit('change card title', changeCardTitleObject);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            hasCloseButton={true}\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            hasOverflowYScroll={true}>\r\n            <div className=\"cardmodal\">\r\n                {isLoading ? (\r\n                    <Loader radius={150} />\r\n                ) : (\r\n                    <>\r\n                        <div className=\"cardmodal__head\">\r\n                            <img src={card.picture} alt=\"card\" />\r\n                        </div>\r\n                        <div className=\"cardmodal__content\">\r\n                            <div className=\"cardmodal__content__left\">\r\n                                <div className=\"cardmodal__content__left__head\">\r\n                                    <textarea\r\n                                        value={card.title}\r\n                                        onChange={(e) =>\r\n                                            setCard({ ...card, title: e.target.value })\r\n                                        }\r\n                                        onBlur={() => handleChangeCardTitle()}\r\n                                        className=\"cardmodal__content__left__head__title\"\r\n                                    />\r\n                                    <span className=\"cardmodal__content__left__head__inlist\">\r\n                                        in list{' '}\r\n                                        <span className=\"cardmodal__content__left__head__inlist__name\">\r\n                                            {listName}\r\n                                        </span>\r\n                                    </span>\r\n                                </div>\r\n                                <Description listID={listID} board={board} card={card} />\r\n                                <Attachments\r\n                                    attachments={card.attachments}\r\n                                    boardID={board._id}\r\n                                    listID={listID}\r\n                                    cardID={_id}\r\n                                />\r\n                                <Comments\r\n                                    comments={card.comments}\r\n                                    boardID={board._id}\r\n                                    listID={listID}\r\n                                    cardID={_id}\r\n                                />\r\n                            </div>\r\n                            <div className=\"cardmodal__content__right\">\r\n                                <CategoryTitle\r\n                                    icon={<FaUserCircle />}\r\n                                    title=\"Actions\"\r\n                                    spanClass=\"cardmodal-menu-title\"\r\n                                    wrapperClass=\"cardmodal-menu-title-wrapper\"\r\n                                />\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__right__btn\"\r\n                                        onClick={() => setIsOpenLabel(true)}>\r\n                                        <MdLabel className=\"cardmodal__content__right__btn__icon\" />\r\n                                        <span className=\"cardmodal__content__right__btn__label\">\r\n                                            Labels\r\n                                        </span>\r\n                                    </Button>\r\n                                    <Label\r\n                                        labels={card.labels}\r\n                                        boardID={board._id}\r\n                                        listID={listID}\r\n                                        cardID={_id}\r\n                                        isOpen={isOpenLabel}\r\n                                        setIsOpen={setIsOpenLabel}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <Button\r\n                                        className=\"cardmodal__content__right__btn\"\r\n                                        onClick={() => setIsOpenPicturePicker(true)}>\r\n                                        <MdImage className=\"cardmodal__content__right__btn__icon\" />\r\n                                        <span className=\"cardmodal__content__right__btn__label\">\r\n                                            Cover\r\n                                        </span>\r\n                                    </Button>\r\n                                    <PicturePicker\r\n                                        boardID={board._id}\r\n                                        listID={listID}\r\n                                        cardID={_id}\r\n                                        isOpen={isOpenPicturePicker}\r\n                                        setIsOpen={setIsOpenPicturePicker}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"cardmodal__content__right__members\">\r\n                                    <CategoryTitle\r\n                                        icon={<MdGroup />}\r\n                                        title=\"Members\"\r\n                                        spanClass=\"cardmodal-menu-title\"\r\n                                        wrapperClass=\"cardmodal-menu-title-wrapper\"\r\n                                    />\r\n                                    <ul className=\"cardmodal__content__right__members__list\">\r\n                                        {!isEmpty(card) &&\r\n                                            card.members.map((member) => {\r\n                                                return (\r\n                                                    <UserDisplay\r\n                                                        key={member._id}\r\n                                                        pseudo={member.pseudo}\r\n                                                        picture={member.picture}\r\n                                                        pseudoClass=\"cardmodal-userdisplay-pseudo\"\r\n                                                        imgClass=\"cardmodal-userdisplay-img\"\r\n                                                    />\r\n                                                );\r\n                                            })}\r\n                                    </ul>\r\n                                    <div style={{ position: 'relative' }}>\r\n                                        <Button\r\n                                            className=\"cardmodal__content__right__members__btn-add\"\r\n                                            onClick={() => setIsOpenAssignMember(true)}>\r\n                                            <span>Assign a member</span>{' '}\r\n                                            <MdAdd className=\"cardmodal__content__right__members__btn-add__icon\" />\r\n                                        </Button>\r\n                                        <AssignMember\r\n                                            cardMembers={card.members}\r\n                                            cardID={_id}\r\n                                            listID={listID}\r\n                                            isOpen={isOpenAssignMember}\r\n                                            setIsOpen={setIsOpenAssignMember}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default CardModal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CardModal from './CardModal';\r\nimport ModalCreateBoard from './CreateBoard';\r\nimport Notifications from './Notifications';\r\n\r\nexport const CREATE_BOARD_MODAL = 'CREATE_BOARD_MODAL';\r\nexport const NOTIFICATIONS_MODAL = 'NOTIFICATIONS_MODAL';\r\nexport const CARD_MODAL = 'CARD_MODAL';\r\n\r\nconst ModalManager = () => {\r\n    const { modalName, props } = useSelector((state) => state.modalReducer);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        modalName ? setIsOpen(true) : setIsOpen(false);\r\n    }, [modalName]);\r\n\r\n    const handleModalCall = () => {\r\n        switch (modalName) {\r\n            case CREATE_BOARD_MODAL:\r\n                return <ModalCreateBoard {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            case NOTIFICATIONS_MODAL:\r\n                return <Notifications {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            case CARD_MODAL:\r\n                return <CardModal {...props} isOpen={isOpen} setIsOpen={setIsOpen} />;\r\n            default:\r\n                return <> </>;\r\n        }\r\n    };\r\n\r\n    return handleModalCall();\r\n};\r\n\r\nexport default ModalManager;\r\n","import React, { useEffect } from 'react';\r\nimport { BsPaperclip } from 'react-icons/bs';\r\nimport { MdComment } from 'react-icons/md';\r\nimport { MdAdd } from 'react-icons/md';\r\nimport Button from '../../utils/Button';\r\nimport { CARD_MODAL } from '../modal/ModalManager';\r\nimport { useDispatch } from 'react-redux';\r\nimport { openModal } from '../../../redux/actions/modal.action';\r\nimport { getPicturePath } from '../../../utils/utils';\r\nimport CardLabel from './CardLabel';\r\n\r\nconst CardItem = ({ _id, title, picture, labels, members, attachments, listID, listName }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <>\r\n            <li\r\n                className=\"card\"\r\n                onClick={(e) => {\r\n                    dispatch(openModal(CARD_MODAL, { _id, listID, listName }));\r\n                }}>\r\n                {picture && <img className=\"card__image\" src={picture}></img>}\r\n                <span className=\"card__title\">{title}</span>\r\n                <div className=\"card__category\">\r\n                    {labels.map((label) => {\r\n                        return (\r\n                            <CardLabel\r\n                                key={label._id}\r\n                                style={{ marginBottom: '8px' }}\r\n                                name={label.name}\r\n                                color={label.color}\r\n                            />\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"card__bottom\">\r\n                    <ul className=\"card__bottom__members\">\r\n                        {members.map((member, index) => {\r\n                            return (\r\n                                <li key={index} className=\"card__bottom__members__item\">\r\n                                    <img\r\n                                        className=\"card__bottom__members__item__img\"\r\n                                        src={getPicturePath('user', member.picture)}\r\n                                        alt=\"\"\r\n                                    />\r\n                                </li>\r\n                            );\r\n                        })}\r\n                        <li>\r\n                            <Button\r\n                                className=\"card__bottom__members__btn-addmember\"\r\n                                onClick={(e) => e.stopPropagation()}>\r\n                                <MdAdd className=\"card__bottom__members__btn-addmember__icon\" />\r\n                            </Button>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    <div className=\"card__bottom__utils\">\r\n                        <button className=\"card__bottom__utils__btn\">\r\n                            <MdComment />\r\n                            <span className=\"card__bottom__utils__btn__number\">1</span>\r\n                        </button>\r\n                        <button className=\"card__bottom__utils__btn\">\r\n                            <BsPaperclip />\r\n                            <span className=\"card__bottom__utils__btn__number\">1</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CardItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { isEmpty } from '../../../utils/utils';\r\n\r\nconst Placeholder = ({ destinationIndex, draggableID, currentListOverID, type }) => {\r\n    const queryAttrDraggable = 'data-rbd-drag-handle-draggable-id';\r\n    const queryAttrDroppable = 'data-rbd-droppable-id';\r\n    const [placeholderProps, setPlaceholderProps] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (draggableID) {\r\n            const domQuery = `[${queryAttrDraggable}='${draggableID}']`;\r\n            const domListQuery = `[${queryAttrDroppable}='${currentListOverID}']`;\r\n            const draggedDOM = document.querySelector(domQuery);\r\n            const listOverDOM = document.querySelector(domListQuery);\r\n\r\n            if (!draggedDOM) {\r\n                return;\r\n            }\r\n            const { clientHeight, clientWidth } = draggedDOM;\r\n            if (type === 'CARD') {\r\n                const clientY =\r\n                    parseFloat(\r\n                        window.getComputedStyle(listOverDOM ? listOverDOM : draggedDOM.parentNode)\r\n                            .paddingTop\r\n                    ) +\r\n                    [...(listOverDOM ? listOverDOM.children : draggedDOM.parentNode.children)]\r\n                        .slice(0, destinationIndex)\r\n                        .reduce((total, curr) => {\r\n                            const style = curr.currentStyle || window.getComputedStyle(curr);\r\n                            const marginBottom = parseFloat(style.marginBottom);\r\n                            return total + curr.clientHeight + marginBottom;\r\n                        }, 0);\r\n                setPlaceholderProps({\r\n                    clientHeight,\r\n                    clientWidth,\r\n                    clientY,\r\n                    clientX: parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingLeft),\r\n                });\r\n            } else if (type === 'LIST') {\r\n                const clientX =\r\n                    parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingLeft) +\r\n                    [...draggedDOM.parentNode.children]\r\n                        .slice(0, destinationIndex)\r\n                        .reduce((total, curr) => {\r\n                            const style = curr.currentStyle || window.getComputedStyle(curr);\r\n                            const marginRight = parseFloat(style.marginRight);\r\n                            return total + curr.clientWidth + marginRight;\r\n                        }, 0);\r\n\r\n                setPlaceholderProps({\r\n                    clientHeight,\r\n                    clientWidth,\r\n                    clientY: parseFloat(window.getComputedStyle(draggedDOM.parentNode).paddingTop),\r\n                    clientX,\r\n                });\r\n            }\r\n        }\r\n    }, [draggableID, destinationIndex, type, currentListOverID]);\r\n\r\n    return (\r\n        <>\r\n            {!isEmpty(placeholderProps) && (\r\n                <div\r\n                    className=\"dndplaceholder\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: placeholderProps.clientY,\r\n                        left: placeholderProps.clientX,\r\n                        height: placeholderProps.clientHeight,\r\n                        width: placeholderProps.clientWidth,\r\n                    }}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Placeholder;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { HiDotsHorizontal } from 'react-icons/hi';\r\nimport { closeOnClickOutside, isEmpty } from '../../../utils/utils';\r\nimport AddListOrCard from './AddList';\r\nimport CardItem from './CardItem';\r\nimport DropDown from '../../utils/Dropdown';\r\nimport Modal from '../../utils/Modal';\r\nimport { useSelector } from 'react-redux';\r\nimport socket from '../../../utils/socket';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport Placeholder from './Placeholder';\r\n\r\nconst ListItem = React.forwardRef(({ _id, name, cards, placeHolderProps }, ref) => {\r\n    const droppableListDomID = `list-content-${_id}`;\r\n    const inputRenameRef = useRef();\r\n    const renameFormRef = useRef();\r\n    const [isOpenInputAddCard, setIsOpenInputAddCard] = useState(false);\r\n    const boardID = useSelector((state) => state.boardReducer.currentBoard._id);\r\n    const listsReducer = useSelector((state) => state.boardReducer.currentBoard.lists);\r\n    const [rename, setRename] = useState();\r\n    const [isOpenListMenu, setIsOpenListMenu] = useState(false);\r\n    const [isOpenConfirmDeleteList, setIsOpenConfirmDeleteList] = useState(false);\r\n    const [isOpenListRename, setIsOpenListRename] = useState(false);\r\n    const [cardsState, setCardsState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setCardsState(\r\n            cards.map((card, index) => {\r\n                if (isEmpty(card)) return <span></span>;\r\n                return (\r\n                    <Draggable key={card._id} draggableId={`card-${card._id}`} index={index}>\r\n                        {(provided, snapshot) => {\r\n                            return (\r\n                                <div\r\n                                    className=\"card-wrapper\"\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}>\r\n                                    <CardItem\r\n                                        key={card._id}\r\n                                        listName={name}\r\n                                        listID={_id}\r\n                                        {...card}\r\n                                    />\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    </Draggable>\r\n                );\r\n            })\r\n        );\r\n    }, [cards, listsReducer, _id, name]);\r\n\r\n    const handleAddCartScrollReset = () => {\r\n        const listEl = document.querySelector(`#${droppableListDomID}`);\r\n        listEl.scrollTop = listEl.scrollHeight;\r\n    };\r\n\r\n    const handleOpenInputAddCard = async () => {\r\n        await setIsOpenInputAddCard(true);\r\n        handleAddCartScrollReset();\r\n    };\r\n\r\n    const handleOpenListRename = async () => {\r\n        setIsOpenListMenu(false);\r\n        await setIsOpenListRename(true);\r\n        inputRenameRef.current.focus();\r\n    };\r\n\r\n    const handleListRename = () => {\r\n        socket.emit('rename list', { rename, listID: _id, boardID });\r\n        setIsOpenListRename(false);\r\n    };\r\n\r\n    const handleDeleteList = () => {\r\n        socket.emit('delete list', { listID: _id, boardID });\r\n        setIsOpenConfirmDeleteList(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        closeOnClickOutside(renameFormRef, setIsOpenListRename);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                isOpen={isOpenConfirmDeleteList}\r\n                setIsOpen={setIsOpenConfirmDeleteList}\r\n                hasChoiceButton={true}\r\n                confirmMessage=\"Are your sure delete this list ?\"\r\n                confirmFunction={() => handleDeleteList()}\r\n            />\r\n\r\n            <div ref={ref} className=\"list\">\r\n                <div className=\"list__top\">\r\n                    {isOpenListRename ? (\r\n                        <form\r\n                            className=\"list__top__rename\"\r\n                            onSubmit={() => handleListRename()}\r\n                            ref={renameFormRef}>\r\n                            <input\r\n                                ref={inputRenameRef}\r\n                                className=\"list__top__rename__input\"\r\n                                type=\"text\"\r\n                                defaultValue={name}\r\n                                onChange={(e) => setRename(e.target.value)}\r\n                            />\r\n                            <div className=\"list__top__rename__btn-wrapper\">\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"list__top__rename__btn-wrapper__check list__top__rename__btn-wrapper__btn\">\r\n                                    Save\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setIsOpenListRename(false)}\r\n                                    type=\"button\"\r\n                                    className=\"list__top__rename__btn-wrapper__cancel list__top__rename__btn-wrapper__btn\">\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    ) : (\r\n                        <span className=\"list__top__title\">{name}</span>\r\n                    )}\r\n                    {!isOpenListRename && (\r\n                        <button\r\n                            className=\"list__top__btn-menu\"\r\n                            onClick={() => setIsOpenListMenu(true)}>\r\n                            <HiDotsHorizontal />\r\n                        </button>\r\n                    )}\r\n                    <DropDown\r\n                        top=\"28px\"\r\n                        right=\"-148px\"\r\n                        isOpen={isOpenListMenu}\r\n                        setIsOpen={setIsOpenListMenu}>\r\n                        <ul className=\"listmenu\">\r\n                            <li className=\"listmenu__item\">\r\n                                <button\r\n                                    className=\"listmenu__item__btn\"\r\n                                    onClick={() => handleOpenListRename()}>\r\n                                    Rename\r\n                                </button>\r\n                            </li>\r\n                            <li className=\"listmenu__item listmenu__divider\"></li>\r\n                            <li className=\"listmenu__item\">\r\n                                <button\r\n                                    className=\"listmenu__item__btn\"\r\n                                    onClick={() => setIsOpenConfirmDeleteList(true)}>\r\n                                    Delete this list\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </DropDown>\r\n                </div>\r\n                <Droppable droppableId={`card-droppable-${_id}`} type=\"CARD\">\r\n                    {(provided, snapshot) => {\r\n                        return (\r\n                            <ul\r\n                                id={droppableListDomID}\r\n                                className=\"list__content\"\r\n                                ref={provided.innerRef}\r\n                                {...provided.droppableProps}>\r\n                                {cardsState}\r\n                                {provided.placeholder}\r\n                                {placeHolderProps.type === 'CARD' && snapshot.isDraggingOver && (\r\n                                    <Placeholder {...placeHolderProps} />\r\n                                )}\r\n                                {isOpenInputAddCard && (\r\n                                    <AddListOrCard\r\n                                        onClick={() => handleOpenInputAddCard()}\r\n                                        isOpen={isOpenInputAddCard}\r\n                                        setIsOpen={setIsOpenInputAddCard}\r\n                                        listID={_id}\r\n                                        isFirstCard={isEmpty(cards) && true}\r\n                                    />\r\n                                )}\r\n                            </ul>\r\n                        );\r\n                    }}\r\n                </Droppable>\r\n                {!isOpenInputAddCard && (\r\n                    <AddListOrCard\r\n                        onClick={() => handleOpenInputAddCard()}\r\n                        isOpen={isOpenInputAddCard}\r\n                        setIsOpen={setIsOpenInputAddCard}\r\n                        listID={_id}\r\n                        scrollBottomReset={handleAddCartScrollReset}\r\n                        isFirstCard={isEmpty(cards) && true}\r\n                    />\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default ListItem;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getDraggedDom, isEmpty, reorderArray } from '../../../utils/utils';\r\nimport ListItem from './ListItem';\r\nimport AddListOrCard from './AddList';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { reorderList } from '../../../redux/actions/board.action';\r\nimport socket from '../../../utils/socket';\r\nimport Placeholder from './Placeholder';\r\n\r\nconst ListManager = (props) => {\r\n    const lists = useSelector((state) => state.boardReducer.currentBoard.lists);\r\n    const cards = useSelector((state) => state.boardReducer.currentBoard.cards);\r\n    const boardID = useSelector((state) => state.boardReducer.currentBoard._id);\r\n    const userID = useSelector((state) => state.userReducer._id);\r\n    const [listsState, setListsState] = useState([]);\r\n    const [placeHolderProps, setPlaceHolderProps] = useState({\r\n        destinationIndex: null,\r\n        draggableID: '',\r\n        currentListOverID: '',\r\n        type: '',\r\n    });\r\n    const [isDragScroll, setIsDragScroll] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const handleClearDraggedAnimation = () => {\r\n        if (!placeHolderProps.draggableID) return;\r\n\r\n        const draggedEl = getDraggedDom(placeHolderProps.draggableID).children[0];\r\n        draggedEl.classList.remove('list-dragged');\r\n        setPlaceHolderProps({});\r\n    };\r\n\r\n    const handleClearDraggedAnimationCallback = useCallback(\r\n        () => handleClearDraggedAnimation(),\r\n        [handleClearDraggedAnimation]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isEmpty(lists)) return console.log('LIST NULL');\r\n        setListsState(\r\n            lists.map((list, index) => {\r\n                return (\r\n                    <Draggable key={list._id} draggableId={`list-${list._id}`} index={index}>\r\n                        {(provided, snapshot) => {\r\n                            return (\r\n                                <div\r\n                                    className=\"list-wrapper\"\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}>\r\n                                    <ListItem {...list} placeHolderProps={placeHolderProps} />\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    </Draggable>\r\n                );\r\n            })\r\n        );\r\n    }, [lists, cards, placeHolderProps]);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mouseup', handleClearDraggedAnimationCallback);\r\n        return () => document.removeEventListener('mouseup', handleClearDraggedAnimationCallback);\r\n    }, [placeHolderProps, handleClearDraggedAnimationCallback]);\r\n\r\n    const handleDragScroll = (e) => {\r\n        if (!isDragScroll) return;\r\n        const el = e.target;\r\n        const addScrollValue = 1;\r\n        if (Math.sign(e.movementX) === -1) {\r\n            el.scrollLeft += addScrollValue * Math.abs(e.movementX);\r\n        } else if (Math.sign(e.movementX) === 1) {\r\n            el.scrollLeft -= addScrollValue * e.movementX;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mouseup', (e) => {\r\n            setIsDragScroll(false);\r\n        });\r\n    }, []);\r\n\r\n    const getListIDByDraggableID = (draggabID) => {\r\n        return draggabID.substring(15);\r\n    };\r\n\r\n    const handleAddListScrollReset = () => {\r\n        const boardEl = document.querySelector('#board');\r\n        boardEl.scrollLeft = boardEl.scrollWidth;\r\n    };\r\n\r\n    const handleDragStart = (dragprops) => {\r\n        const draggedEl = getDraggedDom(dragprops.draggableId).children[0];\r\n        draggedEl.classList.add('list-dragged');\r\n        setPlaceHolderProps({});\r\n        setPlaceHolderProps({\r\n            destinationIndex: dragprops.source.index,\r\n            draggableID: dragprops.draggableId,\r\n            type: dragprops.type,\r\n        });\r\n    };\r\n\r\n    const handleDragUpdate = (dragprops) => {\r\n        if (!dragprops.destination) return;\r\n        setPlaceHolderProps({});\r\n        setPlaceHolderProps({\r\n            destinationIndex: dragprops.destination.index,\r\n            draggableID: dragprops.draggableId,\r\n            currentListOverID: dragprops.destination.droppableId,\r\n            type: dragprops.type,\r\n        });\r\n    };\r\n\r\n    const reorderCardFunc = (\r\n        currentListID,\r\n        destinationListID,\r\n        currentCardIndex,\r\n        destinationCardIndex,\r\n        lists\r\n    ) => {\r\n        const newLists = [...lists];\r\n        const currentListIndex = newLists.findIndex((list) => list._id === currentListID);\r\n        const destinationListIndex = newLists.findIndex((list) => list._id === destinationListID);\r\n        if (currentListIndex === -1 || destinationListIndex === -1) return newLists;\r\n        const cardDragged = newLists[currentListIndex].cards[currentCardIndex];\r\n        newLists[currentListIndex].cards.splice(currentCardIndex, 1);\r\n        newLists[destinationListIndex].cards.splice(destinationCardIndex, 0, cardDragged);\r\n        return newLists;\r\n    };\r\n\r\n    const handleDragEnd = (dragprops) => {\r\n        handleClearDraggedAnimationCallback();\r\n        if (!dragprops.destination) return;\r\n        const currentIndex = dragprops.source.index;\r\n        const destinationIndex = dragprops.destination.index;\r\n        if (dragprops.type === 'LIST') {\r\n            const listsReorder = reorderArray(currentIndex, destinationIndex, lists);\r\n            dispatch(reorderList(listsReorder, boardID));\r\n            socket.emit('reorder list', { listsReorder, boardID, userID });\r\n        } else if (dragprops.type === 'CARD') {\r\n            const currentListID = getListIDByDraggableID(dragprops.source.droppableId);\r\n            const destinationListID = getListIDByDraggableID(dragprops.destination.droppableId);\r\n            const currentCardIndex = dragprops.source.index;\r\n            const destinationCardIndex = dragprops.destination.index;\r\n            const listsReorder = reorderCardFunc(\r\n                currentListID,\r\n                destinationListID,\r\n                currentCardIndex,\r\n                destinationCardIndex,\r\n                lists\r\n            );\r\n            dispatch(reorderList(listsReorder, boardID));\r\n            socket.emit('reorder list', { listsReorder, boardID, userID });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <DragDropContext\r\n            onDragUpdate={handleDragUpdate}\r\n            onDragStart={handleDragStart}\r\n            onDragEnd={handleDragEnd}>\r\n            <Droppable direction=\"horizontal\" droppableId=\"list-droppable\" type=\"LIST\">\r\n                {(provided, snapshot) => {\r\n                    return (\r\n                        <div\r\n                            id=\"board\"\r\n                            ref={provided.innerRef}\r\n                            onMouseDown={(e) => {\r\n                                if (e.target.id === 'board') {\r\n                                    setIsDragScroll(true);\r\n                                }\r\n                            }}\r\n                            onMouseMove={handleDragScroll}\r\n                            onMouseUp={() => setIsDragScroll(false)}>\r\n                            {listsState}\r\n                            {provided.placeholder}\r\n                            {!isEmpty(placeHolderProps) &&\r\n                                placeHolderProps.type === 'LIST' &&\r\n                                snapshot.isDraggingOver && <Placeholder {...placeHolderProps} />}\r\n                            <AddListOrCard\r\n                                style={{ paddingRight: '25px' }}\r\n                                scrollLeftReset={handleAddListScrollReset}\r\n                                isFirstList={isEmpty(listsState) && true}\r\n                                isAddList={true}\r\n                            />\r\n                        </div>\r\n                    );\r\n                }}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n};\r\n\r\nexport default ListManager;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport PageTemplate from '../components/templates/PageTemplate';\r\nimport { connect, useDispatch, useSelector } from 'react-redux';\r\nimport { cleanCurrentBoard, getBoard } from '../redux/actions/board.action';\r\nimport Button from '../components/utils/Button';\r\nimport { HiDotsHorizontal } from 'react-icons/hi';\r\nimport { MdLock, MdAdd } from 'react-icons/md';\r\nimport { getPicturePath, isEmpty } from '../utils/utils';\r\nimport InviteMember from '../components/templates/dropdown/InviteMember';\r\nimport BoardError from './BoardError';\r\nimport PrivateOrPublic from '../components/templates/dropdown/PrivateOrPublic';\r\nimport BoardMenu from '../components/templates/dropdown/BoardMenu';\r\nimport ListManager from '../components/templates/board/ListManager';\r\n\r\nconst Board = (props) => {\r\n    const { id } = useParams();\r\n    const board = useSelector((state) => state.boardReducer.currentBoard);\r\n    const dispatch = useDispatch();\r\n    const [isOpenInviteMember, setIsOpenInviteMember] = useState(false);\r\n    const [isOpenPrivateOrPublic, setIsOpenPrivateOrPublic] = useState(false);\r\n    const [isOpenBoardMenu, setIsOpenBoardMenu] = useState(false);\r\n\r\n    useEffect(() => {\r\n        dispatch(getBoard(id));\r\n        return () => {\r\n            dispatch(cleanCurrentBoard());\r\n            setIsOpenInviteMember(false);\r\n            setIsOpenPrivateOrPublic(false);\r\n            setIsOpenBoardMenu(false);\r\n        };\r\n    }, [dispatch, id]);\r\n\r\n    return (\r\n        // METTRE LE NOM DU BOARD DYNAMIQUEMENT DANS LE TITRE\r\n        <>\r\n            {board === 'BOARD_ERROR' ? (\r\n                <BoardError />\r\n            ) : (\r\n                <PageTemplate\r\n                    boardName={board.name}\r\n                    pageTitle={`Board - ${board.name}`}\r\n                    isHeaderBoard={true}>\r\n                    <div className=\"board\">\r\n                        <BoardMenu isOpen={isOpenBoardMenu} setIsOpen={setIsOpenBoardMenu} />\r\n\r\n                        {board.NOT_MEMBER ? (\r\n                            <p className=\"board__not-member\">\r\n                                This board is public , you can't interact with him if you are not\r\n                                member\r\n                            </p>\r\n                        ) : (\r\n                            <div className=\"board__top\">\r\n                                <div className=\"board__top__left\">\r\n                                    <span>\r\n                                        <Button\r\n                                            className=\"board__top__left__btn-state\"\r\n                                            onClick={() => setIsOpenPrivateOrPublic(true)}>\r\n                                            <MdLock className=\"board__top__left__btn-state__icon\" />\r\n                                            {board.isPrivate ? 'Private' : 'Public'}\r\n                                        </Button>\r\n                                        <PrivateOrPublic\r\n                                            isOpen={isOpenPrivateOrPublic}\r\n                                            setIsOpen={setIsOpenPrivateOrPublic}\r\n                                        />\r\n                                    </span>\r\n                                    <div className=\"board__top__left__members\">\r\n                                        <ul className=\"board__top__left__members__list\">\r\n                                            {!isEmpty(board.members) &&\r\n                                                board.members.map(({ picture, _id, pseudo }) => {\r\n                                                    return (\r\n                                                        <li\r\n                                                            key={_id}\r\n                                                            className=\"board__top__left__members__list__item\">\r\n                                                            <img\r\n                                                                src={getPicturePath(\r\n                                                                    'user',\r\n                                                                    picture\r\n                                                                )}\r\n                                                                alt={`${pseudo} profil`}\r\n                                                                style={{ width: '100%' }}\r\n                                                            />\r\n                                                        </li>\r\n                                                    );\r\n                                                })}\r\n                                        </ul>\r\n                                        <div className=\"board__top__left__members__adduser-wrapper\">\r\n                                            <Button\r\n                                                className=\"board__top__left__members__btn-adduser\"\r\n                                                onClick={() => setIsOpenInviteMember(true)}>\r\n                                                <MdAdd />\r\n                                            </Button>\r\n                                            <InviteMember\r\n                                                isOpen={isOpenInviteMember}\r\n                                                setIsOpen={setIsOpenInviteMember}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"board__top__right\">\r\n                                    <Button\r\n                                        className=\"board__top__right__btn-menu\"\r\n                                        onClick={() => setIsOpenBoardMenu(true)}>\r\n                                        <HiDotsHorizontal className=\"board__top__right__btn-menu__icon\" />\r\n                                        <span className=\"board__top__right__btn-menu__label\">\r\n                                            Show Menu\r\n                                        </span>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {/* ALL LIST */}\r\n                        <ListManager />\r\n                    </div>\r\n                </PageTemplate>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default connect()(Board);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { isEmpty } from '../../utils/utils';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                !isEmpty(!user) ? <Component /> : <Redirect to=\"/login\" />\r\n            }></Route>\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport Footer from '../components/templates/Footer';\r\nimport Home from '../pages/Home';\r\nimport Login from '../pages/Auth/Login';\r\nimport Register from '../pages/Auth/Register';\r\nimport Board from '../pages/Board';\r\nimport { useSelector } from 'react-redux';\r\nimport { isEmpty } from '../utils/utils';\r\nimport PrivateRoute from '../components/routes/PrivateRoute.js';\r\n// import BoardError from '../pages/BoardError';\r\n\r\nconst MainRouter = (props) => {\r\n    const user = useSelector((state) => state.userReducer);\r\n    const isLoading = useSelector((state) => state.loaderReducer);\r\n    // const redirect = useSelector((state) => state.redirectReducer);\r\n    // FAIRE UNE ROUTE PRIVE POUR REDIGER VERS LOGIN SI PAS AUTH\r\n    // ET ETRE REDIGE SUR LA PAGE ACTUEL SANS BUG (CAR ACTULLEMENT BUG 1 FOIS SUR 5...)\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                {/* {redirect && <Redirect to={redirect} />} */}\r\n                {!isLoading && isEmpty(user) && <Redirect to=\"/login\" />}\r\n                <Switch>\r\n                    <PrivateRoute exact path=\"/allboards\" component={Home} />\r\n                    <PrivateRoute exact path=\"/board/:id\" component={Board} />\r\n                    <Route exact path=\"/login\" component={Login} />\r\n                    <Route exact path=\"/register\" component={Register} />\r\n                    {!isEmpty(user) && document.location.pathname === '/' && (\r\n                        <Redirect to=\"/login\" />\r\n                    )}\r\n                    <>\r\n                        <h1>Error 404</h1>\r\n                    </>\r\n                </Switch>\r\n                <Footer />\r\n            </Router>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MainRouter;\r\n","import React from 'react';\r\nimport Loader from '../utils/Loader';\r\n\r\nconst PageLoader = (props) => {\r\n    return (\r\n        <div className=\"pageloader\">\r\n            <Loader radius=\"280\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageLoader;\r\n","import React from 'react';\r\n\r\nconst Toast = ({ icon, info, type, onClick, style }) => {\r\n    return (\r\n        <li style={style} className={`toast toast-${type}`} onClick={onClick}>\r\n            <div className=\"toast__icon\">{icon}</div>\r\n            <span className=\"toast__info\">{info}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Toast;\r\n","import React from 'react';\r\nimport Toast from '../utils/Toast';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { removeToast } from '../../redux/actions/toast.action';\r\n\r\nconst PopupManagerStyle = {\r\n    position: 'absolute',\r\n    top: '0',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    zIndex: '9999999',\r\n    listStyle: 'none',\r\n    wordBreak: 'break-all',\r\n    maxHeight: '100vh',\r\n};\r\n\r\nconst PopupManager = (props) => {\r\n    const toasts = useSelector((state) => state.toastReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <ul style={PopupManagerStyle}>\r\n            <TransitionGroup>\r\n                {toasts.map((toast, index) => {\r\n                    return (\r\n                        <CSSTransition\r\n                            // unmountOnExit\r\n                            key={index}\r\n                            appear={true}\r\n                            timeout={300}\r\n                            classNames=\"toast\">\r\n                            <Toast\r\n                                key={index + 1}\r\n                                icon={toast.icon}\r\n                                info={toast.info}\r\n                                type={toast.type}\r\n                                onClick={() => dispatch(removeToast(toast.id))}\r\n                            />\r\n                        </CSSTransition>\r\n                    );\r\n                })}\r\n            </TransitionGroup>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default PopupManager;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    addCard,\r\n    addCardLabel,\r\n    addList,\r\n    assignMemberToCard,\r\n    banMember,\r\n    changeCardDescription,\r\n    changeCardPicture,\r\n    changeCardTitle,\r\n    changeDescription,\r\n    changeState,\r\n    deleteBoard,\r\n    deleteCardLabel,\r\n    deleteList,\r\n    joinBoard,\r\n    leaveBoard,\r\n    renameList,\r\n    reorderList,\r\n} from '../redux/actions/board.action';\r\nimport { addNotification } from '../redux/actions/user.action';\r\nimport socket from '../utils/socket';\r\n\r\nconst SocketManager = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const dispatchCallback = useCallback(\r\n        (func) => {\r\n            dispatch(func);\r\n        },\r\n        [dispatch]\r\n    );\r\n\r\n    useEffect(() => {\r\n        socket.on('send invitation', (invitations) => {\r\n            dispatchCallback(addNotification(invitations));\r\n        });\r\n        socket.on('join board', ({ user, board }) => {\r\n            dispatchCallback(joinBoard(user, board));\r\n        });\r\n        socket.on('change state', ({ boardID, state }) => {\r\n            dispatchCallback(changeState(boardID, state));\r\n        });\r\n        socket.on('ban member', ({ boardID, memberBannedID }) => {\r\n            dispatchCallback(banMember(boardID, memberBannedID));\r\n        });\r\n        socket.on('change description', ({ description, boardID }) => {\r\n            console.log('change desc scktio');\r\n            dispatchCallback(changeDescription(description, boardID));\r\n        });\r\n        socket.on('add list', ({ listCreated, boardID, userID }) => {\r\n            console.log('add list scktio');\r\n            dispatchCallback(addList(listCreated, boardID, userID));\r\n        });\r\n        socket.on('add card', ({ cardCreated, listID, boardID, userID }) => {\r\n            console.log('add card scktio');\r\n            dispatchCallback(addCard(cardCreated, listID, boardID));\r\n        });\r\n        socket.on('rename list', ({ rename, listID, boardID }) => {\r\n            console.log('rename list scktio');\r\n            dispatchCallback(renameList(rename, listID, boardID));\r\n        });\r\n        socket.on('delete list', ({ listID, boardID }) => {\r\n            console.log('delete list scktio');\r\n            dispatchCallback(deleteList(listID, boardID));\r\n        });\r\n        socket.on('reorder list', ({ listsReorder, boardID, userID }) => {\r\n            console.log('reorder list scktio');\r\n            dispatchCallback(reorderList(listsReorder, boardID, userID));\r\n        });\r\n        socket.on('assign member card', ({ assignedMembers, boardID, listID, cardID }) => {\r\n            dispatchCallback(assignMemberToCard(assignedMembers, boardID, listID, cardID));\r\n        });\r\n        socket.on('change card title', ({ boardID, listID, cardID, cardTitle }) => {\r\n            dispatchCallback(changeCardTitle(boardID, listID, cardID, cardTitle));\r\n        });\r\n        socket.on('change card description', ({ boardID, listID, cardID, description }) => {\r\n            dispatchCallback(changeCardDescription(boardID, listID, cardID, description));\r\n        });\r\n        socket.on('card add label', ({ boardID, listID, cardID, label }) => {\r\n            dispatchCallback(addCardLabel(boardID, listID, cardID, label));\r\n        });\r\n        socket.on('card delete label', ({ boardID, listID, cardID, labelID }) => {\r\n            dispatchCallback(deleteCardLabel(boardID, listID, cardID, labelID));\r\n        });\r\n        socket.on('card change picture', ({ boardID, listID, cardID, picture }) => {\r\n            dispatchCallback(changeCardPicture(boardID, listID, cardID, picture));\r\n        });\r\n        socket.on('leave board', ({ userID, boardID }) => {\r\n            console.log('leave board scktio');\r\n            dispatchCallback(leaveBoard(userID, boardID));\r\n        });\r\n        socket.on('delete board', (boardID) => {\r\n            dispatchCallback(deleteBoard(boardID));\r\n        });\r\n    }, [dispatchCallback]);\r\n\r\n    return <></>;\r\n};\r\n\r\nexport default SocketManager;\r\n","import React, { useEffect } from 'react';\r\nimport Router from './router/index';\r\nimport PageLoader from './components/templates/PageLoader';\r\nimport { useSelector } from 'react-redux';\r\nimport ToastManager from './components/templates/ToastManager';\r\nimport SocketManager from './socket/socketManager';\r\nimport ModalManager from './components/templates/modal/ModalManager';\r\n\r\nconst App = (props) => {\r\n    const isLoading = useSelector((state) => state.loaderReducer);\r\n\r\n    useEffect(() => {\r\n        isLoading\r\n            ? (document.querySelector('html').style = 'overflow : hidden')\r\n            : (document.querySelector('html').style = 'overflow : visible');\r\n    }, [isLoading]);\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            {isLoading && <PageLoader />}\r\n            <ModalManager />\r\n            <SocketManager />\r\n            <ToastManager />\r\n            <Router />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport './scss/index.scss';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport { rememberMe } from './redux/actions/user.action';\r\n\r\nstore.dispatch(rememberMe());\r\n\r\nReactDOM.render(\r\n    <CookiesProvider>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </CookiesProvider>,\r\n    document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}